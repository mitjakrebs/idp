%
\begin{isabellebody}%
\setisabellecontext{Edmonds{\isacharunderscore}{\kern0pt}Karp}%
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsection{Shortest augmenting path algorithm%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\begin{isamarkuptext}%
This section specifies an algorithm that solves the maximum cardinality matching problem in
bipartite graphs, and verifies its correctness.

The algorithm is based on Berge's theorem, which states that a matching $M$ is maximum if and only
if there is no augmenting path w.r.t.\ $M$. This immediately suggests the following algorithm for
finding a maximum matching: repeatedly find an augmenting path and augment the matching until there
are no augmenting paths. We claim that the algorithm specified below, in each iteration, finds not
just any augmenting path but a shortest one. We do not verify this claim, however, as the
distinction is not relevant for the correctness of the algorithm.

Hence, the algorithm takes the same general approach as the Edmonds-Karp algorithm, which solves the
maximum flow problem, to which the maximum cardinality matching problem reduces.%
\end{isamarkuptext}\isamarkuptrue%
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
\isacommand{theory}\isamarkupfalse%
\ Edmonds{\isacharunderscore}{\kern0pt}Karp\isanewline
\ \ \isakeyword{imports}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharslash}{\kern0pt}Alternating{\isacharunderscore}{\kern0pt}BFS{\isacharslash}{\kern0pt}Alternating{\isacharunderscore}{\kern0pt}BFS{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharslash}{\kern0pt}Graph{\isacharslash}{\kern0pt}Undirected{\isacharunderscore}{\kern0pt}Graph{\isacharslash}{\kern0pt}Augmenting{\isacharunderscore}{\kern0pt}Path{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharslash}{\kern0pt}Graph{\isacharslash}{\kern0pt}Undirected{\isacharunderscore}{\kern0pt}Graph{\isacharslash}{\kern0pt}Bipartite{\isacharunderscore}{\kern0pt}Graph{\isachardoublequoteclose}\isanewline
\isakeyword{begin}%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Specification of the algorithm%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{locale}\isamarkupfalse%
\ edmonds{\isacharunderscore}{\kern0pt}karp\ {\isacharequal}{\kern0pt}\isanewline
\ \ alt{\isacharunderscore}{\kern0pt}bfs\ \isakeyword{where}\isanewline
\ \ Map{\isacharunderscore}{\kern0pt}update\ {\isacharequal}{\kern0pt}\ Map{\isacharunderscore}{\kern0pt}update\ \isakeyword{and}\isanewline
\ \ P{\isacharunderscore}{\kern0pt}update\ {\isacharequal}{\kern0pt}\ P{\isacharunderscore}{\kern0pt}update\ {\isacharplus}{\kern0pt}\isanewline
\ \ M{\isacharcolon}{\kern0pt}\ Map{\isacharunderscore}{\kern0pt}by{\isacharunderscore}{\kern0pt}Ordered\ \isakeyword{where}\isanewline
\ \ empty\ {\isacharequal}{\kern0pt}\ M{\isacharunderscore}{\kern0pt}empty\ \isakeyword{and}\isanewline
\ \ update\ {\isacharequal}{\kern0pt}\ M{\isacharunderscore}{\kern0pt}update\ \isakeyword{and}\isanewline
\ \ delete\ {\isacharequal}{\kern0pt}\ M{\isacharunderscore}{\kern0pt}delete\ \isakeyword{and}\isanewline
\ \ lookup\ {\isacharequal}{\kern0pt}\ M{\isacharunderscore}{\kern0pt}lookup\ \isakeyword{and}\isanewline
\ \ inorder\ {\isacharequal}{\kern0pt}\ M{\isacharunderscore}{\kern0pt}inorder\ \isakeyword{and}\isanewline
\ \ inv\ {\isacharequal}{\kern0pt}\ M{\isacharunderscore}{\kern0pt}inv\ \isakeyword{for}\isanewline
\ \ Map{\isacharunderscore}{\kern0pt}update\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}linorder\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}s\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}n\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}n{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ P{\isacharunderscore}{\kern0pt}update\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ M{\isacharunderscore}{\kern0pt}empty\ \isakeyword{and}\isanewline
\ \ M{\isacharunderscore}{\kern0pt}update\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ M{\isacharunderscore}{\kern0pt}delete\ \isakeyword{and}\isanewline
\ \ M{\isacharunderscore}{\kern0pt}lookup\ \isakeyword{and}\isanewline
\ \ M{\isacharunderscore}{\kern0pt}inorder\ \isakeyword{and}\isanewline
\ \ M{\isacharunderscore}{\kern0pt}inv\isanewline
\isakeyword{begin}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertex\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertex\ M\ v\ {\isasymequiv}\ M{\isacharunderscore}{\kern0pt}lookup\ M\ v\ {\isacharequal}{\kern0pt}\ None{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ free{\isacharunderscore}{\kern0pt}vertices\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}s\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ list{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}free{\isacharunderscore}{\kern0pt}vertices\ V\ M\ {\isasymequiv}\ filter\ {\isacharparenleft}{\kern0pt}is{\isacharunderscore}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertex\ M{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Set{\isacharunderscore}{\kern0pt}inorder\ V{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\begin{isamarkuptext}%
To find an augmenting path, we use a modified BFS \isa{local{\isachardot}{\kern0pt}alt{\isacharunderscore}{\kern0pt}bfs}, which takes two graphs
\isa{G{\isadigit{1}}}, \isa{G{\isadigit{2}}} as well as a source vertex \isa{src} as input and outputs a parent
relation such that any path from \isa{src} induced by the parent relation is a shortest
alternating path, that is, it alternates between edges in \isa{G{\isadigit{2}}} and \isa{G{\isadigit{1}}} and is shortest
among all such paths.

Let $(\isa{L}\cup \isa{R},\isa{G})$ be a bipartite graph and \isa{M} be a matching in \isa{G}.
Recall that an augmenting path in \isa{G} w.r.t.\ \isa{M} is a path between two free vertices
that alternates between edges not in \isa{M} and edges in \isa{M}. Since \isa{G} is bipartite,
any such path is between a free vertex in \isa{L} and a free vertex in \isa{R} (every augmenting
path in a bipartite graph has odd length, and every path of odd length starting at a vertex in
\isa{L} ends at a vertex in \isa{R}). This suggests to let \isa{src} be a free vertex
\isa{v} in \isa{L}, \isa{G{\isadigit{1}}} be the graph comprising all edges contained in \isa{M},
and \isa{G{\isadigit{2}}} be the graph comprising all other edges.

As there may not be an augmenting path starting at \isa{v} but one starting at another free vertex
in \isa{L} and \isa{local{\isachardot}{\kern0pt}alt{\isacharunderscore}{\kern0pt}bfs} takes only a single source vertex as input, we augment our input
for \isa{local{\isachardot}{\kern0pt}alt{\isacharunderscore}{\kern0pt}bfs} as follows. Let \isa{G{\isacharprime}{\kern0pt}} be the graph comprising all edges contained in
\isa{M} and \isa{G{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}} be the graph comprising all other edges. We add a new vertex \isa{s} to
\isa{G{\isacharprime}{\kern0pt}} and connect it to all free vertices in \isa{L}. Let \isa{p} be a path in graph
\isa{G}, that is, not containing \isa{s}. We then have that \isa{p} is an augmenting path from
a free vertex in \isa{L} if and only if \isa{s\ {\isacharhash}{\kern0pt}\ p} is a path alternating between edges in
\isa{G{\isacharprime}{\kern0pt}} and \isa{G{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}}, ending at a free vertex in \isa{R}.

Moreover, we add another new vertex \isa{t} to graph \isa{G{\isacharprime}{\kern0pt}} and connect all free vertices in
\isa{R} to it. Again, let \isa{p} be a path in graph \isa{G}, that is, containing neither
\isa{s} nor \isa{t}. We then have that \isa{p} is an augmenting path from a free vertex in
\isa{L} if and only if \isa{s\ {\isacharhash}{\kern0pt}\ p\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}t{\isacharbrackright}{\kern0pt}} is a path alternating between edges in \isa{G{\isacharprime}{\kern0pt}} and
\isa{G{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}}.

We now choose the input for \isa{local{\isachardot}{\kern0pt}alt{\isacharunderscore}{\kern0pt}bfs} as follows. We set \isa{G{\isadigit{1}}} to be \isa{G{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}}, that
is, the graph comprising all edges in graph \isa{G} not in matching \isa{M}, \isa{G{\isadigit{2}}} to be
\isa{G{\isacharprime}{\kern0pt}}, that is, the graph comprising all edges in \isa{M} as well as two new vertices
\isa{s}, \isa{t} such that \isa{s} is connected to all free vertices in \isa{L} and all free
vertices in \isa{R} are connected to \isa{t}, and \isa{src} to be \isa{s}. See figure \ref{fig:3} for an illustration.%
\begin{figure}
    \centering
    \begin{tikzpicture}
        \foreach \i/\y in {1/0.9375, 2/2.8125, 3/4.6875, 4/6.5625} {
            \coordinate (l\i) at (2.25,\y);
        }

        \foreach \i/\y in {1/0.9375, 2/2.8125, 3/4.6875, 4/6.5625} {
            \coordinate (r\i) at (5.75,\y);
        }

        \coordinate (s) at (0,3.75);
        \coordinate (t) at (8,3.75);

        \filldraw[fill=blue!25,draw=black] (1.5,0) rectangle ++(1.5,7.5);
        \filldraw[fill=red!25,draw=black] (5,0) rectangle ++(1.5,7.5);

        % Edges
        \foreach \u/\v in {l1/r3, l2/r1, l2/r4, l3/r2, l3/r3,l4/r4} {
            \draw[thick] (\u) -- (\v);
        }

        \foreach \u/\v in {l1/r1, l3/r4} {
            \draw[blue,ultra thick] (\u) -- (\v);
        }

        \foreach \v in {l2, l4} {
            \draw[red,ultra thick] (s) -- (\v);
        }

        \foreach \v in {r2, r3} {
            \draw[red,ultra thick] (\v) -- (t);
        }
        

        % Vertices
        \foreach \v in {l2, l4, r2, r3} {
            \node[draw,fill=magenta!75,circle,inner sep=0,minimum size=10pt] at (\v) {};
        }

        \foreach \v in {l1, l3, r1, r4} {
            \node[draw,fill=cyan!25,circle,inner sep=0,minimum size=10pt] at (\v) {};
        }

        \node[draw,fill=white,circle,inner sep=0,minimum size=10pt] at (s) {$s$};

        \node[draw,fill=white,circle,inner sep=0,minimum size=10pt] at (t) {$t$};
    \end{tikzpicture}
    \caption{Augmentation of the input for the modified BFS. Edges in the matching are depicted as blue lines. Free vertices are depicted as magenta circles.}
    \label{fig:3}
\end{figure}
\end{isamarkuptext}\isamarkuptrue%
\isacommand{definition}\isamarkupfalse%
\ G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}n{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ M\ {\isasymequiv}\ List{\isachardot}{\kern0pt}fold\ G{\isachardot}{\kern0pt}insert\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}inorder\ M{\isacharparenright}{\kern0pt}\ Map{\isacharunderscore}{\kern0pt}empty{\isachardoublequoteclose}%
\begin{isamarkuptext}%
Graph \isa{G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{1}}} is the graph induced by the current matching \isa{M}.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{definition}\isamarkupfalse%
\ G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}s\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}n{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ L\ s\ M\ {\isasymequiv}\ List{\isachardot}{\kern0pt}fold\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}insert{\isacharunderscore}{\kern0pt}edge\ s{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ L\ M{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\begin{isamarkuptext}%
Graph \isa{G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{2}}} connects vertex \isa{s} in graph \isa{G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{1}}} to every free vertex in
\isa{L}.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{definition}\isamarkupfalse%
\ G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{3}}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}s\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}s\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}n{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{3}}\ L\ R\ s\ t\ M\ {\isasymequiv}\ List{\isachardot}{\kern0pt}fold\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}insert{\isacharunderscore}{\kern0pt}edge\ t{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ R\ M{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ L\ s\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\begin{isamarkuptext}%
Graph \isa{G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{3}}} connects every free vertex in \isa{R} to vertex \isa{t} in graph
\isa{G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{2}}}.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{definition}\isamarkupfalse%
\ G{\isadigit{2}}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}s\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}s\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}n{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}G{\isadigit{2}}\ {\isasymequiv}\ G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{3}}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ G{\isadigit{1}}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}n\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}n\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}n{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}G{\isadigit{1}}\ {\isasymequiv}\ G{\isachardot}{\kern0pt}difference{\isachardoublequoteclose}%
\begin{isamarkuptext}%
As described above, the algorithm repeatedly finds an augmenting path and augments the matching
until there are no augmenting paths. And there are no augmenting paths if

%
\begin{enumerate}%
\item either side of the bipartite graph contains no free vertex, or

\item \isa{local{\isachardot}{\kern0pt}alt{\isacharunderscore}{\kern0pt}bfs} does not find an alternating path between vertices \isa{s} and \isa{t}.%
\end{enumerate}%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{definition}\isamarkupfalse%
\ done{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}s\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}s\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}done{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ L\ R\ M\ {\isasymequiv}\ free{\isacharunderscore}{\kern0pt}vertices\ L\ M\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isasymor}\ free{\isacharunderscore}{\kern0pt}vertices\ R\ M\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ done{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ t\ m\ {\isasymequiv}\ P{\isacharunderscore}{\kern0pt}lookup\ m\ t\ {\isacharequal}{\kern0pt}\ None{\isachardoublequoteclose}\isanewline
\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ augment\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ path\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}augment\ M\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ M{\isachardoublequoteclose}\ {\isacharbar}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}augment\ M\ {\isacharbrackleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharbrackright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ v\ u\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ u\ v\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isacharbar}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}augment\ M\ {\isacharparenleft}{\kern0pt}u\ {\isacharhash}{\kern0pt}\ v\ {\isacharhash}{\kern0pt}\ w\ {\isacharhash}{\kern0pt}\ ws{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ augment\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ v\ u\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ u\ v\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}delete\ w\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}w\ {\isacharhash}{\kern0pt}\ ws{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{function}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}domintros{\isacharparenright}{\kern0pt}\ loop{\isacharprime}{\kern0pt}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}loop{\isacharprime}{\kern0pt}\ G\ L\ R\ s\ t\ M\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ {\isacharparenleft}{\kern0pt}if\ done{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ L\ R\ M\ then\ M\isanewline
\ \ \ \ else\ if\ done{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ t\ {\isacharparenleft}{\kern0pt}alt{\isacharunderscore}{\kern0pt}bfs\ {\isacharparenleft}{\kern0pt}G{\isadigit{1}}\ G\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ s{\isacharparenright}{\kern0pt}\ then\ M\isanewline
\ \ \ \ \ \ \ \ \ else\ loop{\isacharprime}{\kern0pt}\ G\ L\ R\ s\ t\ {\isacharparenleft}{\kern0pt}augment\ M\ {\isacharparenleft}{\kern0pt}butlast\ {\isacharparenleft}{\kern0pt}tl\ {\isacharparenleft}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}alt{\isacharunderscore}{\kern0pt}bfs\ {\isacharparenleft}{\kern0pt}G{\isadigit{1}}\ G\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ s{\isacharparenright}{\kern0pt}\ t{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ pat{\isacharunderscore}{\kern0pt}completeness\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ edmonds{\isacharunderscore}{\kern0pt}karp\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}n\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}s\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}s\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}edmonds{\isacharunderscore}{\kern0pt}karp\ G\ L\ R\ s\ t\ {\isasymequiv}\ loop{\isacharprime}{\kern0pt}\ G\ L\ R\ s\ t\ M{\isacharunderscore}{\kern0pt}empty{\isachardoublequoteclose}\isanewline
\isanewline
\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\ m{\isacharunderscore}{\kern0pt}tbd\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}n\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}s\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}s\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}m{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M\ {\isasymequiv}\ let\ G{\isadigit{2}}\ {\isacharequal}{\kern0pt}\ G{\isadigit{2}}\ L\ R\ s\ t\ M\ in\ alt{\isacharunderscore}{\kern0pt}bfs\ {\isacharparenleft}{\kern0pt}G{\isadigit{1}}\ G\ G{\isadigit{2}}{\isacharparenright}{\kern0pt}\ G{\isadigit{2}}\ s{\isachardoublequoteclose}\isanewline
\isanewline
\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\ p{\isacharunderscore}{\kern0pt}tbd\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}n\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}s\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}s\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ path{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}p{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M\ {\isasymequiv}\ butlast\ {\isacharparenleft}{\kern0pt}tl\ {\isacharparenleft}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}m{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ t{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\ M{\isacharunderscore}{\kern0pt}tbd\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ graph{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}tbd\ M\ {\isasymequiv}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}\ {\isacharbar}{\kern0pt}u\ v{\isachardot}{\kern0pt}\ M{\isacharunderscore}{\kern0pt}lookup\ M\ u\ {\isacharequal}{\kern0pt}\ Some\ v{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\ P{\isacharunderscore}{\kern0pt}tbd\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ path\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ graph{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}tbd\ p\ {\isasymequiv}\ set\ {\isacharparenleft}{\kern0pt}edges{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}path\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}symmetric{\isacharunderscore}{\kern0pt}Map\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}symmetric{\isacharunderscore}{\kern0pt}Map\ M\ {\isasymequiv}\ {\isasymforall}u\ v{\isachardot}{\kern0pt}\ M{\isacharunderscore}{\kern0pt}lookup\ M\ u\ {\isacharequal}{\kern0pt}\ Some\ v\ {\isasymlongleftrightarrow}\ M{\isacharunderscore}{\kern0pt}lookup\ M\ v\ {\isacharequal}{\kern0pt}\ Some\ u{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{end}\isamarkupfalse%
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Verification of the correctness of the algorithm%
}
\isamarkuptrue%
%
\isamarkupsubsubsection{Assumptions on the input%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\begin{isamarkuptext}%
Algorithm \isa{edmonds{\isacharunderscore}{\kern0pt}karp{\isachardot}{\kern0pt}edmonds{\isacharunderscore}{\kern0pt}karp} expects an input $\langle \isa{G},\isa{L},\isa{R},
\isa{s},\isa{t}\rangle$ such that

%
\begin{itemize}%
\item $(\isa{L}\cup \isa{R},\isa{G})$ is a bipartite graph, and

\item \isa{s} and \isa{t} are two new vertices, that is, vertices not in \isa{G},%
\end{itemize}


and the correctness theorem will assume such an input. Let us formally specify these assumptions.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{locale}\isamarkupfalse%
\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input\ {\isacharequal}{\kern0pt}\ edmonds{\isacharunderscore}{\kern0pt}karp\ \isakeyword{where}\isanewline
\ \ Map{\isacharunderscore}{\kern0pt}update\ {\isacharequal}{\kern0pt}\ Map{\isacharunderscore}{\kern0pt}update\ \isakeyword{and}\isanewline
\ \ P{\isacharunderscore}{\kern0pt}update\ {\isacharequal}{\kern0pt}\ P{\isacharunderscore}{\kern0pt}update\ \isakeyword{and}\isanewline
\ \ M{\isacharunderscore}{\kern0pt}update\ {\isacharequal}{\kern0pt}\ M{\isacharunderscore}{\kern0pt}update\ \isakeyword{for}\isanewline
\ \ Map{\isacharunderscore}{\kern0pt}update\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}linorder\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}s\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}n\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}n{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ P{\isacharunderscore}{\kern0pt}update\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ M{\isacharunderscore}{\kern0pt}update\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m{\isachardoublequoteclose}\ {\isacharplus}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ G\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacharprime}{\kern0pt}n\isanewline
\ \ \isakeyword{fixes}\ L\ R\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacharprime}{\kern0pt}s\isanewline
\ \ \isakeyword{fixes}\ s\ t\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacharprime}{\kern0pt}a\isanewline
\ \ \isakeyword{assumes}\ symmetric{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}G{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}symmetric{\isacharunderscore}{\kern0pt}adjacency{\isacharprime}{\kern0pt}\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ bipartite{\isacharunderscore}{\kern0pt}graph{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}bipartite{\isacharunderscore}{\kern0pt}graph\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}E\ G{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}S{\isachardot}{\kern0pt}set\ L{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}S{\isachardot}{\kern0pt}set\ R{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ s{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}V{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}s\ {\isasymnotin}\ G{\isachardot}{\kern0pt}V\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ t{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}V{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}t\ {\isasymnotin}\ G{\isachardot}{\kern0pt}V\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ s{\isacharunderscore}{\kern0pt}neq{\isacharunderscore}{\kern0pt}t{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}s\ {\isasymnoteq}\ t{\isachardoublequoteclose}\isanewline
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{abbreviation}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharparenright}{\kern0pt}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharprime}{\kern0pt}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}n\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}s\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}s\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharprime}{\kern0pt}\ G\ L\ R\ s\ t\ {\isasymequiv}\isanewline
\ \ \ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input\isanewline
\ \ \ \ Map{\isacharunderscore}{\kern0pt}empty\ Map{\isacharunderscore}{\kern0pt}delete\ Map{\isacharunderscore}{\kern0pt}lookup\ Map{\isacharunderscore}{\kern0pt}inorder\ Map{\isacharunderscore}{\kern0pt}inv\isanewline
\ \ \ \ Set{\isacharunderscore}{\kern0pt}empty\ Set{\isacharunderscore}{\kern0pt}insert\ Set{\isacharunderscore}{\kern0pt}delete\ Set{\isacharunderscore}{\kern0pt}isin\ Set{\isacharunderscore}{\kern0pt}inorder\ Set{\isacharunderscore}{\kern0pt}inv\isanewline
\ \ \ \ P{\isacharunderscore}{\kern0pt}empty\ P{\isacharunderscore}{\kern0pt}delete\ P{\isacharunderscore}{\kern0pt}lookup\ P{\isacharunderscore}{\kern0pt}invar\isanewline
\ \ \ \ Q{\isacharunderscore}{\kern0pt}empty\ Q{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ Q{\isacharunderscore}{\kern0pt}head\ Q{\isacharunderscore}{\kern0pt}tail\ Q{\isacharunderscore}{\kern0pt}invar\ Q{\isacharunderscore}{\kern0pt}list\ Q{\isacharunderscore}{\kern0pt}snoc\isanewline
\ \ \ \ M{\isacharunderscore}{\kern0pt}empty\ M{\isacharunderscore}{\kern0pt}delete\ M{\isacharunderscore}{\kern0pt}lookup\ M{\isacharunderscore}{\kern0pt}inorder\ M{\isacharunderscore}{\kern0pt}inv\isanewline
\ \ \ \ Map{\isacharunderscore}{\kern0pt}update\ P{\isacharunderscore}{\kern0pt}update\ M{\isacharunderscore}{\kern0pt}update\isanewline
\ \ \ \ G\ L\ R\ s\ t{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}G{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}invar\ G{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ symmetric{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}G\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ symmetric{\isacharunderscore}{\kern0pt}adjacency{\isachardot}{\kern0pt}invar{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ symmetric{\isacharunderscore}{\kern0pt}G{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ u{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ u\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ symmetric{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}G\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ symmetric{\isacharunderscore}{\kern0pt}adjacency{\isachardot}{\kern0pt}symmetric{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}E{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}finite\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}E\ G{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}G\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ G{\isachardot}{\kern0pt}finite{\isacharunderscore}{\kern0pt}E{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}V{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}finite\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}V\ G{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}G\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ G{\isachardot}{\kern0pt}finite{\isacharunderscore}{\kern0pt}V{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ L{\isacharunderscore}{\kern0pt}union{\isacharunderscore}{\kern0pt}R{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}V{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}S{\isachardot}{\kern0pt}set\ L\ {\isasymunion}\ G{\isachardot}{\kern0pt}S{\isachardot}{\kern0pt}set\ R\ {\isacharequal}{\kern0pt}\ G{\isachardot}{\kern0pt}V\ G{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ G{\isachardot}{\kern0pt}V{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ bipartite{\isacharunderscore}{\kern0pt}graph\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ bipartite{\isacharunderscore}{\kern0pt}graph{\isachardot}{\kern0pt}L{\isacharunderscore}{\kern0pt}union{\isacharunderscore}{\kern0pt}R{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}Vs{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ L{\isacharunderscore}{\kern0pt}R{\isacharunderscore}{\kern0pt}disjoint{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}S{\isachardot}{\kern0pt}set\ L\ {\isasyminter}\ G{\isachardot}{\kern0pt}S{\isachardot}{\kern0pt}set\ R\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ bipartite{\isacharunderscore}{\kern0pt}graph\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ bipartite{\isacharunderscore}{\kern0pt}graph{\isachardot}{\kern0pt}L{\isacharunderscore}{\kern0pt}R{\isacharunderscore}{\kern0pt}disjoint{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ L{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}V{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}S{\isachardot}{\kern0pt}set\ L\ {\isasymsubseteq}\ G{\isachardot}{\kern0pt}V\ G{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ G{\isachardot}{\kern0pt}V{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ bipartite{\isacharunderscore}{\kern0pt}graph\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ bipartite{\isacharunderscore}{\kern0pt}graph{\isachardot}{\kern0pt}L{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}Vs{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ R{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}V{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}S{\isachardot}{\kern0pt}set\ R\ {\isasymsubseteq}\ G{\isachardot}{\kern0pt}V\ G{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ G{\isachardot}{\kern0pt}V{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ bipartite{\isacharunderscore}{\kern0pt}graph\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ bipartite{\isacharunderscore}{\kern0pt}graph{\isachardot}{\kern0pt}R{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}Vs{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ s{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}L{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}s\ {\isasymnotin}\ G{\isachardot}{\kern0pt}S{\isachardot}{\kern0pt}set\ L{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ L{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}V\ s{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}V\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ s{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}R{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}s\ {\isasymnotin}\ G{\isachardot}{\kern0pt}S{\isachardot}{\kern0pt}set\ R{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ R{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}V\ s{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}V\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ t{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}L{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}t\ {\isasymnotin}\ G{\isachardot}{\kern0pt}S{\isachardot}{\kern0pt}set\ L{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ L{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}V\ t{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}V\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ t{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}R{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}t\ {\isasymnotin}\ G{\isachardot}{\kern0pt}S{\isachardot}{\kern0pt}set\ R{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ R{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}V\ t{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}V\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ graph{\isacharunderscore}{\kern0pt}G{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymforall}e{\isasymin}G{\isachardot}{\kern0pt}E\ G{\isachardot}{\kern0pt}\ {\isasymexists}u\ v{\isachardot}{\kern0pt}\ e\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}\ {\isasymand}\ u\ {\isasymnoteq}\ v{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}e{\isasymin}G{\isachardot}{\kern0pt}E\ G{\isachardot}{\kern0pt}\ {\isasymexists}u\ v{\isachardot}{\kern0pt}\ e\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ bipartite{\isacharunderscore}{\kern0pt}graph\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ bipartite{\isacharunderscore}{\kern0pt}graph{\isachardot}{\kern0pt}axioms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ graph{\isachardot}{\kern0pt}graph{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ bipartite{\isacharunderscore}{\kern0pt}graph\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ dest{\isacharcolon}{\kern0pt}\ bipartite{\isacharunderscore}{\kern0pt}graph{\isachardot}{\kern0pt}no{\isacharunderscore}{\kern0pt}loop{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
As is the case for locale \isa{alt{\isacharunderscore}{\kern0pt}bfs}, graph \isa{G} is represented as an
\isa{adjacency}, that is, as a \isa{Map{\isacharunderscore}{\kern0pt}by{\isacharunderscore}{\kern0pt}Ordered} mapping a vertex to its adjacency, which
is represented as a \isa{Set{\isacharunderscore}{\kern0pt}by{\isacharunderscore}{\kern0pt}Ordered}. And sets \isa{L} and \isa{R} are represented as
\isa{Set{\isacharunderscore}{\kern0pt}by{\isacharunderscore}{\kern0pt}Ordered}s.%
\end{isamarkuptext}\isamarkuptrue%
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsubsection{Loop invariants%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\begin{isamarkuptext}%
Unfolding the definition of algorithm \isa{edmonds{\isacharunderscore}{\kern0pt}karp{\isachardot}{\kern0pt}edmonds{\isacharunderscore}{\kern0pt}karp}, we see that recursive
function \isa{edmonds{\isacharunderscore}{\kern0pt}karp{\isachardot}{\kern0pt}loop{\isacharprime}{\kern0pt}} lies at the heart of the algorithm. It expects an input
$\langle \isa{G},\isa{L},\isa{R},\isa{s},\isa{t},\isa{M}\rangle$, which constitutes the
program state, such that

%
\begin{itemize}%
\item \isa{G}, \isa{L}, \isa{R}, \isa{s}, \isa{t} satisfy the assumptions specified above, and

\item \isa{M} is a matching in \isa{G}.%
\end{itemize}


Let us now formally specify the assumptions on \isa{M}. As \isa{M} is the only state variable
that is subject to change from one iteration to the next, these assumptions constitute the
(non-trivial) loop invariants of \isa{edmonds{\isacharunderscore}{\kern0pt}karp{\isachardot}{\kern0pt}loop{\isacharprime}{\kern0pt}}.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{locale}\isamarkupfalse%
\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar\ {\isacharequal}{\kern0pt}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input\ \isakeyword{where}\isanewline
\ \ Map{\isacharunderscore}{\kern0pt}update\ {\isacharequal}{\kern0pt}\ Map{\isacharunderscore}{\kern0pt}update\ \isakeyword{and}\isanewline
\ \ P{\isacharunderscore}{\kern0pt}update\ {\isacharequal}{\kern0pt}\ P{\isacharunderscore}{\kern0pt}update\ \isakeyword{and}\isanewline
\ \ M{\isacharunderscore}{\kern0pt}update\ {\isacharequal}{\kern0pt}\ M{\isacharunderscore}{\kern0pt}update\ \isakeyword{for}\isanewline
\ \ Map{\isacharunderscore}{\kern0pt}update\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}linorder\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}s\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}n\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}n{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ P{\isacharunderscore}{\kern0pt}update\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ M{\isacharunderscore}{\kern0pt}update\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m{\isachardoublequoteclose}\ {\isacharplus}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ M\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacharprime}{\kern0pt}m\isanewline
\ \ \isakeyword{assumes}\ invar{\isacharunderscore}{\kern0pt}M{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}M{\isachardot}{\kern0pt}invar\ M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ is{\isacharunderscore}{\kern0pt}symmetric{\isacharunderscore}{\kern0pt}Map{\isacharunderscore}{\kern0pt}M{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}symmetric{\isacharunderscore}{\kern0pt}Map\ M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ match{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}edge{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}lookup\ M\ u\ {\isacharequal}{\kern0pt}\ Some\ v\ {\isasymLongrightarrow}\ {\isacharbraceleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}\ {\isasymin}\ G{\isachardot}{\kern0pt}E\ G{\isachardoublequoteclose}\isanewline
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{abbreviation}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharparenright}{\kern0pt}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharprime}{\kern0pt}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}n\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}s\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}s\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharprime}{\kern0pt}\ G\ L\ R\ s\ t\ {\isasymequiv}\isanewline
\ \ \ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar\isanewline
\ \ \ \ Map{\isacharunderscore}{\kern0pt}empty\ Map{\isacharunderscore}{\kern0pt}delete\ Map{\isacharunderscore}{\kern0pt}lookup\ Map{\isacharunderscore}{\kern0pt}inorder\ Map{\isacharunderscore}{\kern0pt}inv\isanewline
\ \ \ \ Set{\isacharunderscore}{\kern0pt}empty\ Set{\isacharunderscore}{\kern0pt}insert\ Set{\isacharunderscore}{\kern0pt}delete\ Set{\isacharunderscore}{\kern0pt}isin\ Set{\isacharunderscore}{\kern0pt}inorder\ Set{\isacharunderscore}{\kern0pt}inv\isanewline
\ \ \ \ P{\isacharunderscore}{\kern0pt}empty\ P{\isacharunderscore}{\kern0pt}delete\ P{\isacharunderscore}{\kern0pt}lookup\ P{\isacharunderscore}{\kern0pt}invar\isanewline
\ \ \ \ Q{\isacharunderscore}{\kern0pt}empty\ Q{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ Q{\isacharunderscore}{\kern0pt}head\ Q{\isacharunderscore}{\kern0pt}tail\ Q{\isacharunderscore}{\kern0pt}invar\ Q{\isacharunderscore}{\kern0pt}list\ Q{\isacharunderscore}{\kern0pt}snoc\isanewline
\ \ \ \ M{\isacharunderscore}{\kern0pt}empty\ M{\isacharunderscore}{\kern0pt}delete\ M{\isacharunderscore}{\kern0pt}lookup\ M{\isacharunderscore}{\kern0pt}inorder\ M{\isacharunderscore}{\kern0pt}inv\isanewline
\ \ \ \ G\ L\ R\ s\ t\isanewline
\ \ \ \ Map{\isacharunderscore}{\kern0pt}update\ P{\isacharunderscore}{\kern0pt}update\ M{\isacharunderscore}{\kern0pt}update{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ {\isasymequiv}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharprime}{\kern0pt}\ G\ L\ R\ s\ t{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{context}\isamarkupfalse%
\ edmonds{\isacharunderscore}{\kern0pt}karp\isanewline
\isakeyword{begin}\isanewline
\isacommand{sublocale}\isamarkupfalse%
\ M{\isacharcolon}{\kern0pt}\ graph\ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}tbd\ M{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}standard{\isacharcomma}{\kern0pt}\ goal{\isacharunderscore}{\kern0pt}cases{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{1}}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{end}\isamarkupfalse%
%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharparenright}{\kern0pt}\ M{\isacharunderscore}{\kern0pt}tbd{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}E{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}tbd\ M\ {\isasymsubseteq}\ G{\isachardot}{\kern0pt}E\ G{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{{\isacharbraceleft}{\kern0pt}}\isamarkupfalse%
\ \isacommand{fix}\isamarkupfalse%
\ u\ v\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}\ {\isasymin}\ M{\isacharunderscore}{\kern0pt}tbd\ M{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}lookup\ M\ u\ {\isacharequal}{\kern0pt}\ Some\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}symmetric{\isacharunderscore}{\kern0pt}Map{\isacharunderscore}{\kern0pt}M\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ doubleton{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}\ {\isasymin}\ G{\isachardot}{\kern0pt}E\ G{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ match{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}edge{\isacharparenright}{\kern0pt}\ \isacommand{{\isacharbraceright}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ M{\isachardot}{\kern0pt}graph\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
Matching \isa{M} is represented as a \isa{Map{\isacharunderscore}{\kern0pt}by{\isacharunderscore}{\kern0pt}Ordered} mapping a vertex to another
vertex--its match.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharparenright}{\kern0pt}\ matching{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}matching\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{{\isacharbraceleft}{\kern0pt}}\isamarkupfalse%
\ \isacommand{fix}\isamarkupfalse%
\ u\ v\ x\ y\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ assm{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}\ {\isasymin}\ M{\isacharunderscore}{\kern0pt}tbd\ M{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ y{\isacharbraceright}{\kern0pt}\ {\isasymin}\ M{\isacharunderscore}{\kern0pt}tbd\ M{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ y{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}\ {\isasyminter}\ {\isacharbraceleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ y{\isacharbraceright}{\kern0pt}\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}lookup\ M\ u\ {\isacharequal}{\kern0pt}\ Some\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}lookup\ M\ x\ {\isacharequal}{\kern0pt}\ Some\ y{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assm{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isadigit{2}}{\isacharparenright}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}symmetric{\isacharunderscore}{\kern0pt}Map{\isacharunderscore}{\kern0pt}M\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ doubleton{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}u\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assm{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}\ {\isadigit{4}}{\isacharparenright}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}symmetric{\isacharunderscore}{\kern0pt}Map{\isacharunderscore}{\kern0pt}M\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}v\ {\isasymnoteq}\ y{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assm{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ fast\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\ \isacommand{{\isacharbraceright}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ matching{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ M{\isachardot}{\kern0pt}graph\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharparenright}{\kern0pt}\ graph{\isacharunderscore}{\kern0pt}matching{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}graph{\isacharunderscore}{\kern0pt}matching\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}E\ G{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ matching{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd\ M{\isacharunderscore}{\kern0pt}tbd{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}E\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ fastforce%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharparenright}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}finite\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ M{\isacharunderscore}{\kern0pt}tbd{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}E\ finite{\isacharunderscore}{\kern0pt}E\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ finite{\isacharunderscore}{\kern0pt}subset{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
To verify the correctness of loop \isa{edmonds{\isacharunderscore}{\kern0pt}karp{\isachardot}{\kern0pt}loop{\isacharprime}{\kern0pt}}, we need to show that

%
\begin{enumerate}%
\item the loop invariants are satisfied prior to the first iteration of the loop, and that

\item the loop invariants are maintained.%
\end{enumerate}


Let us start with the former, that is, let us prove that the empty matching satisfies the loop
invariants.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}empty{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ M{\isacharunderscore}{\kern0pt}empty{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}standard{\isacharcomma}{\kern0pt}\ goal{\isacharunderscore}{\kern0pt}cases{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{1}}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ M{\isachardot}{\kern0pt}invar{\isacharunderscore}{\kern0pt}empty\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{2}}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ M{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}empty{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{3}}\ u\ v{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ M{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}empty{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
Let us now verify that the loop invariants are maintained, that is, if they hold at the start of an
iteration of loop \isa{edmonds{\isacharunderscore}{\kern0pt}karp{\isachardot}{\kern0pt}loop{\isacharprime}{\kern0pt}}, then they will also hold at the end. For this, we
verify the correctness of the body of the loop, that is,

%
\begin{enumerate}%
\item if there is an augmenting path, then the algorithm will find one, and

\item given an augmenting path, the algorithm correctly augments the current matching.%
\end{enumerate}


Let us start with the former.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{locale}\isamarkupfalse%
\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar\ \isakeyword{where}\isanewline
\ \ Map{\isacharunderscore}{\kern0pt}update\ {\isacharequal}{\kern0pt}\ Map{\isacharunderscore}{\kern0pt}update\ \isakeyword{and}\isanewline
\ \ P{\isacharunderscore}{\kern0pt}update\ {\isacharequal}{\kern0pt}\ P{\isacharunderscore}{\kern0pt}update\ \isakeyword{and}\isanewline
\ \ M{\isacharunderscore}{\kern0pt}update\ {\isacharequal}{\kern0pt}\ M{\isacharunderscore}{\kern0pt}update\ \isakeyword{for}\isanewline
\ \ Map{\isacharunderscore}{\kern0pt}update\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}linorder\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}s\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}n\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}n{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ P{\isacharunderscore}{\kern0pt}update\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ M{\isacharunderscore}{\kern0pt}update\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m{\isachardoublequoteclose}\ {\isacharplus}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymnot}\ done{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ L\ R\ M{\isachardoublequoteclose}\isanewline
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{abbreviation}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharparenright}{\kern0pt}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharprime}{\kern0pt}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}n\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}s\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}s\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharprime}{\kern0pt}\ G\ L\ R\ s\ t\ M\ {\isasymequiv}\isanewline
\ \ \ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{1}}\isanewline
\ \ \ \ Map{\isacharunderscore}{\kern0pt}empty\ Map{\isacharunderscore}{\kern0pt}delete\ Map{\isacharunderscore}{\kern0pt}lookup\ Map{\isacharunderscore}{\kern0pt}inorder\ Map{\isacharunderscore}{\kern0pt}inv\isanewline
\ \ \ \ Set{\isacharunderscore}{\kern0pt}empty\ Set{\isacharunderscore}{\kern0pt}insert\ Set{\isacharunderscore}{\kern0pt}delete\ Set{\isacharunderscore}{\kern0pt}isin\ Set{\isacharunderscore}{\kern0pt}inorder\ Set{\isacharunderscore}{\kern0pt}inv\isanewline
\ \ \ \ P{\isacharunderscore}{\kern0pt}empty\ P{\isacharunderscore}{\kern0pt}delete\ P{\isacharunderscore}{\kern0pt}lookup\ P{\isacharunderscore}{\kern0pt}invar\isanewline
\ \ \ \ Q{\isacharunderscore}{\kern0pt}empty\ Q{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ Q{\isacharunderscore}{\kern0pt}head\ Q{\isacharunderscore}{\kern0pt}tail\ Q{\isacharunderscore}{\kern0pt}invar\ Q{\isacharunderscore}{\kern0pt}list\ Q{\isacharunderscore}{\kern0pt}snoc\isanewline
\ \ \ \ M{\isacharunderscore}{\kern0pt}empty\ M{\isacharunderscore}{\kern0pt}delete\ M{\isacharunderscore}{\kern0pt}lookup\ M{\isacharunderscore}{\kern0pt}inorder\ M{\isacharunderscore}{\kern0pt}inv\isanewline
\ \ \ \ G\ L\ R\ s\ t\ M\isanewline
\ \ \ \ Map{\isacharunderscore}{\kern0pt}update\ P{\isacharunderscore}{\kern0pt}update\ M{\isacharunderscore}{\kern0pt}update{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ {\isasymequiv}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharprime}{\kern0pt}\ G\ L\ R\ s\ t{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharparenright}{\kern0pt}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{1}}I{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharprime}{\kern0pt}\ G\ L\ R\ s\ t\ M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymnot}\ done{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ L\ R\ M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharprime}{\kern0pt}\ G\ L\ R\ s\ t\ M{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharunderscore}{\kern0pt}def\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharunderscore}{\kern0pt}axioms{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{locale}\isamarkupfalse%
\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ {\isacharequal}{\kern0pt}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ \isakeyword{where}\isanewline
\ \ Map{\isacharunderscore}{\kern0pt}update\ {\isacharequal}{\kern0pt}\ Map{\isacharunderscore}{\kern0pt}update\ \isakeyword{and}\isanewline
\ \ P{\isacharunderscore}{\kern0pt}update\ {\isacharequal}{\kern0pt}\ P{\isacharunderscore}{\kern0pt}update\ \isakeyword{and}\isanewline
\ \ M{\isacharunderscore}{\kern0pt}update\ {\isacharequal}{\kern0pt}\ M{\isacharunderscore}{\kern0pt}update\ \isakeyword{for}\isanewline
\ \ Map{\isacharunderscore}{\kern0pt}update\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}linorder\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}s\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}n\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}n{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ P{\isacharunderscore}{\kern0pt}update\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ M{\isacharunderscore}{\kern0pt}update\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m{\isachardoublequoteclose}\ {\isacharplus}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymnot}\ done{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ t\ {\isacharparenleft}{\kern0pt}m{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{abbreviation}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharparenright}{\kern0pt}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharprime}{\kern0pt}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}n\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}s\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}s\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharprime}{\kern0pt}\ G\ L\ R\ s\ t\ M\ {\isasymequiv}\isanewline
\ \ \ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}\isanewline
\ \ \ \ Map{\isacharunderscore}{\kern0pt}empty\ Map{\isacharunderscore}{\kern0pt}delete\ Map{\isacharunderscore}{\kern0pt}lookup\ Map{\isacharunderscore}{\kern0pt}inorder\ Map{\isacharunderscore}{\kern0pt}inv\isanewline
\ \ \ \ Set{\isacharunderscore}{\kern0pt}empty\ Set{\isacharunderscore}{\kern0pt}insert\ Set{\isacharunderscore}{\kern0pt}delete\ Set{\isacharunderscore}{\kern0pt}isin\ Set{\isacharunderscore}{\kern0pt}inorder\ Set{\isacharunderscore}{\kern0pt}inv\isanewline
\ \ \ \ P{\isacharunderscore}{\kern0pt}empty\ P{\isacharunderscore}{\kern0pt}delete\ P{\isacharunderscore}{\kern0pt}lookup\ P{\isacharunderscore}{\kern0pt}invar\isanewline
\ \ \ \ Q{\isacharunderscore}{\kern0pt}empty\ Q{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ Q{\isacharunderscore}{\kern0pt}head\ Q{\isacharunderscore}{\kern0pt}tail\ Q{\isacharunderscore}{\kern0pt}invar\ Q{\isacharunderscore}{\kern0pt}list\ Q{\isacharunderscore}{\kern0pt}snoc\isanewline
\ \ \ \ M{\isacharunderscore}{\kern0pt}empty\ M{\isacharunderscore}{\kern0pt}delete\ M{\isacharunderscore}{\kern0pt}lookup\ M{\isacharunderscore}{\kern0pt}inorder\ M{\isacharunderscore}{\kern0pt}inv\isanewline
\ \ \ \ G\ L\ R\ s\ t\ M\isanewline
\ \ \ \ Map{\isacharunderscore}{\kern0pt}update\ P{\isacharunderscore}{\kern0pt}update\ M{\isacharunderscore}{\kern0pt}update{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ {\isasymequiv}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharprime}{\kern0pt}\ G\ L\ R\ s\ t{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharparenright}{\kern0pt}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}I{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharprime}{\kern0pt}\ G\ L\ R\ s\ t\ M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymnot}\ done{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ t\ {\isacharparenleft}{\kern0pt}m{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharprime}{\kern0pt}\ G\ L\ R\ s\ t\ M{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}def\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}axioms{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharparenright}{\kern0pt}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}I{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharprime}{\kern0pt}\ G\ L\ R\ s\ t\ M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymnot}\ done{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ L\ R\ M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymnot}\ done{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ t\ {\isacharparenleft}{\kern0pt}m{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharprime}{\kern0pt}\ G\ L\ R\ s\ t\ M{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharunderscore}{\kern0pt}def\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharunderscore}{\kern0pt}axioms{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}def\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}axioms{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharparenright}{\kern0pt}\ mem{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}free{\isacharunderscore}{\kern0pt}verticesI{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}v\ {\isasymin}\ G{\isachardot}{\kern0pt}S{\isachardot}{\kern0pt}set\ V{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertex\ M\ v{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ V\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ free{\isacharunderscore}{\kern0pt}vertices{\isacharunderscore}{\kern0pt}def\ G{\isachardot}{\kern0pt}S{\isachardot}{\kern0pt}set{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharparenright}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices{\isacharunderscore}{\kern0pt}subset{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ V\ M{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ G{\isachardot}{\kern0pt}S{\isachardot}{\kern0pt}set\ V{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ free{\isacharunderscore}{\kern0pt}vertices{\isacharunderscore}{\kern0pt}def\ G{\isachardot}{\kern0pt}S{\isachardot}{\kern0pt}set{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharparenright}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ G{\isachardot}{\kern0pt}invar{\isacharunderscore}{\kern0pt}empty\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharunderscore}{\kern0pt}def\ intro{\isacharcolon}{\kern0pt}\ G{\isachardot}{\kern0pt}invar{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}insert{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharparenright}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}M{\isachardot}{\kern0pt}invar\ M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ M{\isacharparenright}{\kern0pt}\ u{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}case\ M{\isacharunderscore}{\kern0pt}lookup\ M\ u\ of\ None\ {\isasymRightarrow}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharbar}{\kern0pt}\ Some\ v\ {\isasymRightarrow}\ {\isacharbraceleft}{\kern0pt}v{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{{\isacharbraceleft}{\kern0pt}}\isamarkupfalse%
\ \isacommand{fix}\isamarkupfalse%
\ v\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ M{\isacharparenright}{\kern0pt}\ u{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ \ \ \ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ Map{\isacharunderscore}{\kern0pt}empty\ u{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}{\isasymUnion}p{\isasymin}set\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}inorder\ M{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ if\ u\ {\isacharequal}{\kern0pt}\ fst\ p\ then\ {\isacharbraceleft}{\kern0pt}snd\ p{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ G{\isachardot}{\kern0pt}invar{\isacharunderscore}{\kern0pt}empty\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharunderscore}{\kern0pt}def\ G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}insert{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ v\ {\isasymin}\ {\isacharparenleft}{\kern0pt}{\isasymUnion}p{\isasymin}set\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}inorder\ M{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ if\ u\ {\isacharequal}{\kern0pt}\ fst\ p\ then\ {\isacharbraceleft}{\kern0pt}snd\ p{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ G{\isachardot}{\kern0pt}M{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}empty{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}p{\isasymin}set\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}inorder\ M{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ u\ {\isacharequal}{\kern0pt}\ fst\ p\ {\isasymand}\ v\ {\isacharequal}{\kern0pt}\ snd\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}inorder\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ prod{\isachardot}{\kern0pt}collapse\ fst{\isacharunderscore}{\kern0pt}conv\ snd{\isacharunderscore}{\kern0pt}conv{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ M{\isacharunderscore}{\kern0pt}lookup\ M\ u\ {\isacharequal}{\kern0pt}\ Some\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ M{\isachardot}{\kern0pt}mem{\isacharunderscore}{\kern0pt}inorder{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}lookup{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}Some{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ M{\isacharparenright}{\kern0pt}\ u{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ M{\isacharunderscore}{\kern0pt}lookup\ M\ u\ {\isacharequal}{\kern0pt}\ Some\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\ \isacommand{{\isacharbraceright}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}force\ split{\isacharcolon}{\kern0pt}\ option{\isachardot}{\kern0pt}splits{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
Assuming appropriate input for algorithm \isa{alt{\isacharunderscore}{\kern0pt}bfs{\isachardot}{\kern0pt}alt{\isacharunderscore}{\kern0pt}bfs}, the statement follows from the
correctness of \isa{alt{\isacharunderscore}{\kern0pt}bfs{\isachardot}{\kern0pt}alt{\isacharunderscore}{\kern0pt}bfs}. Hence, we mainly have to show that our construction of
\isa{edmonds{\isacharunderscore}{\kern0pt}karp{\isachardot}{\kern0pt}G{\isadigit{1}}}, \isa{edmonds{\isacharunderscore}{\kern0pt}karp{\isachardot}{\kern0pt}G{\isadigit{2}}} is correct and that it satisfies the input
assumptions of \isa{alt{\isacharunderscore}{\kern0pt}bfs{\isachardot}{\kern0pt}alt{\isacharunderscore}{\kern0pt}bfs}.

We first prove that graph \isa{edmonds{\isacharunderscore}{\kern0pt}karp{\isachardot}{\kern0pt}G{\isadigit{2}}} comprises all edges in the current matching
\isa{M} as well as vertices \isa{s}, \isa{t} that are connected to all free vertices in
\isa{L}, \isa{R}, respectively.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharparenright}{\kern0pt}\ E{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}M{\isachardot}{\kern0pt}invar\ M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}E\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ M{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ M{\isacharunderscore}{\kern0pt}tbd\ M{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{{\isacharbraceleft}{\kern0pt}}\isamarkupfalse%
\ \isacommand{fix}\isamarkupfalse%
\ u\ v\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}\ {\isasymin}\ G{\isachardot}{\kern0pt}E\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ M{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ \ \ \ u\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ M{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isasymor}\ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ M{\isacharparenright}{\kern0pt}\ u{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ G{\isachardot}{\kern0pt}E{\isacharunderscore}{\kern0pt}def\ doubleton{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ M{\isacharunderscore}{\kern0pt}lookup\ M\ v\ {\isacharequal}{\kern0pt}\ Some\ u\ {\isasymor}\ M{\isacharunderscore}{\kern0pt}lookup\ M\ u\ {\isacharequal}{\kern0pt}\ Some\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharunderscore}{\kern0pt}cong\ split{\isacharcolon}{\kern0pt}\ option{\isachardot}{\kern0pt}split{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharbraceleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}\ {\isasymin}\ M{\isacharunderscore}{\kern0pt}tbd\ M{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ doubleton{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}\ {\isasymin}\ G{\isachardot}{\kern0pt}E\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ M{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharbraceleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}\ {\isasymin}\ M{\isacharunderscore}{\kern0pt}tbd\ M{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\ \isacommand{{\isacharbraceright}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ graphs{\isacharunderscore}{\kern0pt}eqI{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ G{\isachardot}{\kern0pt}E{\isacharunderscore}{\kern0pt}def\ graph{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharparenright}{\kern0pt}\ symmetric{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}M{\isachardot}{\kern0pt}invar\ M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}symmetric{\isacharunderscore}{\kern0pt}Map\ M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}symmetric{\isacharunderscore}{\kern0pt}adjacency{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}standard{\isacharcomma}{\kern0pt}\ goal{\isacharunderscore}{\kern0pt}cases{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{1}}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{1}}\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{2}}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp\ add{\isacharcolon}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharunderscore}{\kern0pt}cong\ split{\isacharcolon}{\kern0pt}\ option{\isachardot}{\kern0pt}splits{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharparenright}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ L\ s\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{1}}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}def\ intro{\isacharcolon}{\kern0pt}\ G{\isachardot}{\kern0pt}invar{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}insert{\isacharunderscore}{\kern0pt}edge{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharparenright}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ L\ s\ M{\isacharparenright}{\kern0pt}\ u{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ M{\isacharparenright}{\kern0pt}\ u{\isacharparenright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymUnion}v{\isasymin}set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ L\ M{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ if\ u\ {\isacharequal}{\kern0pt}\ s\ then\ {\isacharbraceleft}{\kern0pt}v{\isacharbraceright}{\kern0pt}\ else\ if\ u\ {\isacharequal}{\kern0pt}\ v\ then\ {\isacharbraceleft}{\kern0pt}s{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{1}}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}def\ G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}insert{\isacharunderscore}{\kern0pt}edge{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharparenright}{\kern0pt}\ E{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}E\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ L\ s\ M{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ G{\isachardot}{\kern0pt}E\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ M{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}s{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}\ {\isacharbar}{\kern0pt}v{\isachardot}{\kern0pt}\ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ L\ M{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{1}}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}def\ G{\isachardot}{\kern0pt}E{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}insert{\isacharunderscore}{\kern0pt}edge{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharparenright}{\kern0pt}\ symmetric{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}M{\isachardot}{\kern0pt}invar\ M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}symmetric{\isacharunderscore}{\kern0pt}Map\ M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}symmetric{\isacharunderscore}{\kern0pt}adjacency{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ L\ s\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}standard{\isacharcomma}{\kern0pt}\ goal{\isacharunderscore}{\kern0pt}cases{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{1}}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{2}}\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{2}}\ v\ u{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ L\ s\ M{\isacharparenright}{\kern0pt}\ u{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ \ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ M{\isacharparenright}{\kern0pt}\ u{\isacharparenright}{\kern0pt}\ {\isasymor}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ L\ M{\isacharparenright}{\kern0pt}\ {\isasymand}\ u\ {\isacharequal}{\kern0pt}\ s{\isacharparenright}{\kern0pt}\ {\isasymor}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}u\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ L\ M{\isacharparenright}{\kern0pt}\ {\isasymand}\ v\ {\isacharequal}{\kern0pt}\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ \ u\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ M{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isasymor}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ L\ M{\isacharparenright}{\kern0pt}\ {\isasymand}\ u\ {\isacharequal}{\kern0pt}\ s{\isacharparenright}{\kern0pt}\ {\isasymor}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}u\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ L\ M{\isacharparenright}{\kern0pt}\ {\isasymand}\ v\ {\isacharequal}{\kern0pt}\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ symmetric{\isacharunderscore}{\kern0pt}adjacency{\isachardot}{\kern0pt}symmetric{\isacharbrackleft}{\kern0pt}OF\ symmetric{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ u\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ L\ s\ M{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharparenright}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{3}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{3}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{2}}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{3}}{\isacharunderscore}{\kern0pt}def\ intro{\isacharcolon}{\kern0pt}\ G{\isachardot}{\kern0pt}invar{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}insert{\isacharunderscore}{\kern0pt}edge{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharparenright}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{3}}{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{3}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ u{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ L\ s\ M{\isacharparenright}{\kern0pt}\ u{\isacharparenright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymUnion}v{\isasymin}set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ R\ M{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ if\ u\ {\isacharequal}{\kern0pt}\ t\ then\ {\isacharbraceleft}{\kern0pt}v{\isacharbraceright}{\kern0pt}\ else\ if\ u\ {\isacharequal}{\kern0pt}\ v\ then\ {\isacharbraceleft}{\kern0pt}t{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{2}}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{3}}{\isacharunderscore}{\kern0pt}def\ G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}insert{\isacharunderscore}{\kern0pt}edge{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharparenright}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{3}}{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{3}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ u{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ M{\isacharparenright}{\kern0pt}\ u{\isacharparenright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymUnion}v{\isasymin}set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ L\ M{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ if\ u\ {\isacharequal}{\kern0pt}\ s\ then\ {\isacharbraceleft}{\kern0pt}v{\isacharbraceright}{\kern0pt}\ else\ if\ u\ {\isacharequal}{\kern0pt}\ v\ then\ {\isacharbraceleft}{\kern0pt}s{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymUnion}v{\isasymin}set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ R\ M{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ if\ u\ {\isacharequal}{\kern0pt}\ t\ then\ {\isacharbraceleft}{\kern0pt}v{\isacharbraceright}{\kern0pt}\ else\ if\ u\ {\isacharequal}{\kern0pt}\ v\ then\ {\isacharbraceleft}{\kern0pt}t{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{3}}{\isacharunderscore}{\kern0pt}cong\ adjacency{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharparenright}{\kern0pt}\ E{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{3}}{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}E\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{3}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ G{\isachardot}{\kern0pt}E\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ L\ s\ M{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}t{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}\ {\isacharbar}{\kern0pt}v{\isachardot}{\kern0pt}\ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ R\ M{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{2}}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{3}}{\isacharunderscore}{\kern0pt}def\ G{\isachardot}{\kern0pt}E{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}insert{\isacharunderscore}{\kern0pt}edge{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharparenright}{\kern0pt}\ E{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{3}}{\isacharunderscore}{\kern0pt}E{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}E\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{3}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ G{\isachardot}{\kern0pt}E\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ M{\isacharparenright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ \ {\isacharbraceleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}s{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}\ {\isacharbar}{\kern0pt}v{\isachardot}{\kern0pt}\ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ L\ M{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ \ {\isacharbraceleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}t{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}\ {\isacharbar}{\kern0pt}v{\isachardot}{\kern0pt}\ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ R\ M{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ E{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{3}}{\isacharunderscore}{\kern0pt}cong\ E{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharparenright}{\kern0pt}\ E{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{3}}{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}M{\isachardot}{\kern0pt}invar\ M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}E\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{3}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ M{\isacharunderscore}{\kern0pt}tbd\ M\ {\isasymunion}\isanewline
\ \ \ \ \ {\isacharbraceleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}s{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}\ {\isacharbar}{\kern0pt}v{\isachardot}{\kern0pt}\ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ L\ M{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ \ {\isacharbraceleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}t{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}\ {\isacharbar}{\kern0pt}v{\isachardot}{\kern0pt}\ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ R\ M{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ E{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{3}}{\isacharunderscore}{\kern0pt}E{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharunderscore}{\kern0pt}cong\ E{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharparenright}{\kern0pt}\ symmetric{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{3}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}M{\isachardot}{\kern0pt}invar\ M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}symmetric{\isacharunderscore}{\kern0pt}Map\ M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}symmetric{\isacharunderscore}{\kern0pt}adjacency{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{3}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}standard{\isacharcomma}{\kern0pt}\ goal{\isacharunderscore}{\kern0pt}cases{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{1}}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{3}}\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{2}}\ v\ u{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{3}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ u{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ \ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ L\ s\ M{\isacharparenright}{\kern0pt}\ u{\isacharparenright}{\kern0pt}\ {\isasymor}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ R\ M{\isacharparenright}{\kern0pt}\ {\isasymand}\ u\ {\isacharequal}{\kern0pt}\ t{\isacharparenright}{\kern0pt}\ {\isasymor}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}u\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ R\ M{\isacharparenright}{\kern0pt}\ {\isasymand}\ v\ {\isacharequal}{\kern0pt}\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{3}}{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ \ u\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ L\ s\ M{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isasymor}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ R\ M{\isacharparenright}{\kern0pt}\ {\isasymand}\ u\ {\isacharequal}{\kern0pt}\ t{\isacharparenright}{\kern0pt}\ {\isasymor}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}u\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ R\ M{\isacharparenright}{\kern0pt}\ {\isasymand}\ v\ {\isacharequal}{\kern0pt}\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ symmetric{\isacharunderscore}{\kern0pt}adjacency{\isachardot}{\kern0pt}symmetric{\isacharbrackleft}{\kern0pt}OF\ symmetric{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ u\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{3}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{3}}{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharparenright}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ G{\isadigit{2}}{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{3}}\isanewline
\ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharparenright}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}M{\isachardot}{\kern0pt}invar\ M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ u{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}case\ M{\isacharunderscore}{\kern0pt}lookup\ M\ u\ of\ None\ {\isasymRightarrow}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharbar}{\kern0pt}\ Some\ v\ {\isasymRightarrow}\ {\isacharbraceleft}{\kern0pt}v{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymUnion}v{\isasymin}set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ L\ M{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ if\ u\ {\isacharequal}{\kern0pt}\ s\ then\ {\isacharbraceleft}{\kern0pt}v{\isacharbraceright}{\kern0pt}\ else\ if\ u\ {\isacharequal}{\kern0pt}\ v\ then\ {\isacharbraceleft}{\kern0pt}s{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymUnion}v{\isasymin}set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ R\ M{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ if\ u\ {\isacharequal}{\kern0pt}\ t\ then\ {\isacharbraceleft}{\kern0pt}v{\isacharbraceright}{\kern0pt}\ else\ if\ u\ {\isacharequal}{\kern0pt}\ v\ then\ {\isacharbraceleft}{\kern0pt}t{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ G{\isadigit{2}}{\isacharunderscore}{\kern0pt}def\ adjacency{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{3}}{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharunderscore}{\kern0pt}cong\ adjacency{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharparenright}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}s{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}s\ {\isasymnotin}\ G{\isachardot}{\kern0pt}S{\isachardot}{\kern0pt}set\ R{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}s\ {\isasymnoteq}\ t{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}M{\isachardot}{\kern0pt}invar\ M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}lookup\ M\ s\ {\isacharequal}{\kern0pt}\ None{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ s{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ L\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ set{\isacharunderscore}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices{\isacharunderscore}{\kern0pt}subset\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharparenright}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}t{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}t\ {\isasymnotin}\ G{\isachardot}{\kern0pt}S{\isachardot}{\kern0pt}set\ L{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}s\ {\isasymnoteq}\ t{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}M{\isachardot}{\kern0pt}invar\ M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}lookup\ M\ t\ {\isacharequal}{\kern0pt}\ None{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ t{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ R\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ set{\isacharunderscore}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices{\isacharunderscore}{\kern0pt}subset\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharparenright}{\kern0pt}\ E{\isadigit{2}}{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}M{\isachardot}{\kern0pt}invar\ M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}E\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ M{\isacharunderscore}{\kern0pt}tbd\ M\ {\isasymunion}\isanewline
\ \ \ \ \ {\isacharbraceleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}s{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}\ {\isacharbar}{\kern0pt}v{\isachardot}{\kern0pt}\ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ L\ M{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ \ {\isacharbraceleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}t{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}\ {\isacharbar}{\kern0pt}v{\isachardot}{\kern0pt}\ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ R\ M{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ G{\isadigit{2}}{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ E{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{3}}{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharparenright}{\kern0pt}\ symmetric{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}M{\isachardot}{\kern0pt}invar\ M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}symmetric{\isacharunderscore}{\kern0pt}Map\ M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}symmetric{\isacharunderscore}{\kern0pt}adjacency{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ G{\isadigit{2}}{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ symmetric{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharparenright}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}G{\isadigit{1}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}invar\ G{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}G{\isadigit{1}}\ G\ G{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ G{\isadigit{1}}{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ G{\isachardot}{\kern0pt}invar{\isacharunderscore}{\kern0pt}difference{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharparenright}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}G{\isadigit{1}}{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}invar\ G{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}G{\isadigit{1}}\ G\ G{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ v{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G{\isacharprime}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ G{\isadigit{1}}{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}difference{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
Next, we show that graph \isa{edmonds{\isacharunderscore}{\kern0pt}karp{\isachardot}{\kern0pt}G{\isadigit{1}}} comprises all edges not in the current matching.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharparenright}{\kern0pt}\ E{\isadigit{1}}{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}symmetric{\isacharunderscore}{\kern0pt}adjacency{\isacharprime}{\kern0pt}\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}symmetric{\isacharunderscore}{\kern0pt}adjacency{\isacharprime}{\kern0pt}\ G{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}E\ {\isacharparenleft}{\kern0pt}G{\isadigit{1}}\ G\ G{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ G{\isachardot}{\kern0pt}E\ G\ {\isacharminus}{\kern0pt}\ G{\isachardot}{\kern0pt}E\ G{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ G{\isadigit{1}}{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ G{\isachardot}{\kern0pt}E{\isacharunderscore}{\kern0pt}difference{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharparenright}{\kern0pt}\ symmetric{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}G{\isadigit{1}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}symmetric{\isacharunderscore}{\kern0pt}adjacency{\isacharprime}{\kern0pt}\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}symmetric{\isacharunderscore}{\kern0pt}adjacency{\isacharprime}{\kern0pt}\ G{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}symmetric{\isacharunderscore}{\kern0pt}adjacency{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isadigit{1}}\ G\ G{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ G{\isadigit{1}}{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ G{\isachardot}{\kern0pt}symmetric{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}difference{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharparenright}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}union{\isacharunderscore}{\kern0pt}G{\isadigit{1}}{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}symmetric{\isacharunderscore}{\kern0pt}adjacency{\isacharprime}{\kern0pt}\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}M{\isachardot}{\kern0pt}invar\ M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}symmetric{\isacharunderscore}{\kern0pt}Map\ M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}tbd\ M\ {\isasymsubseteq}\ G{\isachardot}{\kern0pt}E\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}union\ {\isacharparenleft}{\kern0pt}G{\isadigit{1}}\ G\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ u{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ u{\isacharparenright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymUnion}v{\isasymin}set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ L\ M{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ if\ u\ {\isacharequal}{\kern0pt}\ s\ then\ {\isacharbraceleft}{\kern0pt}v{\isacharbraceright}{\kern0pt}\ else\ if\ u\ {\isacharequal}{\kern0pt}\ v\ then\ {\isacharbraceleft}{\kern0pt}s{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymUnion}v{\isasymin}set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ R\ M{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ if\ u\ {\isacharequal}{\kern0pt}\ t\ then\ {\isacharbraceleft}{\kern0pt}v{\isacharbraceright}{\kern0pt}\ else\ if\ u\ {\isacharequal}{\kern0pt}\ v\ then\ {\isacharbraceleft}{\kern0pt}t{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}union\ {\isacharparenleft}{\kern0pt}G{\isadigit{1}}\ G\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ u{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}G{\isadigit{1}}\ G\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ u{\isacharparenright}{\kern0pt}\ {\isasymunion}\ set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ u{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}G{\isadigit{2}}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ invar{\isacharunderscore}{\kern0pt}G{\isadigit{1}}\ G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}union{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}rule\ symmetric{\isacharunderscore}{\kern0pt}adjacency{\isachardot}{\kern0pt}invar{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ u{\isacharparenright}{\kern0pt}\ {\isasymunion}\ set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ u{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}G{\isadigit{2}}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}G{\isadigit{1}}{\isacharunderscore}{\kern0pt}cong\ dest{\isacharcolon}{\kern0pt}\ symmetric{\isacharunderscore}{\kern0pt}adjacency{\isachardot}{\kern0pt}invar{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ u{\isacharparenright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}case\ M{\isacharunderscore}{\kern0pt}lookup\ M\ u\ of\ None\ {\isasymRightarrow}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharbar}{\kern0pt}\ Some\ v\ {\isasymRightarrow}\ {\isacharbraceleft}{\kern0pt}v{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymUnion}v{\isasymin}set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ L\ M{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ if\ u\ {\isacharequal}{\kern0pt}\ s\ then\ {\isacharbraceleft}{\kern0pt}v{\isacharbraceright}{\kern0pt}\ else\ if\ u\ {\isacharequal}{\kern0pt}\ v\ then\ {\isacharbraceleft}{\kern0pt}s{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymUnion}v{\isasymin}set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ R\ M{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ if\ u\ {\isacharequal}{\kern0pt}\ t\ then\ {\isacharbraceleft}{\kern0pt}v{\isacharbraceright}{\kern0pt}\ else\ if\ u\ {\isacharequal}{\kern0pt}\ v\ then\ {\isacharbraceleft}{\kern0pt}t{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ adjacency{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}cong{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ u{\isacharparenright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymUnion}v{\isasymin}set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ L\ M{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ if\ u\ {\isacharequal}{\kern0pt}\ s\ then\ {\isacharbraceleft}{\kern0pt}v{\isacharbraceright}{\kern0pt}\ else\ if\ u\ {\isacharequal}{\kern0pt}\ v\ then\ {\isacharbraceleft}{\kern0pt}s{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymUnion}v{\isasymin}set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ R\ M{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ if\ u\ {\isacharequal}{\kern0pt}\ t\ then\ {\isacharbraceleft}{\kern0pt}v{\isacharbraceright}{\kern0pt}\ else\ if\ u\ {\isacharequal}{\kern0pt}\ v\ then\ {\isacharbraceleft}{\kern0pt}t{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp\ add{\isacharcolon}{\kern0pt}\ symmetric{\isacharunderscore}{\kern0pt}adjacency{\isachardot}{\kern0pt}mem{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}edge\ split{\isacharcolon}{\kern0pt}\ option{\isachardot}{\kern0pt}splits{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharparenright}{\kern0pt}\ E{\isacharunderscore}{\kern0pt}union{\isacharunderscore}{\kern0pt}G{\isadigit{1}}{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}symmetric{\isacharunderscore}{\kern0pt}adjacency{\isacharprime}{\kern0pt}\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}M{\isachardot}{\kern0pt}invar\ M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}symmetric{\isacharunderscore}{\kern0pt}Map\ M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}tbd\ M\ {\isasymsubseteq}\ G{\isachardot}{\kern0pt}E\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}E\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}union\ {\isacharparenleft}{\kern0pt}G{\isadigit{1}}\ G\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ G{\isachardot}{\kern0pt}E\ G\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}s{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}\ {\isacharbar}{\kern0pt}v{\isachardot}{\kern0pt}\ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ L\ M{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}t{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}\ {\isacharbar}{\kern0pt}v{\isachardot}{\kern0pt}\ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ R\ M{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}G{\isadigit{2}}\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isachardoublequoteclose}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}G{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}G{\isadigit{1}}\ G\ {\isacharquery}{\kern0pt}G{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}E\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}union\ {\isacharquery}{\kern0pt}G{\isadigit{1}}\ {\isacharquery}{\kern0pt}G{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ G{\isachardot}{\kern0pt}E\ {\isacharquery}{\kern0pt}G{\isadigit{1}}\ {\isasymunion}\ G{\isachardot}{\kern0pt}E\ {\isacharquery}{\kern0pt}G{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}G{\isadigit{2}}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ invar{\isacharunderscore}{\kern0pt}G{\isadigit{1}}\ G{\isachardot}{\kern0pt}E{\isacharunderscore}{\kern0pt}union{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}rule\ symmetric{\isacharunderscore}{\kern0pt}adjacency{\isachardot}{\kern0pt}invar{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ G{\isachardot}{\kern0pt}E\ G\ {\isasymunion}\ G{\isachardot}{\kern0pt}E\ {\isacharquery}{\kern0pt}G{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ symmetric{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}G{\isadigit{2}}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ E{\isadigit{1}}{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ G{\isachardot}{\kern0pt}E\ G\ {\isasymunion}\isanewline
\ \ \ \ \ M{\isacharunderscore}{\kern0pt}tbd\ M\ {\isasymunion}\isanewline
\ \ \ \ \ {\isacharbraceleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}s{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}\ {\isacharbar}{\kern0pt}v{\isachardot}{\kern0pt}\ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ L\ M{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ \ {\isacharbraceleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}t{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}\ {\isacharbar}{\kern0pt}v{\isachardot}{\kern0pt}\ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ R\ M{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ E{\isadigit{2}}{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ G{\isachardot}{\kern0pt}E\ G\ {\isasymunion}\isanewline
\ \ \ \ \ {\isacharbraceleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}s{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}\ {\isacharbar}{\kern0pt}v{\isachardot}{\kern0pt}\ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ L\ M{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ \ {\isacharbraceleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}t{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}\ {\isacharbar}{\kern0pt}v{\isachardot}{\kern0pt}\ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ R\ M{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
One point to note is that, given graphs \isa{edmonds{\isacharunderscore}{\kern0pt}karp{\isachardot}{\kern0pt}G{\isadigit{1}}}, \isa{edmonds{\isacharunderscore}{\kern0pt}karp{\isachardot}{\kern0pt}G{\isadigit{2}}}, algorithm
\isa{alt{\isacharunderscore}{\kern0pt}bfs{\isachardot}{\kern0pt}alt{\isacharunderscore}{\kern0pt}bfs} finds alternating paths in the union of \isa{edmonds{\isacharunderscore}{\kern0pt}karp{\isachardot}{\kern0pt}G{\isadigit{1}}} and
\isa{edmonds{\isacharunderscore}{\kern0pt}karp{\isachardot}{\kern0pt}G{\isadigit{2}}}. We, on the other hand, are interested in paths in the input graph
\isa{G}, which, due to our augmentation by vertices \isa{s} and \isa{t}, is not equal to the
union of \isa{edmonds{\isacharunderscore}{\kern0pt}karp{\isachardot}{\kern0pt}G{\isadigit{1}}} and \isa{edmonds{\isacharunderscore}{\kern0pt}karp{\isachardot}{\kern0pt}G{\isadigit{2}}}. So let us relate the union to the
input graph.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharparenright}{\kern0pt}\ E{\isacharunderscore}{\kern0pt}union{\isacharunderscore}{\kern0pt}G{\isadigit{1}}{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}E\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}union\ {\isacharparenleft}{\kern0pt}G{\isadigit{1}}\ G\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ G{\isachardot}{\kern0pt}E\ G\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}s{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}\ {\isacharbar}{\kern0pt}v{\isachardot}{\kern0pt}\ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ L\ M{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}t{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}\ {\isacharbar}{\kern0pt}v{\isachardot}{\kern0pt}\ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ R\ M{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ symmetric{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}G\ invar{\isacharunderscore}{\kern0pt}M\ is{\isacharunderscore}{\kern0pt}symmetric{\isacharunderscore}{\kern0pt}Map{\isacharunderscore}{\kern0pt}M\ M{\isacharunderscore}{\kern0pt}tbd{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}E\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ E{\isacharunderscore}{\kern0pt}union{\isacharunderscore}{\kern0pt}G{\isadigit{1}}{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ V{\isacharunderscore}{\kern0pt}union{\isacharunderscore}{\kern0pt}G{\isadigit{1}}{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}V\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}union\ {\isacharparenleft}{\kern0pt}G{\isadigit{1}}\ G\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ G{\isachardot}{\kern0pt}V\ G\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}s{\isacharbraceright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}t{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}G{\isadigit{2}}\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isachardoublequoteclose}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}G{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}G{\isadigit{1}}\ G\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}V\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}union\ {\isacharquery}{\kern0pt}G{\isadigit{1}}\ {\isacharquery}{\kern0pt}G{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ G{\isachardot}{\kern0pt}V\ G\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}s{\isacharbraceright}{\kern0pt}\ {\isasymunion}\ set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ L\ M{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}t{\isacharbraceright}{\kern0pt}\ {\isasymunion}\ set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ R\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}E\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}union\ {\isacharquery}{\kern0pt}G{\isadigit{1}}\ {\isacharquery}{\kern0pt}G{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ G{\isachardot}{\kern0pt}E\ G\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}s{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}\ {\isacharbar}{\kern0pt}v{\isachardot}{\kern0pt}\ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ L\ M{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}t{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}\ {\isacharbar}{\kern0pt}v{\isachardot}{\kern0pt}\ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ R\ M{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ E{\isacharunderscore}{\kern0pt}union{\isacharunderscore}{\kern0pt}G{\isadigit{1}}{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}cong\isanewline
\ \ \ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}Vs\ {\isacharbraceleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}s{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}\ {\isacharbar}{\kern0pt}v{\isachardot}{\kern0pt}\ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ L\ M{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}s{\isacharbraceright}{\kern0pt}\ {\isasymunion}\ set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ L\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ L\ M{\isacharparenright}{\kern0pt}\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{1}}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ done{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ ex{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}conv{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ Vs{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}Vs\ {\isacharbraceleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}t{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}\ {\isacharbar}{\kern0pt}v{\isachardot}{\kern0pt}\ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ R\ M{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}t{\isacharbraceright}{\kern0pt}\ {\isasymunion}\ set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ R\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ R\ M{\isacharparenright}{\kern0pt}\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{1}}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ done{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ ex{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}conv{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ Vs{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ Vs{\isacharunderscore}{\kern0pt}def\ G{\isachardot}{\kern0pt}V{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ L\ M{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ G{\isachardot}{\kern0pt}V\ G{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices{\isacharunderscore}{\kern0pt}subset\ L{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}V\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ subset{\isacharunderscore}{\kern0pt}trans{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ R\ M{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ G{\isachardot}{\kern0pt}V\ G{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices{\isacharunderscore}{\kern0pt}subset\ R{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}V\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ subset{\isacharunderscore}{\kern0pt}trans{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharparenright}{\kern0pt}\ symmetric{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}union{\isacharunderscore}{\kern0pt}G{\isadigit{1}}{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}symmetric{\isacharunderscore}{\kern0pt}adjacency{\isacharprime}{\kern0pt}\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}M{\isachardot}{\kern0pt}invar\ M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}symmetric{\isacharunderscore}{\kern0pt}Map\ M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}symmetric{\isacharunderscore}{\kern0pt}adjacency{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}union\ {\isacharparenleft}{\kern0pt}G{\isadigit{1}}\ G\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ symmetric{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}G{\isadigit{2}}\ symmetric{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}G{\isadigit{1}}\ G{\isachardot}{\kern0pt}symmetric{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}union{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
We are now ready to show that $\langle \isa{edmonds{\isacharunderscore}{\kern0pt}karp{\isachardot}{\kern0pt}G{\isadigit{1}}},\isa{edmonds{\isacharunderscore}{\kern0pt}karp{\isachardot}{\kern0pt}G{\isadigit{2}}},\isa{s}\rangle$
constitutes a valid input for algorithm \isa{alt{\isacharunderscore}{\kern0pt}bfs{\isachardot}{\kern0pt}alt{\isacharunderscore}{\kern0pt}bfs}.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ alt{\isacharunderscore}{\kern0pt}bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}alt{\isacharunderscore}{\kern0pt}bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isadigit{1}}\ G\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ s{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}standard{\isacharcomma}{\kern0pt}\ goal{\isacharunderscore}{\kern0pt}cases{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{1}}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}G\ invar{\isacharunderscore}{\kern0pt}G{\isadigit{2}}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ invar{\isacharunderscore}{\kern0pt}G{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{2}}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}G{\isadigit{2}}\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{3}}\ v\ u{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ symmetric{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}G\ invar{\isacharunderscore}{\kern0pt}M\ is{\isacharunderscore}{\kern0pt}symmetric{\isacharunderscore}{\kern0pt}Map{\isacharunderscore}{\kern0pt}M\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharcolon}{\kern0pt}\ symmetric{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}G{\isadigit{2}}\ dest{\isacharcolon}{\kern0pt}\ symmetric{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}G{\isadigit{1}}\ symmetric{\isacharunderscore}{\kern0pt}adjacency{\isachardot}{\kern0pt}symmetric{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{4}}\ v\ u{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}M\ is{\isacharunderscore}{\kern0pt}symmetric{\isacharunderscore}{\kern0pt}Map{\isacharunderscore}{\kern0pt}M\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ dest{\isacharcolon}{\kern0pt}\ symmetric{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}G{\isadigit{2}}\ symmetric{\isacharunderscore}{\kern0pt}adjacency{\isachardot}{\kern0pt}symmetric{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{5}}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ symmetric{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}G\ invar{\isacharunderscore}{\kern0pt}M\ is{\isacharunderscore}{\kern0pt}symmetric{\isacharunderscore}{\kern0pt}Map{\isacharunderscore}{\kern0pt}M\ symmetric{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}G{\isadigit{2}}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ E{\isadigit{1}}{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{6}}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}bipartite{\isacharunderscore}{\kern0pt}graph\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}E\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}union\ {\isacharparenleft}{\kern0pt}G{\isadigit{1}}\ G\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}S{\isachardot}{\kern0pt}set\ L\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}t{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}S{\isachardot}{\kern0pt}set\ R\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}s{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}standard{\isacharcomma}{\kern0pt}\ goal{\isacharunderscore}{\kern0pt}cases{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{1}}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ G{\isachardot}{\kern0pt}E{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{2}}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}V\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}union\ {\isacharparenleft}{\kern0pt}G{\isadigit{1}}\ G\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ G{\isachardot}{\kern0pt}V\ G\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}s{\isacharbraceright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}t{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ L{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}V\ R{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}V\ V{\isacharunderscore}{\kern0pt}union{\isacharunderscore}{\kern0pt}G{\isadigit{1}}{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ L{\isacharunderscore}{\kern0pt}union{\isacharunderscore}{\kern0pt}R{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}V\ G{\isachardot}{\kern0pt}V{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{3}}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ s{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}L\ t{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}R\ s{\isacharunderscore}{\kern0pt}neq{\isacharunderscore}{\kern0pt}t\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ L{\isacharunderscore}{\kern0pt}R{\isacharunderscore}{\kern0pt}disjoint{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{4}}\ u\ v{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{consider}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}\ {\isasymin}\ G{\isachardot}{\kern0pt}E\ G{\isachardoublequoteclose}\ {\isacharbar}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}s{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}\ {\isacharbar}{\kern0pt}v{\isachardot}{\kern0pt}\ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ L\ M{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isacharbar}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}t{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}\ {\isacharbar}{\kern0pt}v{\isachardot}{\kern0pt}\ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ R\ M{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ E{\isacharunderscore}{\kern0pt}union{\isacharunderscore}{\kern0pt}G{\isadigit{1}}{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{1}}\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}u\ {\isasymin}\ G{\isachardot}{\kern0pt}S{\isachardot}{\kern0pt}set\ L\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}t{\isacharbraceright}{\kern0pt}\ {\isasymlongleftrightarrow}\ u\ {\isasymin}\ G{\isachardot}{\kern0pt}S{\isachardot}{\kern0pt}set\ L{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ t{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}V\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ G{\isachardot}{\kern0pt}V{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ v\ {\isasymin}\ G{\isachardot}{\kern0pt}S{\isachardot}{\kern0pt}set\ R{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ bipartite{\isacharunderscore}{\kern0pt}graph\ {\isadigit{1}}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ bipartite{\isacharunderscore}{\kern0pt}graph{\isachardot}{\kern0pt}endpoints{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ v\ {\isasymin}\ G{\isachardot}{\kern0pt}S{\isachardot}{\kern0pt}set\ R\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}s{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{1}}\ s{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}V\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ G{\isachardot}{\kern0pt}V{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{2}}\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}u\ {\isasymin}\ G{\isachardot}{\kern0pt}S{\isachardot}{\kern0pt}set\ L\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}t{\isacharbraceright}{\kern0pt}\ {\isasymlongleftrightarrow}\ u\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ L\ M{\isacharparenright}{\kern0pt}\ {\isasymand}\ v\ {\isacharequal}{\kern0pt}\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ s{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}L\ s{\isacharunderscore}{\kern0pt}neq{\isacharunderscore}{\kern0pt}t\ set{\isacharunderscore}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices{\isacharunderscore}{\kern0pt}subset\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ doubleton{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ v\ {\isasymin}\ G{\isachardot}{\kern0pt}S{\isachardot}{\kern0pt}set\ R\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}s{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}\ set{\isacharunderscore}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices{\isacharunderscore}{\kern0pt}subset\ L{\isacharunderscore}{\kern0pt}R{\isacharunderscore}{\kern0pt}disjoint\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ doubleton{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{3}}\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}u\ {\isasymin}\ G{\isachardot}{\kern0pt}S{\isachardot}{\kern0pt}set\ L\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}t{\isacharbraceright}{\kern0pt}\ {\isasymlongleftrightarrow}\ u\ {\isacharequal}{\kern0pt}\ t\ {\isasymand}\ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ R\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices{\isacharunderscore}{\kern0pt}subset\ L{\isacharunderscore}{\kern0pt}R{\isacharunderscore}{\kern0pt}disjoint\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ doubleton{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ v\ {\isasymin}\ G{\isachardot}{\kern0pt}S{\isachardot}{\kern0pt}set\ R\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}s{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}\ t{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}R\ s{\isacharunderscore}{\kern0pt}neq{\isacharunderscore}{\kern0pt}t\ set{\isacharunderscore}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices{\isacharunderscore}{\kern0pt}subset\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ doubleton{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ bipartite{\isacharunderscore}{\kern0pt}graph{\isachardot}{\kern0pt}no{\isacharunderscore}{\kern0pt}odd{\isacharunderscore}{\kern0pt}cycle{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{7}}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ v\ \isakeyword{where}\isanewline
\ \ \ \ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ L\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{1}}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp\ add{\isacharcolon}{\kern0pt}\ done{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ G{\isachardot}{\kern0pt}V{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}M\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ edges{\isacharunderscore}{\kern0pt}are{\isacharunderscore}{\kern0pt}Vs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ E{\isadigit{2}}{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ parent{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}Parent{\isacharunderscore}{\kern0pt}Relation{\isachardot}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}m{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}alt{\isacharunderscore}{\kern0pt}bfs{\isacharunderscore}{\kern0pt}invar{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}G{\isadigit{1}}\ G\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ s\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}alt{\isacharunderscore}{\kern0pt}loop\ {\isacharparenleft}{\kern0pt}G{\isadigit{1}}\ G\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ s\ {\isacharparenleft}{\kern0pt}init\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ alt{\isacharunderscore}{\kern0pt}bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ alt{\isacharunderscore}{\kern0pt}bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}alt{\isacharunderscore}{\kern0pt}loop{\isacharunderscore}{\kern0pt}init{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ alt{\isacharunderscore}{\kern0pt}bfs{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ alt{\isacharunderscore}{\kern0pt}bfs{\isacharunderscore}{\kern0pt}invar{\isachardot}{\kern0pt}axioms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ hd{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}s{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}m{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ v\ {\isasymnoteq}\ None{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}hd\ {\isacharparenleft}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}m{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ s{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}alt{\isacharunderscore}{\kern0pt}bfs{\isacharunderscore}{\kern0pt}invar{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}G{\isadigit{1}}\ G\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ s\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}alt{\isacharunderscore}{\kern0pt}loop\ {\isacharparenleft}{\kern0pt}G{\isadigit{1}}\ G\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ s\ {\isacharparenleft}{\kern0pt}init\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ alt{\isacharunderscore}{\kern0pt}bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ alt{\isacharunderscore}{\kern0pt}bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}alt{\isacharunderscore}{\kern0pt}loop{\isacharunderscore}{\kern0pt}init{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ alt{\isacharunderscore}{\kern0pt}bfs{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}meson\ is{\isacharunderscore}{\kern0pt}discovered{\isacharunderscore}{\kern0pt}def\ alt{\isacharunderscore}{\kern0pt}bfs{\isacharunderscore}{\kern0pt}invar{\isachardot}{\kern0pt}hd{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}src{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
Hence, by the soundness of algorithm \isa{alt{\isacharunderscore}{\kern0pt}bfs{\isachardot}{\kern0pt}alt{\isacharunderscore}{\kern0pt}bfs}, any path from vertex \isa{s} induced
by the parent relation output by \isa{alt{\isacharunderscore}{\kern0pt}bfs{\isachardot}{\kern0pt}alt{\isacharunderscore}{\kern0pt}bfs} is a shortest alternating path in the union
of graphs \isa{edmonds{\isacharunderscore}{\kern0pt}karp{\isachardot}{\kern0pt}G{\isadigit{1}}} and \isa{edmonds{\isacharunderscore}{\kern0pt}karp{\isachardot}{\kern0pt}G{\isadigit{2}}}.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}shortest{\isacharunderscore}{\kern0pt}alt{\isacharunderscore}{\kern0pt}path{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}m{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ v\ {\isasymnoteq}\ None{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}shortest{\isacharunderscore}{\kern0pt}alt{\isacharunderscore}{\kern0pt}path\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymlambda}e{\isachardot}{\kern0pt}\ e\ {\isasymin}\ G{\isachardot}{\kern0pt}E\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}e{\isachardot}{\kern0pt}\ e\ {\isasymin}\ G{\isachardot}{\kern0pt}E\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}E\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}union\ {\isacharparenleft}{\kern0pt}G{\isadigit{1}}\ G\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}m{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ s\ v{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ alt{\isacharunderscore}{\kern0pt}bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input\ assms\isanewline
\ \ \isacommand{unfolding}\isamarkupfalse%
\ alt{\isacharunderscore}{\kern0pt}bfs{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ alt{\isacharunderscore}{\kern0pt}bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isachardot}{\kern0pt}alt{\isacharunderscore}{\kern0pt}bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}init\ is{\isacharunderscore}{\kern0pt}discovered{\isacharunderscore}{\kern0pt}def\ alt{\isacharunderscore}{\kern0pt}bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isachardot}{\kern0pt}alt{\isacharunderscore}{\kern0pt}loop{\isacharunderscore}{\kern0pt}sound{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharparenright}{\kern0pt}\ lookup{\isacharunderscore}{\kern0pt}s{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}None{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}lookup\ M\ s\ {\isacharequal}{\kern0pt}\ None{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{{\isacharbraceleft}{\kern0pt}}\isamarkupfalse%
\ \isacommand{fix}\isamarkupfalse%
\ v\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}lookup\ M\ s\ {\isacharequal}{\kern0pt}\ Some\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}s{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}\ {\isasymin}\ G{\isachardot}{\kern0pt}E\ G{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ match{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}edge{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}s\ {\isasymin}\ G{\isachardot}{\kern0pt}V\ G{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ G{\isachardot}{\kern0pt}V{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ edges{\isacharunderscore}{\kern0pt}are{\isacharunderscore}{\kern0pt}Vs{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ s{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}V\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\ \isacommand{{\isacharbraceright}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharparenright}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}union{\isacharunderscore}{\kern0pt}G{\isadigit{1}}{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}s{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}union\ {\isacharparenleft}{\kern0pt}G{\isadigit{1}}\ G\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ s{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ L\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}union\ {\isacharparenleft}{\kern0pt}G{\isadigit{1}}\ G\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ s{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}G{\isadigit{1}}\ G\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ s{\isacharparenright}{\kern0pt}\ {\isasymunion}\ set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}G\ invar{\isacharunderscore}{\kern0pt}G{\isadigit{2}}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ invar{\isacharunderscore}{\kern0pt}G{\isadigit{1}}\ G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}union{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ s{\isacharparenright}{\kern0pt}\ {\isasymunion}\ set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}G\ invar{\isacharunderscore}{\kern0pt}G{\isadigit{2}}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}G{\isadigit{1}}{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{{\isacharbraceleft}{\kern0pt}}\isamarkupfalse%
\ \isacommand{fix}\isamarkupfalse%
\ v\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}s{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}\ {\isasymin}\ G{\isachardot}{\kern0pt}E\ G{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ symmetric{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}G\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ symmetric{\isacharunderscore}{\kern0pt}adjacency{\isachardot}{\kern0pt}mem{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}edge{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}s\ {\isasymin}\ G{\isachardot}{\kern0pt}V\ G{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ G{\isachardot}{\kern0pt}V{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ edges{\isacharunderscore}{\kern0pt}are{\isacharunderscore}{\kern0pt}Vs{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ s{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}V\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\ \isacommand{{\isacharbraceright}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ L\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ s{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}R\ s{\isacharunderscore}{\kern0pt}neq{\isacharunderscore}{\kern0pt}t\ invar{\isacharunderscore}{\kern0pt}M\ lookup{\isacharunderscore}{\kern0pt}s{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}None\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ adjacency{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}s{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharparenright}{\kern0pt}\ lookup{\isacharunderscore}{\kern0pt}t{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}None{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}lookup\ M\ t\ {\isacharequal}{\kern0pt}\ None{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{{\isacharbraceleft}{\kern0pt}}\isamarkupfalse%
\ \isacommand{fix}\isamarkupfalse%
\ v\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}lookup\ M\ t\ {\isacharequal}{\kern0pt}\ Some\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}t{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}\ {\isasymin}\ G{\isachardot}{\kern0pt}E\ G{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ match{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}edge{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}t\ {\isasymin}\ G{\isachardot}{\kern0pt}V\ G{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ G{\isachardot}{\kern0pt}V{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ edges{\isacharunderscore}{\kern0pt}are{\isacharunderscore}{\kern0pt}Vs{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ t{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}V\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\ \isacommand{{\isacharbraceright}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharparenright}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}union{\isacharunderscore}{\kern0pt}G{\isadigit{1}}{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}t{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}union\ {\isacharparenleft}{\kern0pt}G{\isadigit{1}}\ G\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ t{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ R\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}union\ {\isacharparenleft}{\kern0pt}G{\isadigit{1}}\ G\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ t{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}G{\isadigit{1}}\ G\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ t{\isacharparenright}{\kern0pt}\ {\isasymunion}\ set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}G\ invar{\isacharunderscore}{\kern0pt}G{\isadigit{2}}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ invar{\isacharunderscore}{\kern0pt}G{\isadigit{1}}\ G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}union{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ t{\isacharparenright}{\kern0pt}\ {\isasymunion}\ set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}G\ invar{\isacharunderscore}{\kern0pt}G{\isadigit{2}}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}G{\isadigit{1}}{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{{\isacharbraceleft}{\kern0pt}}\isamarkupfalse%
\ \isacommand{fix}\isamarkupfalse%
\ v\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}t{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}\ {\isasymin}\ G{\isachardot}{\kern0pt}E\ G{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ symmetric{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}G\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ symmetric{\isacharunderscore}{\kern0pt}adjacency{\isachardot}{\kern0pt}mem{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}edge{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}t\ {\isasymin}\ G{\isachardot}{\kern0pt}V\ G{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ G{\isachardot}{\kern0pt}V{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ edges{\isacharunderscore}{\kern0pt}are{\isacharunderscore}{\kern0pt}Vs{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ t{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}V\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\ \isacommand{{\isacharbraceright}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ R\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ t{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}L\ s{\isacharunderscore}{\kern0pt}neq{\isacharunderscore}{\kern0pt}t\ invar{\isacharunderscore}{\kern0pt}M\ lookup{\isacharunderscore}{\kern0pt}t{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}None\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ adjacency{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}t{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ rev{\isacharunderscore}{\kern0pt}followE{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{obtains}\ p\ u\ v\ \isakeyword{where}\isanewline
\ \ \ \ {\isachardoublequoteopen}rev{\isacharunderscore}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}m{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ t\ {\isacharequal}{\kern0pt}\ s\ {\isacharhash}{\kern0pt}\ u\ {\isacharhash}{\kern0pt}\ p\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}v{\isacharcomma}{\kern0pt}\ t{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}rev{\isacharunderscore}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}m{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ t{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Nil\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ parent\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ dest{\isacharcolon}{\kern0pt}\ rev{\isacharunderscore}{\kern0pt}follow{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ p{\isacharcolon}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Cons\ x\ xs{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}G\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}union\ {\isacharparenleft}{\kern0pt}G{\isadigit{1}}\ G\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}p\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}rev{\isacharunderscore}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}m{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ t{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ path{\isacharunderscore}{\kern0pt}p{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}path\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}E\ {\isacharquery}{\kern0pt}G{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}p{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ done{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}intro\ is{\isacharunderscore}{\kern0pt}shortest{\isacharunderscore}{\kern0pt}alt{\isacharunderscore}{\kern0pt}pathD{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ alt{\isacharunderscore}{\kern0pt}pathD{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ walk{\isacharunderscore}{\kern0pt}between{\isacharunderscore}{\kern0pt}nonempty{\isacharunderscore}{\kern0pt}path{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}rule\ is{\isacharunderscore}{\kern0pt}shortest{\isacharunderscore}{\kern0pt}alt{\isacharunderscore}{\kern0pt}path{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ hd{\isacharunderscore}{\kern0pt}p{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}s{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}hd\ {\isacharquery}{\kern0pt}p\ {\isacharequal}{\kern0pt}\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ done{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}def\ intro{\isacharcolon}{\kern0pt}\ hd{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}s{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ last{\isacharunderscore}{\kern0pt}p{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}t{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}last\ {\isacharquery}{\kern0pt}p\ {\isacharequal}{\kern0pt}\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ parent\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ last{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ xs{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ Nil\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}p\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}x{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ p{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}x\ {\isacharequal}{\kern0pt}\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}x\ {\isacharequal}{\kern0pt}\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ hd{\isacharunderscore}{\kern0pt}p{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}s\ last{\isacharunderscore}{\kern0pt}p{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}t\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ s{\isacharunderscore}{\kern0pt}neq{\isacharunderscore}{\kern0pt}t\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ xs{\isacharcolon}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Cons\ y\ ys{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}rev\ ys{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ Nil\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}p\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ y{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ p\ xs{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}x\ {\isacharequal}{\kern0pt}\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}y\ {\isacharequal}{\kern0pt}\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ hd{\isacharunderscore}{\kern0pt}p{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}s\ last{\isacharunderscore}{\kern0pt}p{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}t\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}s{\isacharcomma}{\kern0pt}\ t{\isacharbraceright}{\kern0pt}\ {\isasymin}\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}E\ {\isacharquery}{\kern0pt}G{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ path{\isacharunderscore}{\kern0pt}p\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{consider}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}s{\isacharcomma}{\kern0pt}\ t{\isacharbraceright}{\kern0pt}\ {\isasymin}\ G{\isachardot}{\kern0pt}E\ G{\isachardoublequoteclose}\ {\isacharbar}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}s{\isacharcomma}{\kern0pt}\ t{\isacharbraceright}{\kern0pt}\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}s{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}\ {\isacharbar}{\kern0pt}v{\isachardot}{\kern0pt}\ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ L\ M{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isacharbar}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}s{\isacharcomma}{\kern0pt}\ t{\isacharbraceright}{\kern0pt}\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}t{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}\ {\isacharbar}{\kern0pt}v{\isachardot}{\kern0pt}\ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ R\ M{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ E{\isacharunderscore}{\kern0pt}union{\isacharunderscore}{\kern0pt}G{\isadigit{1}}{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{1}}\isanewline
\ \ \ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ s{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}V\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ G{\isachardot}{\kern0pt}V{\isacharunderscore}{\kern0pt}def\ intro{\isacharcolon}{\kern0pt}\ edges{\isacharunderscore}{\kern0pt}are{\isacharunderscore}{\kern0pt}Vs{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{2}}\isanewline
\ \ \ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ t{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}L\ set{\isacharunderscore}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices{\isacharunderscore}{\kern0pt}subset\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}force\ simp\ add{\isacharcolon}{\kern0pt}\ doubleton{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{3}}\isanewline
\ \ \ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ s{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}R\ set{\isacharunderscore}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices{\isacharunderscore}{\kern0pt}subset\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}force\ simp\ add{\isacharcolon}{\kern0pt}\ doubleton{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Cons\ z\ zs{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ ys{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ys\ {\isacharequal}{\kern0pt}\ rev\ zs\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}z{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ zs{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ Nil\isanewline
\ \ \ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}p\ {\isacharequal}{\kern0pt}\ x\ {\isacharhash}{\kern0pt}\ y\ {\isacharhash}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}z{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ p\ xs\ ys{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}x\ {\isacharequal}{\kern0pt}\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}z\ {\isacharequal}{\kern0pt}\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ hd{\isacharunderscore}{\kern0pt}p{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}s\ last{\isacharunderscore}{\kern0pt}p{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}t\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}s{\isacharcomma}{\kern0pt}\ y{\isacharbraceright}{\kern0pt}\ {\isasymin}\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}E\ {\isacharquery}{\kern0pt}G{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ t{\isacharbraceright}{\kern0pt}\ {\isasymin}\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}E\ {\isacharquery}{\kern0pt}G{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ path{\isacharunderscore}{\kern0pt}p\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}s{\isacharcomma}{\kern0pt}\ y{\isacharbraceright}{\kern0pt}\ {\isasymin}\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}E\ {\isacharquery}{\kern0pt}G{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}t{\isacharcomma}{\kern0pt}\ y{\isacharbraceright}{\kern0pt}\ {\isasymin}\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}E\ {\isacharquery}{\kern0pt}G{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ doubleton{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}y\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharquery}{\kern0pt}G\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}y\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharquery}{\kern0pt}G\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ symmetric{\isacharunderscore}{\kern0pt}adjacency{\isachardot}{\kern0pt}mem{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}edge{\isacharbrackleft}{\kern0pt}OF\ symmetric{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}union{\isacharunderscore}{\kern0pt}G{\isadigit{1}}{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharbrackleft}{\kern0pt}OF\ symmetric{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}G\ invar{\isacharunderscore}{\kern0pt}M\ is{\isacharunderscore}{\kern0pt}symmetric{\isacharunderscore}{\kern0pt}Map{\isacharunderscore}{\kern0pt}M{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}y\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ L\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}y\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ R\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp{\isacharunderscore}{\kern0pt}all\ add{\isacharcolon}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}union{\isacharunderscore}{\kern0pt}G{\isadigit{1}}{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}s{\isacharunderscore}{\kern0pt}cong\ adjacency{\isacharunderscore}{\kern0pt}union{\isacharunderscore}{\kern0pt}G{\isadigit{1}}{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}t{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}y\ {\isasymin}\ G{\isachardot}{\kern0pt}S{\isachardot}{\kern0pt}set\ L{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}y\ {\isasymin}\ G{\isachardot}{\kern0pt}S{\isachardot}{\kern0pt}set\ R{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices{\isacharunderscore}{\kern0pt}subset\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ L{\isacharunderscore}{\kern0pt}R{\isacharunderscore}{\kern0pt}disjoint\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Cons\ z{\isacharprime}{\kern0pt}\ zs{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}ys\ {\isacharequal}{\kern0pt}\ rev\ zs{\isacharprime}{\kern0pt}\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}z{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ z{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ ys{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}p\ {\isacharequal}{\kern0pt}\ x\ {\isacharhash}{\kern0pt}\ y\ {\isacharhash}{\kern0pt}\ rev\ zs{\isacharprime}{\kern0pt}\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}z{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ z{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ p\ xs{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}x\ {\isacharequal}{\kern0pt}\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}z\ {\isacharequal}{\kern0pt}\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ hd{\isacharunderscore}{\kern0pt}p{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}s\ last{\isacharunderscore}{\kern0pt}p{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}t\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}blast\ intro{\isacharcolon}{\kern0pt}\ that{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ length{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharunderscore}{\kern0pt}geq{\isacharunderscore}{\kern0pt}{\isadigit{4}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isadigit{4}}\ {\isasymle}\ length\ {\isacharparenleft}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}m{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ rev{\isacharunderscore}{\kern0pt}followE\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ fastforce%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ length{\isacharunderscore}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd{\isacharunderscore}{\kern0pt}geq{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isadigit{2}}\ {\isasymle}\ length\ {\isacharparenleft}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{4}}\ {\isasymle}\ length\ {\isacharparenleft}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}m{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ length{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharunderscore}{\kern0pt}geq{\isacharunderscore}{\kern0pt}{\isadigit{4}}\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}length\ {\isacharparenleft}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ length\ {\isacharparenleft}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}m{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ t{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ length{\isacharunderscore}{\kern0pt}butlast{\isacharunderscore}{\kern0pt}tl{\isacharparenright}{\kern0pt}\ simp\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ linarith\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharparenright}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}Vs{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}free{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}symmetric{\isacharunderscore}{\kern0pt}Map\ M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertex\ M\ v{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}v\ {\isasymnotin}\ Vs\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}v\ {\isasymin}\ Vs\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ u\ \isakeyword{where}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}\ {\isasymin}\ M{\isacharunderscore}{\kern0pt}tbd\ M{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ Vs{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}lookup\ M\ u\ {\isacharequal}{\kern0pt}\ Some\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ doubleton{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}iff\ is{\isacharunderscore}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertex{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}lookup\ M\ v\ {\isacharequal}{\kern0pt}\ Some\ u{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertex{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharparenright}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}Vs{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}free{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}v\ {\isasymnotin}\ Vs\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertex\ M\ v{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ ccontr{\isacharcomma}{\kern0pt}\ goal{\isacharunderscore}{\kern0pt}cases{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{1}}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ u\ \isakeyword{where}\isanewline
\ \ \ \ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}lookup\ M\ v\ {\isacharequal}{\kern0pt}\ Some\ u{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertex{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharparenright}{\kern0pt}\ mem{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}E{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}M{\isachardot}{\kern0pt}invar\ M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}s\ {\isasymnotin}\ set\ p{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}t\ {\isasymnotin}\ set\ p{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymforall}e{\isasymin}P{\isacharunderscore}{\kern0pt}tbd\ p{\isachardot}{\kern0pt}\ e\ {\isasymin}\ G{\isachardot}{\kern0pt}E\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ e\ {\isasymin}\ M{\isacharunderscore}{\kern0pt}tbd\ M{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ e\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}e\ {\isasymin}\ P{\isacharunderscore}{\kern0pt}tbd\ p{\isachardoublequoteclose}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}s\ {\isasymnotin}\ e{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}t\ {\isasymnotin}\ e{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}\ {\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ dest{\isacharcolon}{\kern0pt}\ v{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}edge{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}path{\isacharunderscore}{\kern0pt}gen{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}e\ {\isasymin}\ G{\isachardot}{\kern0pt}E\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ e\ {\isasymin}\ M{\isacharunderscore}{\kern0pt}tbd\ M{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ E{\isadigit{2}}{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ s{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}s\ {\isasymnotin}\ set\ {\isacharparenleft}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}hd\ {\isacharparenleft}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}m{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ t{\isacharparenright}{\kern0pt}\ {\isasymnotin}\ set\ {\isacharparenleft}{\kern0pt}tl\ {\isacharparenleft}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}m{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ t{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ parent\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ rev{\isacharunderscore}{\kern0pt}follow{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty\ distinct{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow\ distinct{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}hd{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}tl{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}s\ {\isasymnotin}\ set\ {\isacharparenleft}{\kern0pt}tl\ {\isacharparenleft}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}m{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ t{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ done{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}def\ hd{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}s{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ dest{\isacharcolon}{\kern0pt}\ in{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}butlastD{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ t{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}t\ {\isasymnotin}\ set\ {\isacharparenleft}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ tl{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}tl\ {\isacharparenleft}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}m{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ t{\isacharparenright}{\kern0pt}\ {\isasymnoteq}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{4}}\ {\isasymle}\ length\ {\isacharparenleft}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}m{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ length{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharunderscore}{\kern0pt}geq{\isacharunderscore}{\kern0pt}{\isadigit{4}}\isanewline
\ \ \ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{3}}\ {\isasymle}\ length\ {\isacharparenleft}{\kern0pt}tl\ {\isacharparenleft}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}m{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ t{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}last\ {\isacharparenleft}{\kern0pt}tl\ {\isacharparenleft}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}m{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ t{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymnotin}\ set\ {\isacharparenleft}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ tl{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty\ parent\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ distinct{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow\ distinct{\isacharunderscore}{\kern0pt}tl\ distinct{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}last{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}butlast{\isacharparenright}{\kern0pt}\ force{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}last\ {\isacharparenleft}{\kern0pt}tl\ {\isacharparenleft}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}m{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ t{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ t{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}last\ {\isacharparenleft}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}m{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ t{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ parent\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ last{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ tl{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ last{\isacharunderscore}{\kern0pt}tl{\isacharparenright}{\kern0pt}\ force{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ mem{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}E{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymforall}e{\isasymin}P{\isacharunderscore}{\kern0pt}tbd\ {\isacharparenleft}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ e\ {\isasymin}\ G{\isachardot}{\kern0pt}E\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ e\ {\isasymin}\ M{\isacharunderscore}{\kern0pt}tbd\ M{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}M\ s{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd\ t{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ mem{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}E{\isadigit{2}}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ hd{\isacharunderscore}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}s{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}hd\ {\isacharparenleft}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ last{\isacharunderscore}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}t{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}last\ {\isacharparenleft}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}G\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}union\ {\isacharparenleft}{\kern0pt}G{\isadigit{1}}\ G\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}p\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}rev{\isacharunderscore}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}m{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ t{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ path{\isacharunderscore}{\kern0pt}p{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}path\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}E\ {\isacharquery}{\kern0pt}G{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}p{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ done{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}intro\ is{\isacharunderscore}{\kern0pt}shortest{\isacharunderscore}{\kern0pt}alt{\isacharunderscore}{\kern0pt}pathD{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ alt{\isacharunderscore}{\kern0pt}pathD{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ walk{\isacharunderscore}{\kern0pt}between{\isacharunderscore}{\kern0pt}nonempty{\isacharunderscore}{\kern0pt}path{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}rule\ is{\isacharunderscore}{\kern0pt}shortest{\isacharunderscore}{\kern0pt}alt{\isacharunderscore}{\kern0pt}path{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ p\ u\ v\ \isakeyword{where}\isanewline
\ \ \ \ p{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}p\ {\isacharequal}{\kern0pt}\ s\ {\isacharhash}{\kern0pt}\ u\ {\isacharhash}{\kern0pt}\ p\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}v{\isacharcomma}{\kern0pt}\ t{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ rev{\isacharunderscore}{\kern0pt}followE\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}s{\isacharcomma}{\kern0pt}\ u{\isacharbraceright}{\kern0pt}\ {\isasymin}\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}E\ {\isacharquery}{\kern0pt}G{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}v{\isacharcomma}{\kern0pt}\ t{\isacharbraceright}{\kern0pt}\ {\isasymin}\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}E\ {\isacharquery}{\kern0pt}G{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ path{\isacharunderscore}{\kern0pt}p\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharcolon}{\kern0pt}\ path{\isacharunderscore}{\kern0pt}snocD{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ {\isacharquery}{\kern0pt}p\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}s\ {\isacharhash}{\kern0pt}\ u\ {\isacharhash}{\kern0pt}\ p{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}s{\isacharcomma}{\kern0pt}\ u{\isacharbraceright}{\kern0pt}\ {\isasymin}\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}E\ {\isacharquery}{\kern0pt}G{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}t{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}\ {\isasymin}\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}E\ {\isacharquery}{\kern0pt}G{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ doubleton{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}u\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharquery}{\kern0pt}G\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharquery}{\kern0pt}G\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ symmetric{\isacharunderscore}{\kern0pt}adjacency{\isachardot}{\kern0pt}mem{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}edge{\isacharbrackleft}{\kern0pt}OF\ symmetric{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}union{\isacharunderscore}{\kern0pt}G{\isadigit{1}}{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharbrackleft}{\kern0pt}OF\ symmetric{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}G\ invar{\isacharunderscore}{\kern0pt}M\ is{\isacharunderscore}{\kern0pt}symmetric{\isacharunderscore}{\kern0pt}Map{\isacharunderscore}{\kern0pt}M{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}u\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ L\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ R\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp{\isacharunderscore}{\kern0pt}all\ add{\isacharcolon}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}union{\isacharunderscore}{\kern0pt}G{\isadigit{1}}{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}s{\isacharunderscore}{\kern0pt}cong\ adjacency{\isacharunderscore}{\kern0pt}union{\isacharunderscore}{\kern0pt}G{\isadigit{1}}{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}t{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}u\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}u\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ L\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}u\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ lookup{\isacharunderscore}{\kern0pt}s{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}None\ s{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}R\ s{\isacharunderscore}{\kern0pt}neq{\isacharunderscore}{\kern0pt}t\ invar{\isacharunderscore}{\kern0pt}M\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ adjacency{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}s{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\ blast{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ R\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ lookup{\isacharunderscore}{\kern0pt}t{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}None\ t{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}L\ s{\isacharunderscore}{\kern0pt}neq{\isacharunderscore}{\kern0pt}t\ invar{\isacharunderscore}{\kern0pt}M\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ adjacency{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}t{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\ blast{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}hd\ {\isacharparenleft}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}last\ {\isacharparenleft}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp{\isacharunderscore}{\kern0pt}all\ add{\isacharcolon}{\kern0pt}\ p\ butlast{\isacharunderscore}{\kern0pt}append{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ hd{\isacharunderscore}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}Vs{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}hd\ {\isacharparenleft}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ {\isasymnotin}\ Vs\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}hd\ {\isacharparenleft}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ hd{\isacharunderscore}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}s\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}hd\ {\isacharparenleft}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ L\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ s{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}R\ s{\isacharunderscore}{\kern0pt}neq{\isacharunderscore}{\kern0pt}t\ invar{\isacharunderscore}{\kern0pt}M\ lookup{\isacharunderscore}{\kern0pt}s{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}None\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}s{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertex\ M\ {\isacharparenleft}{\kern0pt}hd\ {\isacharparenleft}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ free{\isacharunderscore}{\kern0pt}vertices{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}symmetric{\isacharunderscore}{\kern0pt}Map{\isacharunderscore}{\kern0pt}M\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ not{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}Vs{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}free{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ last{\isacharunderscore}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}Vs{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}last\ {\isacharparenleft}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ {\isasymnotin}\ Vs\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}last\ {\isacharparenleft}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ last{\isacharunderscore}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}t\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}last\ {\isacharparenleft}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ R\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ t{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}L\ s{\isacharunderscore}{\kern0pt}neq{\isacharunderscore}{\kern0pt}t\ invar{\isacharunderscore}{\kern0pt}M\ lookup{\isacharunderscore}{\kern0pt}t{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}None\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}t{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertex\ M\ {\isacharparenleft}{\kern0pt}last\ {\isacharparenleft}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ free{\isacharunderscore}{\kern0pt}vertices{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}symmetric{\isacharunderscore}{\kern0pt}Map{\isacharunderscore}{\kern0pt}M\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ not{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}Vs{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}free{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
By our construction of graphs \isa{edmonds{\isacharunderscore}{\kern0pt}karp{\isachardot}{\kern0pt}G{\isadigit{1}}} and \isa{edmonds{\isacharunderscore}{\kern0pt}karp{\isachardot}{\kern0pt}G{\isadigit{2}}}, we can use
this--as described above--to obtain an augmenting path in graph \isa{G} w.r.t.\ the current
matching \isa{M}.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ augmenting{\isacharunderscore}{\kern0pt}path{\isacharunderscore}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}augmenting{\isacharunderscore}{\kern0pt}path\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd\ M{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ augmenting{\isacharunderscore}{\kern0pt}pathI{\isacharcomma}{\kern0pt}\ goal{\isacharunderscore}{\kern0pt}cases{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{1}}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ length{\isacharunderscore}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd{\isacharunderscore}{\kern0pt}geq{\isacharunderscore}{\kern0pt}{\isadigit{2}}\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{2}}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}p\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}rev{\isacharunderscore}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}m{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ t{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ non{\isacharunderscore}{\kern0pt}empty{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}edges{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}path\ {\isacharparenleft}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ {\isasymnoteq}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}edges{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}path\ {\isacharparenleft}{\kern0pt}tl\ {\isacharquery}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasymnoteq}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}edges{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}path\ {\isacharquery}{\kern0pt}p\ {\isasymnoteq}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{2}}\ {\isasymle}\ length\ {\isacharparenleft}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ length{\isacharunderscore}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd{\isacharunderscore}{\kern0pt}geq{\isacharunderscore}{\kern0pt}{\isadigit{2}}\isanewline
\ \ \ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isadigit{2}}\ {\isasymle}\ length\ {\isacharparenleft}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isadigit{3}}\ {\isasymle}\ length\ {\isacharparenleft}{\kern0pt}tl\ {\isacharquery}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isadigit{4}}\ {\isasymle}\ length\ {\isacharquery}{\kern0pt}p{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isadigit{1}}\ {\isasymle}\ length\ {\isacharparenleft}{\kern0pt}edges{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}path\ {\isacharparenleft}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isadigit{2}}\ {\isasymle}\ length\ {\isacharparenleft}{\kern0pt}edges{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}path\ {\isacharparenleft}{\kern0pt}tl\ {\isacharquery}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isadigit{3}}\ {\isasymle}\ length\ {\isacharparenleft}{\kern0pt}edges{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}path\ {\isacharquery}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp{\isacharunderscore}{\kern0pt}all\ add{\isacharcolon}{\kern0pt}\ edges{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}path{\isacharunderscore}{\kern0pt}length{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}edges{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}path\ {\isacharparenleft}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ {\isasymnoteq}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}edges{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}path\ {\isacharparenleft}{\kern0pt}tl\ {\isacharquery}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasymnoteq}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}edges{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}path\ {\isacharquery}{\kern0pt}p\ {\isasymnoteq}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}alt{\isacharunderscore}{\kern0pt}list\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymlambda}e{\isachardot}{\kern0pt}\ e\ {\isasymin}\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}E\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}e{\isachardot}{\kern0pt}\ e\ {\isasymin}\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}E\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}edges{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}path\ {\isacharquery}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ done{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ is{\isacharunderscore}{\kern0pt}shortest{\isacharunderscore}{\kern0pt}alt{\isacharunderscore}{\kern0pt}pathD{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ alt{\isacharunderscore}{\kern0pt}pathD{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}rule\ is{\isacharunderscore}{\kern0pt}shortest{\isacharunderscore}{\kern0pt}alt{\isacharunderscore}{\kern0pt}path{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}alt{\isacharunderscore}{\kern0pt}list\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}e{\isachardot}{\kern0pt}\ e\ {\isasymin}\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}E\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymlambda}e{\isachardot}{\kern0pt}\ e\ {\isasymin}\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}E\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}edges{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}path\ {\isacharparenleft}{\kern0pt}tl\ {\isacharquery}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ non{\isacharunderscore}{\kern0pt}empty{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ edges{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}path{\isacharunderscore}{\kern0pt}tl\ intro{\isacharcolon}{\kern0pt}\ alt{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}tl{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}alt{\isacharunderscore}{\kern0pt}list\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}e{\isachardot}{\kern0pt}\ e\ {\isasymin}\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}E\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymlambda}e{\isachardot}{\kern0pt}\ e\ {\isasymin}\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}E\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}edges{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}path\ {\isacharparenleft}{\kern0pt}butlast\ {\isacharparenleft}{\kern0pt}tl\ {\isacharquery}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ non{\isacharunderscore}{\kern0pt}empty{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ edges{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}path{\isacharunderscore}{\kern0pt}butlast\ intro{\isacharcolon}{\kern0pt}\ alt{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}butlast{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ mem{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}E{\isadigit{2}}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharcolon}{\kern0pt}\ alt{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{3}}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ hd{\isacharunderscore}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}Vs{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{4}}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ last{\isacharunderscore}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}Vs{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ P{\isacharunderscore}{\kern0pt}tbd{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}E{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}tbd\ {\isacharparenleft}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ G{\isachardot}{\kern0pt}E\ G{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}G\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}union\ {\isacharparenleft}{\kern0pt}G{\isadigit{1}}\ G\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}p\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}rev{\isacharunderscore}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}m{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ t{\isachardoublequoteclose}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ e\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ assm{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}e\ {\isasymin}\ P{\isacharunderscore}{\kern0pt}tbd\ {\isacharparenleft}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}path\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}E\ {\isacharquery}{\kern0pt}G{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}p{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ done{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}intro\ is{\isacharunderscore}{\kern0pt}shortest{\isacharunderscore}{\kern0pt}alt{\isacharunderscore}{\kern0pt}pathD{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ alt{\isacharunderscore}{\kern0pt}pathD{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ walk{\isacharunderscore}{\kern0pt}between{\isacharunderscore}{\kern0pt}nonempty{\isacharunderscore}{\kern0pt}path{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}rule\ is{\isacharunderscore}{\kern0pt}shortest{\isacharunderscore}{\kern0pt}alt{\isacharunderscore}{\kern0pt}path{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}path\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}E\ {\isacharquery}{\kern0pt}G{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}tl\ {\isacharquery}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ tl{\isacharunderscore}{\kern0pt}path{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}path{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}path\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}E\ {\isacharquery}{\kern0pt}G{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ path{\isacharunderscore}{\kern0pt}butlastI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}tbd\ {\isacharparenleft}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ G{\isachardot}{\kern0pt}E\ {\isacharquery}{\kern0pt}G{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ path{\isacharunderscore}{\kern0pt}edges{\isacharunderscore}{\kern0pt}subset{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}e\ {\isasymin}\ G{\isachardot}{\kern0pt}E\ {\isacharquery}{\kern0pt}G{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assm\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ set{\isacharunderscore}{\kern0pt}mp{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{consider}\isamarkupfalse%
\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isachardoublequoteopen}e\ {\isasymin}\ G{\isachardot}{\kern0pt}E\ G{\isachardoublequoteclose}\ {\isacharbar}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isachardoublequoteopen}e\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}s{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}\ {\isacharbar}{\kern0pt}v{\isachardot}{\kern0pt}\ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ L\ M{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isacharbar}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ {\isachardoublequoteopen}e\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}t{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}\ {\isacharbar}{\kern0pt}v{\isachardot}{\kern0pt}\ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ R\ M{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ E{\isacharunderscore}{\kern0pt}union{\isacharunderscore}{\kern0pt}G{\isadigit{1}}{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}e\ {\isasymin}\ G{\isachardot}{\kern0pt}E\ G{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{1}}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{2}}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assm\ s{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ dest{\isacharcolon}{\kern0pt}\ v{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}edge{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}path{\isacharunderscore}{\kern0pt}gen{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{3}}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assm\ t{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ dest{\isacharcolon}{\kern0pt}\ v{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}edge{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}path{\isacharunderscore}{\kern0pt}gen{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}V{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ G{\isachardot}{\kern0pt}V\ G{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}G\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}union\ {\isacharparenleft}{\kern0pt}G{\isadigit{1}}\ G\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}p\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}rev{\isacharunderscore}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}m{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ t{\isachardoublequoteclose}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ v\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ assm{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}path\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}E\ {\isacharquery}{\kern0pt}G{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}p{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ done{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}intro\ is{\isacharunderscore}{\kern0pt}shortest{\isacharunderscore}{\kern0pt}alt{\isacharunderscore}{\kern0pt}pathD{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ alt{\isacharunderscore}{\kern0pt}pathD{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ walk{\isacharunderscore}{\kern0pt}between{\isacharunderscore}{\kern0pt}nonempty{\isacharunderscore}{\kern0pt}path{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}rule\ is{\isacharunderscore}{\kern0pt}shortest{\isacharunderscore}{\kern0pt}alt{\isacharunderscore}{\kern0pt}path{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}path\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}E\ {\isacharquery}{\kern0pt}G{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}tl\ {\isacharquery}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ tl{\isacharunderscore}{\kern0pt}path{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}path{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}path\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}E\ {\isacharquery}{\kern0pt}G{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ path{\isacharunderscore}{\kern0pt}butlastI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ G{\isachardot}{\kern0pt}V\ {\isacharquery}{\kern0pt}G{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ G{\isachardot}{\kern0pt}V{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ mem{\isacharunderscore}{\kern0pt}path{\isacharunderscore}{\kern0pt}Vs\ subsetI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}v\ {\isasymin}\ G{\isachardot}{\kern0pt}V\ {\isacharquery}{\kern0pt}G{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assm\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ set{\isacharunderscore}{\kern0pt}mp{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{consider}\isamarkupfalse%
\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isachardoublequoteopen}v\ {\isasymin}\ G{\isachardot}{\kern0pt}V\ G{\isachardoublequoteclose}\ {\isacharbar}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isachardoublequoteopen}v\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}s{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isacharbar}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ {\isachardoublequoteopen}v\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}t{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ V{\isacharunderscore}{\kern0pt}union{\isacharunderscore}{\kern0pt}G{\isadigit{1}}{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}v\ {\isasymin}\ G{\isachardot}{\kern0pt}V\ G{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{1}}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{2}}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assm\ s{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{3}}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assm\ t{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ distinct{\isacharunderscore}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}distinct\ {\isacharparenleft}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ parent\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ distinct{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow\ distinct{\isacharunderscore}{\kern0pt}tl\ distinct{\isacharunderscore}{\kern0pt}butlast{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ augpath{\isacharunderscore}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}augpath\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}E\ G{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd\ M{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ augpathI{\isacharcomma}{\kern0pt}\ goal{\isacharunderscore}{\kern0pt}cases{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{1}}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ P{\isacharunderscore}{\kern0pt}tbd{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}E\ set{\isacharunderscore}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}V\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ G{\isachardot}{\kern0pt}V{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ pathI{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{2}}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ distinct{\isacharunderscore}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{3}}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ augmenting{\isacharunderscore}{\kern0pt}path{\isacharunderscore}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharparenright}{\kern0pt}\ M{\isacharunderscore}{\kern0pt}tbd{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}inorder{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}M{\isachardot}{\kern0pt}invar\ M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}tbd\ M\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}\ {\isacharbar}{\kern0pt}u\ v{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}inorder\ M{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ M{\isachardot}{\kern0pt}mem{\isacharunderscore}{\kern0pt}inorder{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}lookup{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}Some{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharparenright}{\kern0pt}\ M{\isacharunderscore}{\kern0pt}tbd{\isacharunderscore}{\kern0pt}delete{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}M{\isachardot}{\kern0pt}invar\ M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}tbd\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}delete\ u\ M{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ M{\isacharunderscore}{\kern0pt}tbd\ M\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}case\ M{\isacharunderscore}{\kern0pt}lookup\ M\ u\ of\ None\ {\isasymRightarrow}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharbar}{\kern0pt}\ Some\ v\ {\isasymRightarrow}\ if\ v\ {\isasymnoteq}\ u\ {\isasymand}\ M{\isacharunderscore}{\kern0pt}lookup\ M\ v\ {\isacharequal}{\kern0pt}\ Some\ u\ then\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{{\isacharbraceleft}{\kern0pt}}\isamarkupfalse%
\ \isacommand{fix}\isamarkupfalse%
\ x\ y\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ y{\isacharbraceright}{\kern0pt}\ {\isasymin}\ M{\isacharunderscore}{\kern0pt}tbd\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}delete\ u\ M{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ \ \ \ M{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}delete\ u\ M{\isacharparenright}{\kern0pt}\ x\ {\isacharequal}{\kern0pt}\ Some\ y\ {\isasymor}\ M{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}delete\ u\ M{\isacharparenright}{\kern0pt}\ y\ {\isacharequal}{\kern0pt}\ Some\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ doubleton{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}inorder\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}delete\ u\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymor}\isanewline
\ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}inorder\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}delete\ u\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ M{\isachardot}{\kern0pt}invar{\isacharunderscore}{\kern0pt}delete\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ M{\isachardot}{\kern0pt}mem{\isacharunderscore}{\kern0pt}inorder{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}lookup{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}Some{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}inorder\ M{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}case\ M{\isacharunderscore}{\kern0pt}lookup\ M\ u\ of\ None\ {\isasymRightarrow}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharbar}{\kern0pt}\ Some\ v\ {\isasymRightarrow}\ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymor}\isanewline
\ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}inorder\ M{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}case\ M{\isacharunderscore}{\kern0pt}lookup\ M\ u\ of\ None\ {\isasymRightarrow}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharbar}{\kern0pt}\ Some\ v\ {\isasymRightarrow}\ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ M{\isachardot}{\kern0pt}set{\isacharunderscore}{\kern0pt}inorder{\isacharunderscore}{\kern0pt}delete{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ \ \ \ {\isacharbraceleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ y{\isacharbraceright}{\kern0pt}\ {\isasymin}\ M{\isacharunderscore}{\kern0pt}tbd\ M\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}case\ M{\isacharunderscore}{\kern0pt}lookup\ M\ u\ of\ None\ {\isasymRightarrow}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharbar}{\kern0pt}\ Some\ v\ {\isasymRightarrow}\ if\ v\ {\isasymnoteq}\ u\ {\isasymand}\ M{\isacharunderscore}{\kern0pt}lookup\ M\ v\ {\isacharequal}{\kern0pt}\ Some\ u\ then\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}lookup\ M\ u{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ None\isanewline
\ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ M{\isachardot}{\kern0pt}mem{\isacharunderscore}{\kern0pt}inorder{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}lookup{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}Some\ doubleton{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Some\ v{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ Some\ M{\isachardot}{\kern0pt}mem{\isacharunderscore}{\kern0pt}inorder{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}lookup{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}Some\ doubleton{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ y{\isacharbraceright}{\kern0pt}\ {\isasymin}\ M{\isacharunderscore}{\kern0pt}tbd\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}delete\ u\ M{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ \ \ \ {\isacharbraceleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ y{\isacharbraceright}{\kern0pt}\ {\isasymin}\ M{\isacharunderscore}{\kern0pt}tbd\ M\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}case\ M{\isacharunderscore}{\kern0pt}lookup\ M\ u\ of\ None\ {\isasymRightarrow}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharbar}{\kern0pt}\ Some\ v\ {\isasymRightarrow}\ if\ v\ {\isasymnoteq}\ u\ {\isasymand}\ M{\isacharunderscore}{\kern0pt}lookup\ M\ v\ {\isacharequal}{\kern0pt}\ Some\ u\ then\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\ \isacommand{{\isacharbraceright}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ graphs{\isacharunderscore}{\kern0pt}eqI{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ graph{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharparenright}{\kern0pt}\ M{\isacharunderscore}{\kern0pt}tbd{\isacharunderscore}{\kern0pt}update{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}M{\isachardot}{\kern0pt}invar\ M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}tbd\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ u\ v\ M{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ M{\isacharunderscore}{\kern0pt}tbd\ M\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}case\ M{\isacharunderscore}{\kern0pt}lookup\ M\ u\ of\ None\ {\isasymRightarrow}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharbar}{\kern0pt}\ Some\ w\ {\isasymRightarrow}\ if\ w\ {\isasymnoteq}\ u\ {\isasymand}\ M{\isacharunderscore}{\kern0pt}lookup\ M\ w\ {\isacharequal}{\kern0pt}\ Some\ u\ then\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ w{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ \ {\isacharbraceleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{{\isacharbraceleft}{\kern0pt}}\isamarkupfalse%
\ \isacommand{fix}\isamarkupfalse%
\ x\ y\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ y{\isacharbraceright}{\kern0pt}\ {\isasymin}\ M{\isacharunderscore}{\kern0pt}tbd\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ u\ v\ M{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ \ \ \ M{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ u\ v\ M{\isacharparenright}{\kern0pt}\ x\ {\isacharequal}{\kern0pt}\ Some\ y\ {\isasymor}\ M{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ u\ v\ M{\isacharparenright}{\kern0pt}\ y\ {\isacharequal}{\kern0pt}\ Some\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ doubleton{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}inorder\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ u\ v\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymor}\isanewline
\ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}inorder\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ u\ v\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ M{\isachardot}{\kern0pt}invar{\isacharunderscore}{\kern0pt}update\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ M{\isachardot}{\kern0pt}mem{\isacharunderscore}{\kern0pt}inorder{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}lookup{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}Some{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}inorder\ M{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}case\ M{\isacharunderscore}{\kern0pt}lookup\ M\ u\ of\ None\ {\isasymRightarrow}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharbar}{\kern0pt}\ Some\ w\ {\isasymRightarrow}\ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ w{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymor}\isanewline
\ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}inorder\ M{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}case\ M{\isacharunderscore}{\kern0pt}lookup\ M\ u\ of\ None\ {\isasymRightarrow}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharbar}{\kern0pt}\ Some\ w\ {\isasymRightarrow}\ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ w{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ M{\isachardot}{\kern0pt}set{\isacharunderscore}{\kern0pt}inorder{\isacharunderscore}{\kern0pt}update{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ \ \ \ {\isacharbraceleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ y{\isacharbraceright}{\kern0pt}\ {\isasymin}\ M{\isacharunderscore}{\kern0pt}tbd\ M\ {\isacharminus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}case\ M{\isacharunderscore}{\kern0pt}lookup\ M\ u\ of\ None\ {\isasymRightarrow}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharbar}{\kern0pt}\ Some\ w\ {\isasymRightarrow}\ if\ w\ {\isasymnoteq}\ u\ {\isasymand}\ M{\isacharunderscore}{\kern0pt}lookup\ M\ w\ {\isacharequal}{\kern0pt}\ Some\ u\ then\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ w{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}lookup\ M\ u{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ None\isanewline
\ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ M{\isachardot}{\kern0pt}mem{\isacharunderscore}{\kern0pt}inorder{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}lookup{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}Some\ doubleton{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Some\ v{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ Some\ M{\isachardot}{\kern0pt}mem{\isacharunderscore}{\kern0pt}inorder{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}lookup{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}Some\ doubleton{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ y{\isacharbraceright}{\kern0pt}\ {\isasymin}\ M{\isacharunderscore}{\kern0pt}tbd\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ u\ v\ M{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ \ \ \ {\isacharbraceleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ y{\isacharbraceright}{\kern0pt}\ {\isasymin}\ M{\isacharunderscore}{\kern0pt}tbd\ M\ {\isacharminus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}case\ M{\isacharunderscore}{\kern0pt}lookup\ M\ u\ of\ None\ {\isasymRightarrow}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharbar}{\kern0pt}\ Some\ w\ {\isasymRightarrow}\ if\ w\ {\isasymnoteq}\ u\ {\isasymand}\ M{\isacharunderscore}{\kern0pt}lookup\ M\ w\ {\isacharequal}{\kern0pt}\ Some\ u\ then\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ w{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\ \isacommand{{\isacharbraceright}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ graphs{\isacharunderscore}{\kern0pt}eqI{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ graph{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharparenright}{\kern0pt}\ mem{\isacharunderscore}{\kern0pt}Vs{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}lookup{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}Some{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}symmetric{\isacharunderscore}{\kern0pt}Map\ M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}v\ {\isasymnotin}\ Vs\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd\ M{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ M{\isacharunderscore}{\kern0pt}lookup\ M\ v\ {\isacharequal}{\kern0pt}\ None{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{{\isacharbraceleft}{\kern0pt}}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}v\ {\isasymin}\ Vs\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd\ M{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}u{\isachardot}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}v{\isacharcomma}{\kern0pt}\ u{\isacharbraceright}{\kern0pt}\ {\isasymin}\ M{\isacharunderscore}{\kern0pt}tbd\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ M{\isachardot}{\kern0pt}graph\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ Vs{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}u{\isachardot}{\kern0pt}\ M{\isacharunderscore}{\kern0pt}lookup\ M\ v\ {\isacharequal}{\kern0pt}\ Some\ u{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ doubleton{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}v\ {\isasymin}\ Vs\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd\ M{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}u{\isachardot}{\kern0pt}\ M{\isacharunderscore}{\kern0pt}lookup\ M\ v\ {\isacharequal}{\kern0pt}\ Some\ u{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\ \isacommand{{\isacharbraceright}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharparenright}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}augment{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}M{\isachardot}{\kern0pt}invar\ M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}even\ {\isacharparenleft}{\kern0pt}length\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}M{\isachardot}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}augment\ M\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ M\ p\ rule{\isacharcolon}{\kern0pt}\ augment{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{2}}\ M\ u\ v{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharcolon}{\kern0pt}\ M{\isachardot}{\kern0pt}invar{\isacharunderscore}{\kern0pt}update{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{3}}\ M\ u\ v\ w\ ws{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}M{\isachardot}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ v\ u\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ u\ v\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}delete\ w\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ M{\isachardot}{\kern0pt}invar{\isacharunderscore}{\kern0pt}delete\ M{\isachardot}{\kern0pt}invar{\isacharunderscore}{\kern0pt}update{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{3}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isadigit{3}}{\isachardot}{\kern0pt}hyps{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
\ simp{\isacharplus}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharparenright}{\kern0pt}\ augment{\isacharunderscore}{\kern0pt}induct{\isacharunderscore}{\kern0pt}case{\isacharunderscore}{\kern0pt}{\isadigit{2}}D{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}M{\isachardot}{\kern0pt}invar\ M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}symmetric{\isacharunderscore}{\kern0pt}Map\ M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}augmenting{\isacharunderscore}{\kern0pt}path\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd\ M{\isacharparenright}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}distinct\ {\isacharbrackleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}even\ {\isacharparenleft}{\kern0pt}length\ {\isacharbrackleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}u\ {\isasymnoteq}\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}\ {\isasymnotin}\ M{\isacharunderscore}{\kern0pt}tbd\ M{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}M{\isachardot}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ u\ v\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}M{\isachardot}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ v\ u\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ u\ v\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}lookup\ M\ u\ {\isacharequal}{\kern0pt}\ None{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}lookup\ M\ v\ {\isacharequal}{\kern0pt}\ None{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ u\ v\ M{\isacharparenright}{\kern0pt}\ u\ {\isacharequal}{\kern0pt}\ Some\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ u\ v\ M{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ None{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ neq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}u\ {\isasymnoteq}\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}\ {\isasymnotin}\ M{\isacharunderscore}{\kern0pt}tbd\ M{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ alt{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}step\ dest{\isacharcolon}{\kern0pt}\ augmenting{\isacharunderscore}{\kern0pt}pathD{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}M{\isachardot}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ u\ v\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}M{\isachardot}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ v\ u\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ u\ v\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharcolon}{\kern0pt}\ M{\isachardot}{\kern0pt}invar{\isacharunderscore}{\kern0pt}update{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}lookup\ M\ u\ {\isacharequal}{\kern0pt}\ None{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}lookup\ M\ v\ {\isacharequal}{\kern0pt}\ None{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}\ {\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ mem{\isacharunderscore}{\kern0pt}Vs{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}lookup{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}Some\ dest{\isacharcolon}{\kern0pt}\ augmenting{\isacharunderscore}{\kern0pt}pathD{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}\ {\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ u\ v\ M{\isacharparenright}{\kern0pt}\ u\ {\isacharequal}{\kern0pt}\ Some\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ u\ v\ M{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ None{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ neq\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp{\isacharunderscore}{\kern0pt}all\ add{\isacharcolon}{\kern0pt}\ M{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}update{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharparenright}{\kern0pt}\ augment{\isacharunderscore}{\kern0pt}induct{\isacharunderscore}{\kern0pt}case{\isacharunderscore}{\kern0pt}{\isadigit{3}}D{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}M{\isachardot}{\kern0pt}invar\ M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}symmetric{\isacharunderscore}{\kern0pt}Map\ M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}augmenting{\isacharunderscore}{\kern0pt}path\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd\ M{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}u\ {\isacharhash}{\kern0pt}\ v\ {\isacharhash}{\kern0pt}\ w\ {\isacharhash}{\kern0pt}\ ws{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}distinct\ {\isacharparenleft}{\kern0pt}u\ {\isacharhash}{\kern0pt}\ v\ {\isacharhash}{\kern0pt}\ w\ {\isacharhash}{\kern0pt}\ ws{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}even\ {\isacharparenleft}{\kern0pt}length\ {\isacharparenleft}{\kern0pt}u\ {\isacharhash}{\kern0pt}\ v\ {\isacharhash}{\kern0pt}\ w\ {\isacharhash}{\kern0pt}\ ws{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}u\ {\isasymnoteq}\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}v\ {\isasymnoteq}\ w{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}u\ {\isasymnoteq}\ w{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}\ {\isasymnotin}\ M{\isacharunderscore}{\kern0pt}tbd\ M{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}v{\isacharcomma}{\kern0pt}\ w{\isacharbraceright}{\kern0pt}\ {\isasymin}\ M{\isacharunderscore}{\kern0pt}tbd\ M{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}\ {\isasymnotin}\ P{\isacharunderscore}{\kern0pt}tbd\ {\isacharparenleft}{\kern0pt}v\ {\isacharhash}{\kern0pt}\ w\ {\isacharhash}{\kern0pt}\ ws{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}\ {\isasymnotin}\ P{\isacharunderscore}{\kern0pt}tbd\ {\isacharparenleft}{\kern0pt}w\ {\isacharhash}{\kern0pt}\ ws{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}v{\isacharcomma}{\kern0pt}\ w{\isacharbraceright}{\kern0pt}\ {\isasymnotin}\ P{\isacharunderscore}{\kern0pt}tbd\ {\isacharparenleft}{\kern0pt}w\ {\isacharhash}{\kern0pt}\ ws{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}M{\isachardot}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}delete\ w\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}M{\isachardot}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ u\ v\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}delete\ w\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}M{\isachardot}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ v\ u\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ u\ v\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}delete\ w\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}lookup\ M\ u\ {\isacharequal}{\kern0pt}\ None{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}lookup\ M\ v\ {\isacharequal}{\kern0pt}\ Some\ w{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}lookup\ M\ w\ {\isacharequal}{\kern0pt}\ Some\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}delete\ w\ M{\isacharparenright}{\kern0pt}\ u\ {\isacharequal}{\kern0pt}\ None{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}delete\ w\ M{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ Some\ w{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}delete\ w\ M{\isacharparenright}{\kern0pt}\ w\ {\isacharequal}{\kern0pt}\ None{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ u\ v\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}delete\ w\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ Some\ w{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ u\ v\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}delete\ w\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ w\ {\isacharequal}{\kern0pt}\ None{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ v\ u\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ u\ v\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}delete\ w\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ w\ {\isacharequal}{\kern0pt}\ None{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ neq{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}u\ {\isasymnoteq}\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}v\ {\isasymnoteq}\ w{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}u\ {\isasymnoteq}\ w{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ mem{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}\ {\isasymnotin}\ M{\isacharunderscore}{\kern0pt}tbd\ M{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}v{\isacharcomma}{\kern0pt}\ w{\isacharbraceright}{\kern0pt}\ {\isasymin}\ M{\isacharunderscore}{\kern0pt}tbd\ M{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ alt{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}step\ dest{\isacharcolon}{\kern0pt}\ augmenting{\isacharunderscore}{\kern0pt}pathD{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}\ {\isasymnotin}\ P{\isacharunderscore}{\kern0pt}tbd\ {\isacharparenleft}{\kern0pt}v\ {\isacharhash}{\kern0pt}\ w\ {\isacharhash}{\kern0pt}\ ws{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}\ {\isasymnotin}\ P{\isacharunderscore}{\kern0pt}tbd\ {\isacharparenleft}{\kern0pt}w\ {\isacharhash}{\kern0pt}\ ws{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}v{\isacharcomma}{\kern0pt}\ w{\isacharbraceright}{\kern0pt}\ {\isasymnotin}\ P{\isacharunderscore}{\kern0pt}tbd\ {\isacharparenleft}{\kern0pt}w\ {\isacharhash}{\kern0pt}\ ws{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ dest{\isacharcolon}{\kern0pt}\ v{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}edge{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}path{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ invar{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}M{\isachardot}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}delete\ w\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}M{\isachardot}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ u\ v\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}delete\ w\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}M{\isachardot}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ v\ u\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ u\ v\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}delete\ w\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharcolon}{\kern0pt}\ M{\isachardot}{\kern0pt}invar{\isacharunderscore}{\kern0pt}delete\ M{\isachardot}{\kern0pt}invar{\isacharunderscore}{\kern0pt}update{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}lookup\ M\ u\ {\isacharequal}{\kern0pt}\ None{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}lookup\ M\ v\ {\isacharequal}{\kern0pt}\ Some\ w{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}lookup\ M\ w\ {\isacharequal}{\kern0pt}\ Some\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}\ {\isadigit{3}}{\isacharparenright}{\kern0pt}\ mem{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ mem{\isacharunderscore}{\kern0pt}Vs{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}lookup{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}Some\ doubleton{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}iff\ dest{\isacharcolon}{\kern0pt}\ augmenting{\isacharunderscore}{\kern0pt}pathD{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}delete\ w\ M{\isacharparenright}{\kern0pt}\ u\ {\isacharequal}{\kern0pt}\ None{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}delete\ w\ M{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ Some\ w{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}delete\ w\ M{\isacharparenright}{\kern0pt}\ w\ {\isacharequal}{\kern0pt}\ None{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ neq{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharminus}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp{\isacharunderscore}{\kern0pt}all\ add{\isacharcolon}{\kern0pt}\ M{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}delete{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ u\ v\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}delete\ w\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ Some\ w{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ u\ v\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}delete\ w\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ w\ {\isacharequal}{\kern0pt}\ None{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ invar{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ neq{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp{\isacharunderscore}{\kern0pt}all\ add{\isacharcolon}{\kern0pt}\ M{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}update{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ v\ u\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ u\ v\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}delete\ w\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ w\ {\isacharequal}{\kern0pt}\ None{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ invar{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ neq{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ M{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}update{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharparenright}{\kern0pt}\ M{\isacharunderscore}{\kern0pt}tbd{\isacharunderscore}{\kern0pt}update{\isacharunderscore}{\kern0pt}update{\isacharunderscore}{\kern0pt}delete{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}M{\isachardot}{\kern0pt}invar\ M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}symmetric{\isacharunderscore}{\kern0pt}Map\ M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}augmenting{\isacharunderscore}{\kern0pt}path\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd\ M{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}u\ {\isacharhash}{\kern0pt}\ v\ {\isacharhash}{\kern0pt}\ w\ {\isacharhash}{\kern0pt}\ ws{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}distinct\ {\isacharparenleft}{\kern0pt}u\ {\isacharhash}{\kern0pt}\ v\ {\isacharhash}{\kern0pt}\ w\ {\isacharhash}{\kern0pt}\ ws{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}even\ {\isacharparenleft}{\kern0pt}length\ {\isacharparenleft}{\kern0pt}u\ {\isacharhash}{\kern0pt}\ v\ {\isacharhash}{\kern0pt}\ w\ {\isacharhash}{\kern0pt}\ ws{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}tbd\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ v\ u\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ u\ v\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}delete\ w\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ M{\isacharunderscore}{\kern0pt}tbd\ M\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}v{\isacharcomma}{\kern0pt}\ w{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}tbd\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ v\ u\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ u\ v\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}delete\ w\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ M{\isacharunderscore}{\kern0pt}tbd\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ u\ v\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}delete\ w\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}v{\isacharcomma}{\kern0pt}\ w{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ augment{\isacharunderscore}{\kern0pt}induct{\isacharunderscore}{\kern0pt}case{\isacharunderscore}{\kern0pt}{\isadigit{3}}D{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isadigit{1}}{\isadigit{8}}{\isacharcomma}{\kern0pt}\ {\isadigit{1}}{\isadigit{9}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ M{\isacharunderscore}{\kern0pt}tbd{\isacharunderscore}{\kern0pt}update{\isacharunderscore}{\kern0pt}cong\ insert{\isacharunderscore}{\kern0pt}commute{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ M{\isacharunderscore}{\kern0pt}tbd\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}delete\ w\ M{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}v{\isacharcomma}{\kern0pt}\ w{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ augment{\isacharunderscore}{\kern0pt}induct{\isacharunderscore}{\kern0pt}case{\isacharunderscore}{\kern0pt}{\isadigit{3}}D{\isacharparenleft}{\kern0pt}{\isadigit{9}}{\isacharcomma}{\kern0pt}\ {\isadigit{1}}{\isadigit{5}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ M{\isacharunderscore}{\kern0pt}tbd{\isacharunderscore}{\kern0pt}update{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ M{\isacharunderscore}{\kern0pt}tbd\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}delete\ w\ M{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}v{\isacharcomma}{\kern0pt}\ w{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ insert{\isacharunderscore}{\kern0pt}Diff{\isacharunderscore}{\kern0pt}if{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ M{\isacharunderscore}{\kern0pt}tbd\ M\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}v{\isacharcomma}{\kern0pt}\ w{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ augment{\isacharunderscore}{\kern0pt}induct{\isacharunderscore}{\kern0pt}case{\isacharunderscore}{\kern0pt}{\isadigit{3}}D{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{3}}{\isacharcomma}{\kern0pt}\ {\isadigit{1}}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ M{\isacharunderscore}{\kern0pt}tbd{\isacharunderscore}{\kern0pt}delete{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharparenright}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}symmetric{\isacharunderscore}{\kern0pt}Map{\isacharunderscore}{\kern0pt}update{\isacharunderscore}{\kern0pt}update{\isacharunderscore}{\kern0pt}delete{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}M{\isachardot}{\kern0pt}invar\ M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}symmetric{\isacharunderscore}{\kern0pt}Map\ M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}augmenting{\isacharunderscore}{\kern0pt}path\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd\ M{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}u\ {\isacharhash}{\kern0pt}\ v\ {\isacharhash}{\kern0pt}\ w\ {\isacharhash}{\kern0pt}\ ws{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}distinct\ {\isacharparenleft}{\kern0pt}u\ {\isacharhash}{\kern0pt}\ v\ {\isacharhash}{\kern0pt}\ w\ {\isacharhash}{\kern0pt}\ ws{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}even\ {\isacharparenleft}{\kern0pt}length\ {\isacharparenleft}{\kern0pt}u\ {\isacharhash}{\kern0pt}\ v\ {\isacharhash}{\kern0pt}\ w\ {\isacharhash}{\kern0pt}\ ws{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}symmetric{\isacharunderscore}{\kern0pt}Map\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ v\ u\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ u\ v\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}delete\ w\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}standard{\isacharcomma}{\kern0pt}\ standard{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ x\ y\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ v\ u\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ u\ v\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}delete\ w\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ x\ {\isacharequal}{\kern0pt}\ Some\ y\ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}inorder\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ v\ u\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ u\ v\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}delete\ w\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ augment{\isacharunderscore}{\kern0pt}induct{\isacharunderscore}{\kern0pt}case{\isacharunderscore}{\kern0pt}{\isadigit{3}}D{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ M{\isachardot}{\kern0pt}mem{\isacharunderscore}{\kern0pt}inorder{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}lookup{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}Some{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}inorder\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ u\ v\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}delete\ w\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}v{\isacharcomma}{\kern0pt}\ w{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}v{\isacharcomma}{\kern0pt}\ u{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ augment{\isacharunderscore}{\kern0pt}induct{\isacharunderscore}{\kern0pt}case{\isacharunderscore}{\kern0pt}{\isadigit{3}}D{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isadigit{1}}{\isadigit{8}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ M{\isachardot}{\kern0pt}set{\isacharunderscore}{\kern0pt}inorder{\isacharunderscore}{\kern0pt}update{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}inorder\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}delete\ w\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}v{\isacharcomma}{\kern0pt}\ w{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}v{\isacharcomma}{\kern0pt}\ u{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ augment{\isacharunderscore}{\kern0pt}induct{\isacharunderscore}{\kern0pt}case{\isacharunderscore}{\kern0pt}{\isadigit{3}}D{\isacharparenleft}{\kern0pt}{\isadigit{9}}{\isacharcomma}{\kern0pt}\ {\isadigit{1}}{\isadigit{5}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ M{\isachardot}{\kern0pt}set{\isacharunderscore}{\kern0pt}inorder{\isacharunderscore}{\kern0pt}update{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}inorder\ M{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}w{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}v{\isacharcomma}{\kern0pt}\ w{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}v{\isacharcomma}{\kern0pt}\ u{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ augment{\isacharunderscore}{\kern0pt}induct{\isacharunderscore}{\kern0pt}case{\isacharunderscore}{\kern0pt}{\isadigit{3}}D{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ M{\isachardot}{\kern0pt}set{\isacharunderscore}{\kern0pt}inorder{\isacharunderscore}{\kern0pt}delete{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}inorder\ M{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}w{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}v{\isacharcomma}{\kern0pt}\ w{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}v{\isacharcomma}{\kern0pt}\ u{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ M{\isachardot}{\kern0pt}mem{\isacharunderscore}{\kern0pt}inorder{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}lookup{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}Some{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}inorder\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}delete\ w\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}v{\isacharcomma}{\kern0pt}\ w{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}v{\isacharcomma}{\kern0pt}\ u{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ augment{\isacharunderscore}{\kern0pt}induct{\isacharunderscore}{\kern0pt}case{\isacharunderscore}{\kern0pt}{\isadigit{3}}D{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ M{\isachardot}{\kern0pt}set{\isacharunderscore}{\kern0pt}inorder{\isacharunderscore}{\kern0pt}delete{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}inorder\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ u\ v\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}delete\ w\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}v{\isacharcomma}{\kern0pt}\ w{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}v{\isacharcomma}{\kern0pt}\ u{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ augment{\isacharunderscore}{\kern0pt}induct{\isacharunderscore}{\kern0pt}case{\isacharunderscore}{\kern0pt}{\isadigit{3}}D{\isacharparenleft}{\kern0pt}{\isadigit{9}}{\isacharcomma}{\kern0pt}\ {\isadigit{1}}{\isadigit{5}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ M{\isachardot}{\kern0pt}set{\isacharunderscore}{\kern0pt}inorder{\isacharunderscore}{\kern0pt}update{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}inorder\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ v\ u\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ u\ v\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}delete\ w\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ augment{\isacharunderscore}{\kern0pt}induct{\isacharunderscore}{\kern0pt}case{\isacharunderscore}{\kern0pt}{\isadigit{3}}D{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isadigit{1}}{\isadigit{8}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ M{\isachardot}{\kern0pt}set{\isacharunderscore}{\kern0pt}inorder{\isacharunderscore}{\kern0pt}update{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ M{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ v\ u\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ u\ v\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}delete\ w\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ y\ {\isacharequal}{\kern0pt}\ Some\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ augment{\isacharunderscore}{\kern0pt}induct{\isacharunderscore}{\kern0pt}case{\isacharunderscore}{\kern0pt}{\isadigit{3}}D{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ M{\isachardot}{\kern0pt}mem{\isacharunderscore}{\kern0pt}inorder{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}lookup{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}Some{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ v\ u\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ u\ v\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}delete\ w\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ x\ {\isacharequal}{\kern0pt}\ Some\ y\ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ \ M{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ v\ u\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ u\ v\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}delete\ w\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ y\ {\isacharequal}{\kern0pt}\ Some\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharparenright}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}symmetric{\isacharunderscore}{\kern0pt}Map{\isacharunderscore}{\kern0pt}augment{\isacharunderscore}{\kern0pt}aux{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}M{\isachardot}{\kern0pt}invar\ M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}symmetric{\isacharunderscore}{\kern0pt}Map\ M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}augmenting{\isacharunderscore}{\kern0pt}path\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd\ M{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}u\ {\isacharhash}{\kern0pt}\ v\ {\isacharhash}{\kern0pt}\ w\ {\isacharhash}{\kern0pt}\ ws{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}distinct\ {\isacharparenleft}{\kern0pt}u\ {\isacharhash}{\kern0pt}\ v\ {\isacharhash}{\kern0pt}\ w\ {\isacharhash}{\kern0pt}\ ws{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}even\ {\isacharparenleft}{\kern0pt}length\ {\isacharparenleft}{\kern0pt}u\ {\isacharhash}{\kern0pt}\ v\ {\isacharhash}{\kern0pt}\ w\ {\isacharhash}{\kern0pt}\ ws{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}augmenting{\isacharunderscore}{\kern0pt}path\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ v\ u\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ u\ v\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}delete\ w\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}w\ {\isacharhash}{\kern0pt}\ ws{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ augmenting{\isacharunderscore}{\kern0pt}pathI{\isacharcomma}{\kern0pt}\ goal{\isacharunderscore}{\kern0pt}cases{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{1}}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ Suc{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{2}}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}Berge{\isachardot}{\kern0pt}alt{\isacharunderscore}{\kern0pt}path\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd\ M{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}w\ {\isacharhash}{\kern0pt}\ ws{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}fastforce\isanewline
\ \ \ \ \ \ \ \ dest{\isacharcolon}{\kern0pt}\ augmenting{\isacharunderscore}{\kern0pt}pathD{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ intro{\isacharcolon}{\kern0pt}\ alt{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}split{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ {\isacharquery}{\kern0pt}l{\isadigit{1}}{\isachardot}{\kern0pt}{\isadigit{0}}\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}edges{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}path\ {\isacharparenleft}{\kern0pt}{\isacharbrackleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharbrackright}{\kern0pt}\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}hd\ {\isacharparenleft}{\kern0pt}w\ {\isacharhash}{\kern0pt}\ ws{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ augment{\isacharunderscore}{\kern0pt}induct{\isacharunderscore}{\kern0pt}case{\isacharunderscore}{\kern0pt}{\isadigit{3}}D{\isacharparenleft}{\kern0pt}{\isadigit{7}}{\isacharcomma}{\kern0pt}\ {\isadigit{8}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ M{\isacharunderscore}{\kern0pt}tbd{\isacharunderscore}{\kern0pt}update{\isacharunderscore}{\kern0pt}update{\isacharunderscore}{\kern0pt}delete{\isacharunderscore}{\kern0pt}cong\ intro{\isacharcolon}{\kern0pt}\ alt{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{3}}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ is{\isacharunderscore}{\kern0pt}symmetric{\isacharunderscore}{\kern0pt}Map{\isacharunderscore}{\kern0pt}update{\isacharunderscore}{\kern0pt}update{\isacharunderscore}{\kern0pt}delete\ augment{\isacharunderscore}{\kern0pt}induct{\isacharunderscore}{\kern0pt}case{\isacharunderscore}{\kern0pt}{\isadigit{3}}D{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isadigit{0}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ mem{\isacharunderscore}{\kern0pt}Vs{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}lookup{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}Some{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{4}}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}x\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}last\ {\isacharparenleft}{\kern0pt}w\ {\isacharhash}{\kern0pt}\ ws{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ neq{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}x\ {\isasymnoteq}\ u{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}x\ {\isasymnoteq}\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}lookup\ M\ {\isacharquery}{\kern0pt}x\ {\isacharequal}{\kern0pt}\ None{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}\ {\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ mem{\isacharunderscore}{\kern0pt}Vs{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}lookup{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}Some\ dest{\isacharcolon}{\kern0pt}\ augmenting{\isacharunderscore}{\kern0pt}pathD{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}delete\ w\ M{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}x\ {\isacharequal}{\kern0pt}\ None{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ M{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}delete{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ u\ v\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}delete\ w\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}x\ {\isacharequal}{\kern0pt}\ None{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ M{\isachardot}{\kern0pt}invar{\isacharunderscore}{\kern0pt}delete\ neq{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ M{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}update{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ v\ u\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ u\ v\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}delete\ w\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}x\ {\isacharequal}{\kern0pt}\ None{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ M{\isachardot}{\kern0pt}invar{\isacharunderscore}{\kern0pt}delete\ M{\isachardot}{\kern0pt}invar{\isacharunderscore}{\kern0pt}update\ neq{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ M{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}update{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ is{\isacharunderscore}{\kern0pt}symmetric{\isacharunderscore}{\kern0pt}Map{\isacharunderscore}{\kern0pt}update{\isacharunderscore}{\kern0pt}update{\isacharunderscore}{\kern0pt}delete\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ mem{\isacharunderscore}{\kern0pt}Vs{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}lookup{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}Some{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharparenright}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}symmetric{\isacharunderscore}{\kern0pt}Map{\isacharunderscore}{\kern0pt}augment{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}M{\isachardot}{\kern0pt}invar\ M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}symmetric{\isacharunderscore}{\kern0pt}Map\ M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}augmenting{\isacharunderscore}{\kern0pt}path\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd\ M{\isacharparenright}{\kern0pt}\ p{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}distinct\ p{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}even\ {\isacharparenleft}{\kern0pt}length\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}symmetric{\isacharunderscore}{\kern0pt}Map\ {\isacharparenleft}{\kern0pt}augment\ M\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ M\ p\ rule{\isacharcolon}{\kern0pt}\ augment{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{2}}\ M\ u\ v{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{{\isacharbraceleft}{\kern0pt}}\isamarkupfalse%
\ \isacommand{fix}\isamarkupfalse%
\ x\ y\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}augment\ M\ {\isacharbrackleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ x\ {\isacharequal}{\kern0pt}\ Some\ y\ {\isasymlongleftrightarrow}\ M{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ v\ u\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ u\ v\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ x\ {\isacharequal}{\kern0pt}\ Some\ y{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}inorder\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ v\ u\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ u\ v\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{2}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}\ augment{\isacharunderscore}{\kern0pt}induct{\isacharunderscore}{\kern0pt}case{\isacharunderscore}{\kern0pt}{\isadigit{2}}D{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ M{\isachardot}{\kern0pt}mem{\isacharunderscore}{\kern0pt}inorder{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}lookup{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}Some{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}inorder\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ u\ v\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}v{\isacharcomma}{\kern0pt}\ u{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{2}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}\ augment{\isacharunderscore}{\kern0pt}induct{\isacharunderscore}{\kern0pt}case{\isacharunderscore}{\kern0pt}{\isadigit{2}}D{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}\ {\isadigit{8}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ M{\isachardot}{\kern0pt}set{\isacharunderscore}{\kern0pt}inorder{\isacharunderscore}{\kern0pt}update{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}inorder\ M{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}v{\isacharcomma}{\kern0pt}\ u{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{2}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ augment{\isacharunderscore}{\kern0pt}induct{\isacharunderscore}{\kern0pt}case{\isacharunderscore}{\kern0pt}{\isadigit{2}}D{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ {\isachardoublequoteopen}{\isadigit{2}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ M{\isachardot}{\kern0pt}set{\isacharunderscore}{\kern0pt}inorder{\isacharunderscore}{\kern0pt}update{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}inorder\ M{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}v{\isacharcomma}{\kern0pt}\ u{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{2}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ M{\isachardot}{\kern0pt}mem{\isacharunderscore}{\kern0pt}inorder{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}lookup{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}Some{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}inorder\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ u\ v\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}v{\isacharcomma}{\kern0pt}\ u{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{2}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ augment{\isacharunderscore}{\kern0pt}induct{\isacharunderscore}{\kern0pt}case{\isacharunderscore}{\kern0pt}{\isadigit{2}}D{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ {\isachardoublequoteopen}{\isadigit{2}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ M{\isachardot}{\kern0pt}set{\isacharunderscore}{\kern0pt}inorder{\isacharunderscore}{\kern0pt}update{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}inorder\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ v\ u\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ u\ v\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{2}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}\ augment{\isacharunderscore}{\kern0pt}induct{\isacharunderscore}{\kern0pt}case{\isacharunderscore}{\kern0pt}{\isadigit{2}}D{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}\ {\isadigit{8}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ M{\isachardot}{\kern0pt}set{\isacharunderscore}{\kern0pt}inorder{\isacharunderscore}{\kern0pt}update{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ M{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ v\ u\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ u\ v\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ y\ {\isacharequal}{\kern0pt}\ Some\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{2}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}\ augment{\isacharunderscore}{\kern0pt}induct{\isacharunderscore}{\kern0pt}case{\isacharunderscore}{\kern0pt}{\isadigit{2}}D{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ M{\isachardot}{\kern0pt}mem{\isacharunderscore}{\kern0pt}inorder{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}lookup{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}Some{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ M{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}augment\ M\ {\isacharbrackleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ y\ {\isacharequal}{\kern0pt}\ Some\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}augment\ M\ {\isacharbrackleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ x\ {\isacharequal}{\kern0pt}\ Some\ y\ {\isasymlongleftrightarrow}\ M{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}augment\ M\ {\isacharbrackleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ y\ {\isacharequal}{\kern0pt}\ Some\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\ \isacommand{{\isacharbraceright}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ fast\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{3}}\ M\ u\ v\ w\ ws{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{{\isacharbraceleft}{\kern0pt}}\isamarkupfalse%
\ \isacommand{fix}\isamarkupfalse%
\ x\ y\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}augment\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ v\ u\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ u\ v\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}delete\ w\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}w\ {\isacharhash}{\kern0pt}\ ws{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ x\ {\isacharequal}{\kern0pt}\ Some\ y\ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ \ \ \ M{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}augment\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ v\ u\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ u\ v\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}delete\ w\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}w\ {\isacharhash}{\kern0pt}\ ws{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ y\ {\isacharequal}{\kern0pt}\ Some\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{3}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}\ augment{\isacharunderscore}{\kern0pt}induct{\isacharunderscore}{\kern0pt}case{\isacharunderscore}{\kern0pt}{\isadigit{3}}D{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}symmetric{\isacharunderscore}{\kern0pt}Map{\isacharunderscore}{\kern0pt}update{\isacharunderscore}{\kern0pt}update{\isacharunderscore}{\kern0pt}delete\ is{\isacharunderscore}{\kern0pt}symmetric{\isacharunderscore}{\kern0pt}Map{\isacharunderscore}{\kern0pt}augment{\isacharunderscore}{\kern0pt}aux\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isadigit{3}}{\isachardot}{\kern0pt}hyps{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\ \isacommand{{\isacharbraceright}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp{\isacharunderscore}{\kern0pt}all\ add{\isacharcolon}{\kern0pt}\ augmenting{\isacharunderscore}{\kern0pt}path{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
Having found an augmenting path \isa{P} in graph \isa{G} w.r.t.\ the current matching \isa{M},
we now verify that the algorithm correctly augments \isa{M} by \isa{P}, that is, we show that
function \isa{edmonds{\isacharunderscore}{\kern0pt}karp{\isachardot}{\kern0pt}augment} implements the symmetric difference \isa{M\ {\isasymoplus}\ P}.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharparenright}{\kern0pt}\ M{\isacharunderscore}{\kern0pt}tbd{\isacharunderscore}{\kern0pt}augment{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}M{\isachardot}{\kern0pt}invar\ M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}symmetric{\isacharunderscore}{\kern0pt}Map\ M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}augmenting{\isacharunderscore}{\kern0pt}path\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd\ M{\isacharparenright}{\kern0pt}\ p{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}distinct\ p{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}even\ {\isacharparenleft}{\kern0pt}length\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}tbd\ {\isacharparenleft}{\kern0pt}augment\ M\ p{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ M{\isacharunderscore}{\kern0pt}tbd\ M\ {\isasymoplus}\ P{\isacharunderscore}{\kern0pt}tbd\ p{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ rule{\isacharcolon}{\kern0pt}\ augment{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{2}}\ M\ u\ v{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}tbd\ {\isacharparenleft}{\kern0pt}augment\ M\ {\isacharbrackleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ M{\isacharunderscore}{\kern0pt}tbd\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ v\ u\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ u\ v\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ M{\isacharunderscore}{\kern0pt}tbd\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ u\ v\ M{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{2}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}\ augment{\isacharunderscore}{\kern0pt}induct{\isacharunderscore}{\kern0pt}case{\isacharunderscore}{\kern0pt}{\isadigit{2}}D{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}\ {\isadigit{8}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ M{\isacharunderscore}{\kern0pt}tbd{\isacharunderscore}{\kern0pt}update{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ M{\isacharunderscore}{\kern0pt}tbd\ M\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{2}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ augment{\isacharunderscore}{\kern0pt}induct{\isacharunderscore}{\kern0pt}case{\isacharunderscore}{\kern0pt}{\isadigit{2}}D{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isadigit{5}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ {\isachardoublequoteopen}{\isadigit{2}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ M{\isacharunderscore}{\kern0pt}tbd{\isacharunderscore}{\kern0pt}update{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ M{\isacharunderscore}{\kern0pt}tbd\ M\ {\isasymoplus}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ augment{\isacharunderscore}{\kern0pt}induct{\isacharunderscore}{\kern0pt}case{\isacharunderscore}{\kern0pt}{\isadigit{2}}D{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ {\isachardoublequoteopen}{\isadigit{2}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ symmetric{\isacharunderscore}{\kern0pt}diff{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ M{\isacharunderscore}{\kern0pt}tbd\ M\ {\isasymoplus}\ P{\isacharunderscore}{\kern0pt}tbd\ {\isacharbrackleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{3}}\ M\ u\ v\ w\ ws{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}tbd\ {\isacharparenleft}{\kern0pt}augment\ M\ {\isacharparenleft}{\kern0pt}u\ {\isacharhash}{\kern0pt}\ v\ {\isacharhash}{\kern0pt}\ w\ {\isacharhash}{\kern0pt}\ ws{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ M{\isacharunderscore}{\kern0pt}tbd\ {\isacharparenleft}{\kern0pt}augment\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ v\ u\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ u\ v\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}delete\ w\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}w\ {\isacharhash}{\kern0pt}\ ws{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ M{\isacharunderscore}{\kern0pt}tbd\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ v\ u\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}update\ u\ v\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}delete\ w\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymoplus}\ P{\isacharunderscore}{\kern0pt}tbd\ {\isacharparenleft}{\kern0pt}w\ {\isacharhash}{\kern0pt}\ ws{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ {\isachardoublequoteopen}{\isadigit{3}}{\isachardot}{\kern0pt}hyps{\isachardoublequoteclose}{\isacharcomma}{\kern0pt}\ goal{\isacharunderscore}{\kern0pt}cases{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{1}}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{3}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ augment{\isacharunderscore}{\kern0pt}induct{\isacharunderscore}{\kern0pt}case{\isacharunderscore}{\kern0pt}{\isadigit{3}}D{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{2}}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{3}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ is{\isacharunderscore}{\kern0pt}symmetric{\isacharunderscore}{\kern0pt}Map{\isacharunderscore}{\kern0pt}update{\isacharunderscore}{\kern0pt}update{\isacharunderscore}{\kern0pt}delete{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{3}}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{3}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ is{\isacharunderscore}{\kern0pt}symmetric{\isacharunderscore}{\kern0pt}Map{\isacharunderscore}{\kern0pt}augment{\isacharunderscore}{\kern0pt}aux{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{4}}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{3}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{5}}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{3}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ M{\isacharunderscore}{\kern0pt}tbd\ M\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}v{\isacharcomma}{\kern0pt}\ w{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymoplus}\ P{\isacharunderscore}{\kern0pt}tbd\ {\isacharparenleft}{\kern0pt}w\ {\isacharhash}{\kern0pt}\ ws{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{3}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ M{\isacharunderscore}{\kern0pt}tbd{\isacharunderscore}{\kern0pt}update{\isacharunderscore}{\kern0pt}update{\isacharunderscore}{\kern0pt}delete{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ M{\isacharunderscore}{\kern0pt}tbd\ M\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}v{\isacharcomma}{\kern0pt}\ w{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}v{\isacharcomma}{\kern0pt}\ w{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymoplus}\ {\isacharparenleft}{\kern0pt}P{\isacharunderscore}{\kern0pt}tbd\ {\isacharparenleft}{\kern0pt}w\ {\isacharhash}{\kern0pt}\ ws{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}v{\isacharcomma}{\kern0pt}\ w{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ augment{\isacharunderscore}{\kern0pt}induct{\isacharunderscore}{\kern0pt}case{\isacharunderscore}{\kern0pt}{\isadigit{3}}D{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharcomma}{\kern0pt}\ {\isadigit{5}}{\isacharcomma}{\kern0pt}\ {\isadigit{8}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ {\isachardoublequoteopen}{\isadigit{3}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ symmetric{\isacharunderscore}{\kern0pt}diff{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ M{\isacharunderscore}{\kern0pt}tbd\ M\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymoplus}\ P{\isacharunderscore}{\kern0pt}tbd\ {\isacharparenleft}{\kern0pt}v\ {\isacharhash}{\kern0pt}\ w\ {\isacharhash}{\kern0pt}\ ws{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{3}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}\ augment{\isacharunderscore}{\kern0pt}induct{\isacharunderscore}{\kern0pt}case{\isacharunderscore}{\kern0pt}{\isadigit{3}}D{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ insert{\isacharunderscore}{\kern0pt}commute\ insert{\isacharunderscore}{\kern0pt}absorb{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ M{\isacharunderscore}{\kern0pt}tbd\ M\ {\isasymoplus}\ {\isacharparenleft}{\kern0pt}P{\isacharunderscore}{\kern0pt}tbd\ {\isacharparenleft}{\kern0pt}v\ {\isacharhash}{\kern0pt}\ w\ {\isacharhash}{\kern0pt}\ ws{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ augment{\isacharunderscore}{\kern0pt}induct{\isacharunderscore}{\kern0pt}case{\isacharunderscore}{\kern0pt}{\isadigit{3}}D{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharcomma}{\kern0pt}\ {\isadigit{6}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ {\isachardoublequoteopen}{\isadigit{3}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ symmetric{\isacharunderscore}{\kern0pt}diff{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ M{\isacharunderscore}{\kern0pt}tbd\ M\ {\isasymoplus}\ P{\isacharunderscore}{\kern0pt}tbd\ {\isacharparenleft}{\kern0pt}u\ {\isacharhash}{\kern0pt}\ v\ {\isacharhash}{\kern0pt}\ w\ {\isacharhash}{\kern0pt}\ ws{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp{\isacharunderscore}{\kern0pt}all\ add{\isacharcolon}{\kern0pt}\ augmenting{\isacharunderscore}{\kern0pt}path{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ p{\isacharunderscore}{\kern0pt}tbd{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}p{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M\ {\isasymnoteq}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ length{\isacharunderscore}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd{\isacharunderscore}{\kern0pt}geq{\isacharunderscore}{\kern0pt}{\isadigit{2}}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ force%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ even{\isacharunderscore}{\kern0pt}length{\isacharunderscore}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}even\ {\isacharparenleft}{\kern0pt}length\ {\isacharparenleft}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}p\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}p{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}path\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}E\ G{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}p{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ P{\isacharunderscore}{\kern0pt}tbd{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}E\ set{\isacharunderscore}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}V\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ G{\isachardot}{\kern0pt}V{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ pathI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}hd\ {\isacharquery}{\kern0pt}p\ {\isasymin}\ G{\isachardot}{\kern0pt}S{\isachardot}{\kern0pt}set\ L{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}hd\ {\isacharquery}{\kern0pt}p\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ hd{\isacharunderscore}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}s\isanewline
\ \ \ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}hd\ {\isacharquery}{\kern0pt}p\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ L\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ s{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}R\ s{\isacharunderscore}{\kern0pt}neq{\isacharunderscore}{\kern0pt}t\ invar{\isacharunderscore}{\kern0pt}M\ lookup{\isacharunderscore}{\kern0pt}s{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}None\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}s{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices{\isacharunderscore}{\kern0pt}subset\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ set{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}mp{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}length\ {\isacharquery}{\kern0pt}p\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}\ {\isacharless}{\kern0pt}\ length\ {\isacharquery}{\kern0pt}p{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ p{\isacharunderscore}{\kern0pt}tbd{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ intro{\isacharcolon}{\kern0pt}\ diff{\isacharunderscore}{\kern0pt}less{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}p\ {\isacharbang}{\kern0pt}\ {\isacharparenleft}{\kern0pt}length\ {\isacharquery}{\kern0pt}p\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasymnotin}\ G{\isachardot}{\kern0pt}S{\isachardot}{\kern0pt}set\ L{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}last\ {\isacharquery}{\kern0pt}p\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ last{\isacharunderscore}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}t\isanewline
\ \ \ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}last\ {\isacharquery}{\kern0pt}p\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ R\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ t{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}L\ s{\isacharunderscore}{\kern0pt}neq{\isacharunderscore}{\kern0pt}t\ invar{\isacharunderscore}{\kern0pt}M\ lookup{\isacharunderscore}{\kern0pt}t{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}None\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}t{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}last\ {\isacharquery}{\kern0pt}p\ {\isasymin}\ G{\isachardot}{\kern0pt}S{\isachardot}{\kern0pt}set\ R{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices{\isacharunderscore}{\kern0pt}subset\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ set{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}mp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}last\ {\isacharquery}{\kern0pt}p\ {\isasymnotin}\ G{\isachardot}{\kern0pt}S{\isachardot}{\kern0pt}set\ L{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ bipartite{\isacharunderscore}{\kern0pt}graph\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ bipartite{\isacharunderscore}{\kern0pt}graph{\isachardot}{\kern0pt}mem{\isacharunderscore}{\kern0pt}R{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}L{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ p{\isacharunderscore}{\kern0pt}tbd{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ last{\isacharunderscore}{\kern0pt}conv{\isacharunderscore}{\kern0pt}nth{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ bipartite{\isacharunderscore}{\kern0pt}graph\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ bipartite{\isacharunderscore}{\kern0pt}graph{\isachardot}{\kern0pt}nth{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}L{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}even{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
Having verified the correctness of the body of loop \isa{edmonds{\isacharunderscore}{\kern0pt}karp{\isachardot}{\kern0pt}loop{\isacharprime}{\kern0pt}}, we are now finally
able to show that the loop invariants are maintained.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}augment{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}augment\ M\ {\isacharparenleft}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}standard{\isacharcomma}{\kern0pt}\ goal{\isacharunderscore}{\kern0pt}cases{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{1}}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}M\ even{\isacharunderscore}{\kern0pt}length{\isacharunderscore}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ invar{\isacharunderscore}{\kern0pt}augment{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{2}}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}M\ is{\isacharunderscore}{\kern0pt}symmetric{\isacharunderscore}{\kern0pt}Map{\isacharunderscore}{\kern0pt}M\ augmenting{\isacharunderscore}{\kern0pt}path{\isacharunderscore}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd\ distinct{\isacharunderscore}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd\ even{\isacharunderscore}{\kern0pt}length{\isacharunderscore}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ is{\isacharunderscore}{\kern0pt}symmetric{\isacharunderscore}{\kern0pt}Map{\isacharunderscore}{\kern0pt}augment{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{3}}\ u\ v{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}p\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}p{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}\ {\isasymin}\ M{\isacharunderscore}{\kern0pt}tbd\ {\isacharparenleft}{\kern0pt}augment\ M\ {\isacharquery}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}\ {\isasymin}\ M{\isacharunderscore}{\kern0pt}tbd\ M\ {\isasymoplus}\ P{\isacharunderscore}{\kern0pt}tbd\ {\isacharquery}{\kern0pt}p{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}M\ is{\isacharunderscore}{\kern0pt}symmetric{\isacharunderscore}{\kern0pt}Map{\isacharunderscore}{\kern0pt}M\ augmenting{\isacharunderscore}{\kern0pt}path{\isacharunderscore}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd\ distinct{\isacharunderscore}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd\ even{\isacharunderscore}{\kern0pt}length{\isacharunderscore}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ M{\isacharunderscore}{\kern0pt}tbd{\isacharunderscore}{\kern0pt}augment{\isacharunderscore}{\kern0pt}cong{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}\ {\isasymin}\ M{\isacharunderscore}{\kern0pt}tbd\ M\ {\isasymunion}\ P{\isacharunderscore}{\kern0pt}tbd\ {\isacharquery}{\kern0pt}p{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ sym{\isacharunderscore}{\kern0pt}diff{\isacharunderscore}{\kern0pt}subset\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ fast\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ M{\isacharunderscore}{\kern0pt}tbd{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}E\ P{\isacharunderscore}{\kern0pt}tbd{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}E\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharparenright}{\kern0pt}\ M{\isacharunderscore}{\kern0pt}tbd{\isacharunderscore}{\kern0pt}augment{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}E{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}M{\isachardot}{\kern0pt}invar\ M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}symmetric{\isacharunderscore}{\kern0pt}Map\ M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}tbd\ M\ {\isasymsubseteq}\ G{\isachardot}{\kern0pt}E\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}augpath\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}E\ G{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd\ M{\isacharparenright}{\kern0pt}\ p{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}distinct\ p{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}even\ {\isacharparenleft}{\kern0pt}length\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}tbd\ {\isacharparenleft}{\kern0pt}augment\ M\ p{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ G{\isachardot}{\kern0pt}E\ G{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ subset{\isacharunderscore}{\kern0pt}trans{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ {\isacharquery}{\kern0pt}B\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}tbd\ M\ {\isasymunion}\ P{\isacharunderscore}{\kern0pt}tbd\ p{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\ goal{\isacharunderscore}{\kern0pt}cases{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{1}}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ M{\isacharunderscore}{\kern0pt}tbd{\isacharunderscore}{\kern0pt}augment{\isacharunderscore}{\kern0pt}cong\ sym{\isacharunderscore}{\kern0pt}diff{\isacharunderscore}{\kern0pt}subset{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{2}}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}\ {\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ path{\isacharunderscore}{\kern0pt}edges{\isacharunderscore}{\kern0pt}subset{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsubsection{Termination%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\begin{isamarkuptext}%
Before we can prove the correctness of loop \isa{edmonds{\isacharunderscore}{\kern0pt}karp{\isachardot}{\kern0pt}loop{\isacharprime}{\kern0pt}}, we need to prove that it
terminates on appropriate inputs. For this, we show that the size of matching \isa{M} increases
from one iteration to the next.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ loop{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}dom{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}loop{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}dom\ {\isacharparenleft}{\kern0pt}G{\isacharcomma}{\kern0pt}\ L{\isacharcomma}{\kern0pt}\ R{\isacharcomma}{\kern0pt}\ s{\isacharcomma}{\kern0pt}\ t{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadelimvisible
%
\endisadelimvisible
%
\isatagvisible
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}E\ G{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ arbitrary{\isacharcolon}{\kern0pt}\ M\ rule{\isacharcolon}{\kern0pt}\ less{\isacharunderscore}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ less\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}G{\isadigit{2}}\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isachardoublequoteclose}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}G{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}G{\isadigit{1}}\ G\ {\isacharquery}{\kern0pt}G{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}m\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}alt{\isacharunderscore}{\kern0pt}bfs\ {\isacharquery}{\kern0pt}G{\isadigit{1}}\ {\isacharquery}{\kern0pt}G{\isadigit{2}}\ s{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}m\ {\isacharequal}{\kern0pt}\ m{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}done{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ L\ R\ M{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}blast\ intro{\isacharcolon}{\kern0pt}\ loop{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}domintros{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharcolon}{\kern0pt}\ False\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ t\ {\isacharquery}{\kern0pt}m{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}blast\ intro{\isacharcolon}{\kern0pt}\ loop{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}domintros{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}p\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}butlast\ {\isacharparenleft}{\kern0pt}tl\ {\isacharparenleft}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow\ {\isacharquery}{\kern0pt}m\ t{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ p{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}p\ {\isacharequal}{\kern0pt}\ p{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}M\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}augment\ M\ {\isacharquery}{\kern0pt}p{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ M{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ less{\isachardot}{\kern0pt}prems\ not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ False\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ m\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}I{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ augpath{\isacharunderscore}{\kern0pt}p{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}augpath\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}E\ G{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd\ M{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}p{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ m\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isachardot}{\kern0pt}augpath{\isacharunderscore}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ loop{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}domintros{\isacharcomma}{\kern0pt}\ rule\ less{\isachardot}{\kern0pt}hyps{\isacharcomma}{\kern0pt}\ goal{\isacharunderscore}{\kern0pt}cases{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{1}}\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd\ M{\isacharparenright}{\kern0pt}\ {\isacharless}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd\ {\isacharquery}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisatagvisible
{\isafoldvisible}%
%
\isadelimvisible
\isanewline
%
\endisadelimvisible
%
\isadeliminvisible
\ \ \ \ \ \ \ \ %
\endisadeliminvisible
%
\isataginvisible
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd\ M{\isacharparenright}{\kern0pt}\ {\isacharless}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd\ M\ {\isasymoplus}\ P{\isacharunderscore}{\kern0pt}tbd\ {\isacharquery}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}E\ less{\isachardot}{\kern0pt}prems\ augpath{\isacharunderscore}{\kern0pt}p\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}auto\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dest{\isacharcolon}{\kern0pt}\ augpathD{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}\ {\isadigit{3}}{\isacharparenright}{\kern0pt}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isachardot}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}E\ finite{\isacharunderscore}{\kern0pt}subset\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ intro{\isacharcolon}{\kern0pt}\ new{\isacharunderscore}{\kern0pt}matching{\isacharunderscore}{\kern0pt}bigger{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd\ {\isacharquery}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}M{\isachardot}{\kern0pt}invar\ M{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}symmetric{\isacharunderscore}{\kern0pt}Map\ M{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ less{\isachardot}{\kern0pt}prems\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ dest{\isacharcolon}{\kern0pt}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isachardot}{\kern0pt}invar{\isacharunderscore}{\kern0pt}M\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}symmetric{\isacharunderscore}{\kern0pt}Map{\isacharunderscore}{\kern0pt}M{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}augmenting{\isacharunderscore}{\kern0pt}path\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd\ M{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}p{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}distinct\ {\isacharquery}{\kern0pt}p{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ augpath{\isacharunderscore}{\kern0pt}p\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ dest{\isacharcolon}{\kern0pt}\ augpathD{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}\ {\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}even\ {\isacharparenleft}{\kern0pt}length\ {\isacharquery}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ p\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isachardot}{\kern0pt}even{\isacharunderscore}{\kern0pt}length{\isacharunderscore}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ M{\isacharunderscore}{\kern0pt}tbd{\isacharunderscore}{\kern0pt}augment{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimvisible
\ \ \ \ \ \ \ \ %
\endisadelimvisible
%
\isatagvisible
\isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd\ {\isacharquery}{\kern0pt}M{\isacharparenright}{\kern0pt}\ {\isasymle}\ card\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}E\ G{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisatagvisible
{\isafoldvisible}%
%
\isadelimvisible
\isanewline
%
\endisadelimvisible
%
\isadeliminvisible
\ \ \ \ \ \ \ \ %
\endisadeliminvisible
%
\isataginvisible
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ M{\isacharunderscore}{\kern0pt}tbd{\isacharunderscore}{\kern0pt}augment{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}E\ card{\isacharunderscore}{\kern0pt}mono{\isacharcomma}{\kern0pt}\ goal{\isacharunderscore}{\kern0pt}cases{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{1}}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}E\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{2}}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ less{\isachardot}{\kern0pt}prems\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isachardot}{\kern0pt}invar{\isacharunderscore}{\kern0pt}M{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{3}}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ less{\isachardot}{\kern0pt}prems\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}symmetric{\isacharunderscore}{\kern0pt}Map{\isacharunderscore}{\kern0pt}M{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{4}}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ less{\isachardot}{\kern0pt}prems\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isachardot}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}E{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{5}}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ augpath{\isacharunderscore}{\kern0pt}p\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{6}}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ augpath{\isacharunderscore}{\kern0pt}p\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ augpathD{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{7}}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ p\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isachardot}{\kern0pt}even{\isacharunderscore}{\kern0pt}length{\isacharunderscore}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimvisible
\ \ \ \ \ \ \ \ %
\endisadelimvisible
%
\isatagvisible
\isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ linarith\isanewline
\ \ \ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{2}}\isanewline
\ \ \ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ p\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isachardot}{\kern0pt}edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}augment{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagvisible
{\isafoldvisible}%
%
\isadelimvisible
\isanewline
%
\endisadelimvisible
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharparenright}{\kern0pt}\ loop{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}dom{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}loop{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}dom\ {\isacharparenleft}{\kern0pt}G{\isacharcomma}{\kern0pt}\ L{\isacharcomma}{\kern0pt}\ R{\isacharcomma}{\kern0pt}\ s{\isacharcomma}{\kern0pt}\ t{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}axioms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ loop{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}dom{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharparenright}{\kern0pt}\ loop{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}psimps{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}loop{\isacharprime}{\kern0pt}\ G\ L\ R\ s\ t\ M\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}if\ done{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ L\ R\ M\ then\ M\isanewline
\ \ \ \ \ \ else\ if\ done{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ t\ {\isacharparenleft}{\kern0pt}m{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ then\ M\isanewline
\ \ \ \ \ \ \ \ \ \ \ else\ loop{\isacharprime}{\kern0pt}\ G\ L\ R\ s\ t\ {\isacharparenleft}{\kern0pt}augment\ M\ {\isacharparenleft}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}G{\isadigit{2}}\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isachardoublequoteclose}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}G{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}G{\isadigit{1}}\ G\ {\isacharquery}{\kern0pt}G{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}m\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}alt{\isacharunderscore}{\kern0pt}bfs\ {\isacharquery}{\kern0pt}G{\isadigit{1}}\ {\isacharquery}{\kern0pt}G{\isadigit{2}}\ s{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}m\ {\isacharequal}{\kern0pt}\ m{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ m{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ loop{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}dom\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ loop{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}psimps{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ loop{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}psimps{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}loop{\isacharprime}{\kern0pt}\ G\ L\ R\ s\ t\ M\ {\isacharequal}{\kern0pt}\ loop{\isacharprime}{\kern0pt}\ G\ L\ R\ s\ t\ {\isacharparenleft}{\kern0pt}augment\ M\ {\isacharparenleft}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ loop{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}psimps{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharparenright}{\kern0pt}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}induct{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharprime}{\kern0pt}\ G\ L\ R\ s\ t\ M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymAnd}G\ L\ R\ s\ t\ M{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymnot}\ done{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ L\ R\ M\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ \ {\isasymnot}\ done{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ t\ {\isacharparenleft}{\kern0pt}m{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ \ Q\ G\ L\ R\ s\ t\ {\isacharparenleft}{\kern0pt}augment\ M\ {\isacharparenleft}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ Q\ G\ L\ R\ s\ t\ M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}Q\ G\ L\ R\ s\ t\ M{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ loop{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}pinduct{\isacharcomma}{\kern0pt}\ goal{\isacharunderscore}{\kern0pt}cases{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{1}}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isachardot}{\kern0pt}loop{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}dom{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{2}}\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}G{\isadigit{2}}\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isachardoublequoteclose}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}G{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}G{\isadigit{1}}\ G\ {\isacharquery}{\kern0pt}G{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}m\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}alt{\isacharunderscore}{\kern0pt}bfs\ {\isacharquery}{\kern0pt}G{\isadigit{1}}\ {\isacharquery}{\kern0pt}G{\isadigit{2}}\ s{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ m{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}m\ {\isacharequal}{\kern0pt}\ m{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ m\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharcolon}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsubsection{Correctness%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\begin{isamarkuptext}%
We are now finally ready to prove the correctness of algorithm \isa{edmonds{\isacharunderscore}{\kern0pt}karp{\isachardot}{\kern0pt}edmonds{\isacharunderscore}{\kern0pt}karp}. We
still need to show that if the algorithm doesn't find an augmenting path, then the current matching
\isa{M} is already maximum.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{abbreviation}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}maximum{\isacharunderscore}{\kern0pt}matching\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ graph\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ graph\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}maximum{\isacharunderscore}{\kern0pt}matching\ G\ M\ {\isasymequiv}\ graph{\isacharunderscore}{\kern0pt}matching\ G\ M\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}M{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ graph{\isacharunderscore}{\kern0pt}matching\ G\ M{\isacharprime}{\kern0pt}\ {\isasymlongrightarrow}\ card\ M{\isacharprime}{\kern0pt}\ {\isasymle}\ card\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{locale}\isamarkupfalse%
\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar\ \isakeyword{where}\isanewline
\ \ Map{\isacharunderscore}{\kern0pt}update\ {\isacharequal}{\kern0pt}\ Map{\isacharunderscore}{\kern0pt}update\ \isakeyword{and}\isanewline
\ \ P{\isacharunderscore}{\kern0pt}update\ {\isacharequal}{\kern0pt}\ P{\isacharunderscore}{\kern0pt}update\ \isakeyword{and}\isanewline
\ \ M{\isacharunderscore}{\kern0pt}update\ {\isacharequal}{\kern0pt}\ M{\isacharunderscore}{\kern0pt}update\ \isakeyword{for}\isanewline
\ \ Map{\isacharunderscore}{\kern0pt}update\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}linorder\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}s\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}n\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}n{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ P{\isacharunderscore}{\kern0pt}update\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ M{\isacharunderscore}{\kern0pt}update\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m{\isachardoublequoteclose}\ {\isacharplus}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ done{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}done{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ L\ R\ M{\isachardoublequoteclose}\isanewline
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{abbreviation}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharparenright}{\kern0pt}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharprime}{\kern0pt}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}n\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}s\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}s\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharprime}{\kern0pt}\ G\ L\ R\ s\ t\ M\ {\isasymequiv}\isanewline
\ \ \ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{1}}\isanewline
\ \ \ \ Map{\isacharunderscore}{\kern0pt}empty\ Map{\isacharunderscore}{\kern0pt}delete\ Map{\isacharunderscore}{\kern0pt}lookup\ Map{\isacharunderscore}{\kern0pt}inorder\ Map{\isacharunderscore}{\kern0pt}inv\isanewline
\ \ \ \ Set{\isacharunderscore}{\kern0pt}empty\ Set{\isacharunderscore}{\kern0pt}insert\ Set{\isacharunderscore}{\kern0pt}delete\ Set{\isacharunderscore}{\kern0pt}isin\ Set{\isacharunderscore}{\kern0pt}inorder\ Set{\isacharunderscore}{\kern0pt}inv\isanewline
\ \ \ \ P{\isacharunderscore}{\kern0pt}empty\ P{\isacharunderscore}{\kern0pt}delete\ P{\isacharunderscore}{\kern0pt}lookup\ P{\isacharunderscore}{\kern0pt}invar\isanewline
\ \ \ \ Q{\isacharunderscore}{\kern0pt}empty\ Q{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ Q{\isacharunderscore}{\kern0pt}head\ Q{\isacharunderscore}{\kern0pt}tail\ Q{\isacharunderscore}{\kern0pt}invar\ Q{\isacharunderscore}{\kern0pt}list\ Q{\isacharunderscore}{\kern0pt}snoc\isanewline
\ \ \ \ M{\isacharunderscore}{\kern0pt}empty\ M{\isacharunderscore}{\kern0pt}delete\ M{\isacharunderscore}{\kern0pt}lookup\ M{\isacharunderscore}{\kern0pt}inorder\ M{\isacharunderscore}{\kern0pt}inv\isanewline
\ \ \ \ G\ L\ R\ s\ t\ M\isanewline
\ \ \ \ Map{\isacharunderscore}{\kern0pt}update\ P{\isacharunderscore}{\kern0pt}update\ M{\isacharunderscore}{\kern0pt}update{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ {\isasymequiv}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharprime}{\kern0pt}\ G\ L\ R\ s\ t{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharparenright}{\kern0pt}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{1}}I{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharprime}{\kern0pt}\ G\ L\ R\ s\ t\ M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}done{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ L\ R\ M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharprime}{\kern0pt}\ G\ L\ R\ s\ t\ M{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharunderscore}{\kern0pt}def\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharunderscore}{\kern0pt}axioms{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ loop{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}psimps{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}loop{\isacharprime}{\kern0pt}\ G\ L\ R\ s\ t\ M\ {\isacharequal}{\kern0pt}\ M{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ done{\isacharunderscore}{\kern0pt}{\isadigit{1}}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ loop{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}psimps{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}maximum{\isacharunderscore}{\kern0pt}matching{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}maximum{\isacharunderscore}{\kern0pt}matching\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}E\ G{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{{\isacharbraceleft}{\kern0pt}}\isamarkupfalse%
\ \isacommand{fix}\isamarkupfalse%
\ M{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ assm{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}graph{\isacharunderscore}{\kern0pt}matching\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}E\ G{\isacharparenright}{\kern0pt}\ M{\isacharprime}{\kern0pt}\ {\isasymand}\ card\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd\ M{\isacharparenright}{\kern0pt}\ {\isacharless}{\kern0pt}\ card\ M{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ p\ \isakeyword{where}\isanewline
\ \ \ \ \ \ augpath{\isacharunderscore}{\kern0pt}p{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}augpath\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}E\ G{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd\ M{\isacharparenright}{\kern0pt}\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}M{\isacharprime}{\kern0pt}{\isasymsubseteq}{\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}E\ G{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ matching\ M{\isacharprime}{\kern0pt}\ {\isasymand}\ card\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd\ M{\isacharparenright}{\kern0pt}\ {\isacharless}{\kern0pt}\ card\ M{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assm\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}p{\isachardot}{\kern0pt}\ augmenting{\isacharunderscore}{\kern0pt}path\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd\ M{\isacharparenright}{\kern0pt}\ p\ {\isasymand}\ path\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}E\ G{\isacharparenright}{\kern0pt}\ p\ {\isasymand}\ distinct\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd\ graph{\isacharunderscore}{\kern0pt}matching{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd\ graph{\isacharunderscore}{\kern0pt}G\ finite{\isacharunderscore}{\kern0pt}V\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ G{\isachardot}{\kern0pt}V{\isacharunderscore}{\kern0pt}def\ Berge{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharcolon}{\kern0pt}\ that{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ p{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}p\ {\isasymnoteq}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ augpath{\isacharunderscore}{\kern0pt}p\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ dest{\isacharcolon}{\kern0pt}\ augmenting{\isacharunderscore}{\kern0pt}pathD{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ free{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertex\ M\ {\isacharparenleft}{\kern0pt}hd\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertex\ M\ {\isacharparenleft}{\kern0pt}last\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ augpath{\isacharunderscore}{\kern0pt}p\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ dest{\isacharcolon}{\kern0pt}\ augmenting{\isacharunderscore}{\kern0pt}pathD{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}\ {\isadigit{4}}{\isacharparenright}{\kern0pt}\ intro{\isacharcolon}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}Vs{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}free{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ mem{\isacharunderscore}{\kern0pt}V{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}hd\ p\ {\isasymin}\ G{\isachardot}{\kern0pt}V\ G{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}last\ p\ {\isasymin}\ G{\isachardot}{\kern0pt}V\ G{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ augpath{\isacharunderscore}{\kern0pt}p\ p{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp\ add{\isacharcolon}{\kern0pt}\ G{\isachardot}{\kern0pt}V{\isacharunderscore}{\kern0pt}def\ intro{\isacharcolon}{\kern0pt}\ mem{\isacharunderscore}{\kern0pt}path{\isacharunderscore}{\kern0pt}Vs{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ even{\isacharunderscore}{\kern0pt}length{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}even\ {\isacharparenleft}{\kern0pt}length\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ augpath{\isacharunderscore}{\kern0pt}p\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ edges{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}path{\isacharunderscore}{\kern0pt}length\ dest{\isacharcolon}{\kern0pt}\ augmenting{\isacharunderscore}{\kern0pt}path{\isacharunderscore}{\kern0pt}odd{\isacharunderscore}{\kern0pt}length{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}hd\ p\ {\isasymin}\ G{\isachardot}{\kern0pt}S{\isachardot}{\kern0pt}set\ L{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}last\ p\ {\isasymin}\ G{\isachardot}{\kern0pt}S{\isachardot}{\kern0pt}set\ R{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}length\ p\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}\ {\isacharless}{\kern0pt}\ length\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ p{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ intro{\isacharcolon}{\kern0pt}\ diff{\isacharunderscore}{\kern0pt}less{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}odd\ {\isacharparenleft}{\kern0pt}length\ p\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ p{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty\ even{\isacharunderscore}{\kern0pt}length\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}p\ {\isacharbang}{\kern0pt}\ {\isacharparenleft}{\kern0pt}length\ p\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasymnotin}\ G{\isachardot}{\kern0pt}S{\isachardot}{\kern0pt}set\ L{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ bipartite{\isacharunderscore}{\kern0pt}graph\ augpath{\isacharunderscore}{\kern0pt}p\ True\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ bipartite{\isacharunderscore}{\kern0pt}graph{\isachardot}{\kern0pt}nth{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}L{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}even{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}last\ p\ {\isasymnotin}\ G{\isachardot}{\kern0pt}S{\isachardot}{\kern0pt}set\ L{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ p{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ last{\isacharunderscore}{\kern0pt}conv{\isacharunderscore}{\kern0pt}nth{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ bipartite{\isacharunderscore}{\kern0pt}graph\ mem{\isacharunderscore}{\kern0pt}V{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ G{\isachardot}{\kern0pt}V{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ bipartite{\isacharunderscore}{\kern0pt}graph{\isachardot}{\kern0pt}not{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}L{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}R{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}hd\ p\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ L\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}last\ p\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ R\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ True\ free\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp{\isacharunderscore}{\kern0pt}all\ add{\isacharcolon}{\kern0pt}\ G{\isachardot}{\kern0pt}S{\isachardot}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\ free{\isacharunderscore}{\kern0pt}vertices{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ done{\isacharunderscore}{\kern0pt}{\isadigit{1}}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ done{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ bipartite{\isacharunderscore}{\kern0pt}graph\ mem{\isacharunderscore}{\kern0pt}V{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ hd{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}R{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}hd\ p\ {\isasymin}\ G{\isachardot}{\kern0pt}S{\isachardot}{\kern0pt}set\ R{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ G{\isachardot}{\kern0pt}V{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ bipartite{\isacharunderscore}{\kern0pt}graph{\isachardot}{\kern0pt}not{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}L{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}R{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}last\ p\ {\isasymin}\ G{\isachardot}{\kern0pt}S{\isachardot}{\kern0pt}set\ L{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}length\ p\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}\ {\isacharless}{\kern0pt}\ length\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ p{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ intro{\isacharcolon}{\kern0pt}\ diff{\isacharunderscore}{\kern0pt}less{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}odd\ {\isacharparenleft}{\kern0pt}length\ p\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ p{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty\ even{\isacharunderscore}{\kern0pt}length\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}p\ {\isacharbang}{\kern0pt}\ {\isacharparenleft}{\kern0pt}length\ p\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasymnotin}\ G{\isachardot}{\kern0pt}S{\isachardot}{\kern0pt}set\ R{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ bipartite{\isacharunderscore}{\kern0pt}graph\ augpath{\isacharunderscore}{\kern0pt}p\ hd{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}R\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ bipartite{\isacharunderscore}{\kern0pt}graph{\isachardot}{\kern0pt}nth{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}R{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}even{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}last\ p\ {\isasymnotin}\ G{\isachardot}{\kern0pt}S{\isachardot}{\kern0pt}set\ R{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ p{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ last{\isacharunderscore}{\kern0pt}conv{\isacharunderscore}{\kern0pt}nth{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ bipartite{\isacharunderscore}{\kern0pt}graph\ mem{\isacharunderscore}{\kern0pt}V{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ G{\isachardot}{\kern0pt}V{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ bipartite{\isacharunderscore}{\kern0pt}graph{\isachardot}{\kern0pt}not{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}R{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}L{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}hd\ p\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ R\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}last\ p\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ L\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ hd{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}R\ free\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp{\isacharunderscore}{\kern0pt}all\ add{\isacharcolon}{\kern0pt}\ G{\isachardot}{\kern0pt}S{\isachardot}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\ free{\isacharunderscore}{\kern0pt}vertices{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ done{\isacharunderscore}{\kern0pt}{\isadigit{1}}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ done{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\ \isacommand{{\isacharbraceright}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ graph{\isacharunderscore}{\kern0pt}matching{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{locale}\isamarkupfalse%
\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ {\isacharequal}{\kern0pt}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ \isakeyword{where}\isanewline
\ \ Map{\isacharunderscore}{\kern0pt}update\ {\isacharequal}{\kern0pt}\ Map{\isacharunderscore}{\kern0pt}update\ \isakeyword{and}\isanewline
\ \ P{\isacharunderscore}{\kern0pt}update\ {\isacharequal}{\kern0pt}\ P{\isacharunderscore}{\kern0pt}update\ \isakeyword{and}\isanewline
\ \ M{\isacharunderscore}{\kern0pt}update\ {\isacharequal}{\kern0pt}\ M{\isacharunderscore}{\kern0pt}update\ \isakeyword{for}\isanewline
\ \ Map{\isacharunderscore}{\kern0pt}update\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}linorder\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}s\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}n\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}n{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ P{\isacharunderscore}{\kern0pt}update\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ M{\isacharunderscore}{\kern0pt}update\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m{\isachardoublequoteclose}\ {\isacharplus}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ done{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ t\ {\isacharparenleft}{\kern0pt}m{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{abbreviation}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharparenright}{\kern0pt}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharprime}{\kern0pt}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}n\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}s\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}s\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharprime}{\kern0pt}\ G\ L\ R\ s\ t\ M\ {\isasymequiv}\isanewline
\ \ \ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}\isanewline
\ \ \ \ Map{\isacharunderscore}{\kern0pt}empty\ Map{\isacharunderscore}{\kern0pt}delete\ Map{\isacharunderscore}{\kern0pt}lookup\ Map{\isacharunderscore}{\kern0pt}inorder\ Map{\isacharunderscore}{\kern0pt}inv\isanewline
\ \ \ \ Set{\isacharunderscore}{\kern0pt}empty\ Set{\isacharunderscore}{\kern0pt}insert\ Set{\isacharunderscore}{\kern0pt}delete\ Set{\isacharunderscore}{\kern0pt}isin\ Set{\isacharunderscore}{\kern0pt}inorder\ Set{\isacharunderscore}{\kern0pt}inv\isanewline
\ \ \ \ P{\isacharunderscore}{\kern0pt}empty\ P{\isacharunderscore}{\kern0pt}delete\ P{\isacharunderscore}{\kern0pt}lookup\ P{\isacharunderscore}{\kern0pt}invar\isanewline
\ \ \ \ Q{\isacharunderscore}{\kern0pt}empty\ Q{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ Q{\isacharunderscore}{\kern0pt}head\ Q{\isacharunderscore}{\kern0pt}tail\ Q{\isacharunderscore}{\kern0pt}invar\ Q{\isacharunderscore}{\kern0pt}list\ Q{\isacharunderscore}{\kern0pt}snoc\isanewline
\ \ \ \ M{\isacharunderscore}{\kern0pt}empty\ M{\isacharunderscore}{\kern0pt}delete\ M{\isacharunderscore}{\kern0pt}lookup\ M{\isacharunderscore}{\kern0pt}inorder\ M{\isacharunderscore}{\kern0pt}inv\isanewline
\ \ \ \ G\ L\ R\ s\ t\ M\isanewline
\ \ \ \ Map{\isacharunderscore}{\kern0pt}update\ P{\isacharunderscore}{\kern0pt}update\ M{\isacharunderscore}{\kern0pt}update{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ {\isasymequiv}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharprime}{\kern0pt}\ G\ L\ R\ s\ t{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharparenright}{\kern0pt}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}I{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharprime}{\kern0pt}\ G\ L\ R\ s\ t\ M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ t\ {\isacharparenleft}{\kern0pt}m{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharprime}{\kern0pt}\ G\ L\ R\ s\ t\ M{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}def\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}axioms{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharparenright}{\kern0pt}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}I{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharprime}{\kern0pt}\ G\ L\ R\ s\ t\ M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymnot}\ done{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ L\ R\ M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ t\ {\isacharparenleft}{\kern0pt}m{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharprime}{\kern0pt}\ G\ L\ R\ s\ t\ M{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharunderscore}{\kern0pt}def\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharunderscore}{\kern0pt}axioms{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}def\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}axioms{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ loop{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}psimps{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}loop{\isacharprime}{\kern0pt}\ G\ L\ R\ s\ t\ M\ {\isacharequal}{\kern0pt}\ M{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ done{\isacharunderscore}{\kern0pt}{\isadigit{2}}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ loop{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}psimps{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}maximum{\isacharunderscore}{\kern0pt}matching{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}maximum{\isacharunderscore}{\kern0pt}matching\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}E\ G{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{{\isacharbraceleft}{\kern0pt}}\isamarkupfalse%
\ \isacommand{fix}\isamarkupfalse%
\ M{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}G{\isadigit{2}}\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}G{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}G{\isadigit{1}}\ G\ {\isacharquery}{\kern0pt}G{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}G\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}union\ {\isacharquery}{\kern0pt}G{\isadigit{1}}\ {\isacharquery}{\kern0pt}G{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ assm{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}graph{\isacharunderscore}{\kern0pt}matching\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}E\ G{\isacharparenright}{\kern0pt}\ M{\isacharprime}{\kern0pt}\ {\isasymand}\ card\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd\ M{\isacharparenright}{\kern0pt}\ {\isacharless}{\kern0pt}\ card\ M{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ p\ \isakeyword{where}\isanewline
\ \ \ \ \ \ augpath{\isacharunderscore}{\kern0pt}p{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}augpath\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}E\ G{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd\ M{\isacharparenright}{\kern0pt}\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}M{\isacharprime}{\kern0pt}{\isasymsubseteq}{\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}E\ G{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ matching\ M{\isacharprime}{\kern0pt}\ {\isasymand}\ card\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd\ M{\isacharparenright}{\kern0pt}\ {\isacharless}{\kern0pt}\ card\ M{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assm\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}p{\isachardot}{\kern0pt}\ augmenting{\isacharunderscore}{\kern0pt}path\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd\ M{\isacharparenright}{\kern0pt}\ p\ {\isasymand}\ path\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}E\ G{\isacharparenright}{\kern0pt}\ p\ {\isasymand}\ distinct\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd\ graph{\isacharunderscore}{\kern0pt}matching{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd\ graph{\isacharunderscore}{\kern0pt}G\ finite{\isacharunderscore}{\kern0pt}V\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ G{\isachardot}{\kern0pt}V{\isacharunderscore}{\kern0pt}def\ Berge{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharcolon}{\kern0pt}\ that{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ p{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}p\ {\isasymnoteq}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ augpath{\isacharunderscore}{\kern0pt}p\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ dest{\isacharcolon}{\kern0pt}\ augmenting{\isacharunderscore}{\kern0pt}pathD{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ free{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertex\ M\ {\isacharparenleft}{\kern0pt}hd\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertex\ M\ {\isacharparenleft}{\kern0pt}last\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ augpath{\isacharunderscore}{\kern0pt}p\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ dest{\isacharcolon}{\kern0pt}\ augmenting{\isacharunderscore}{\kern0pt}pathD{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}\ {\isadigit{4}}{\isacharparenright}{\kern0pt}\ intro{\isacharcolon}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}Vs{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}free{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ mem{\isacharunderscore}{\kern0pt}V{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}hd\ p\ {\isasymin}\ G{\isachardot}{\kern0pt}V\ G{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}last\ p\ {\isasymin}\ G{\isachardot}{\kern0pt}V\ G{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ augpath{\isacharunderscore}{\kern0pt}p\ p{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp\ add{\isacharcolon}{\kern0pt}\ G{\isachardot}{\kern0pt}V{\isacharunderscore}{\kern0pt}def\ intro{\isacharcolon}{\kern0pt}\ mem{\isacharunderscore}{\kern0pt}path{\isacharunderscore}{\kern0pt}Vs{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ even{\isacharunderscore}{\kern0pt}length{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}even\ {\isacharparenleft}{\kern0pt}length\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ augpath{\isacharunderscore}{\kern0pt}p\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ edges{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}path{\isacharunderscore}{\kern0pt}length\ dest{\isacharcolon}{\kern0pt}\ augmenting{\isacharunderscore}{\kern0pt}path{\isacharunderscore}{\kern0pt}odd{\isacharunderscore}{\kern0pt}length{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ p{\isacharprime}{\kern0pt}\ \isakeyword{where}\isanewline
\ \ \ \ \ \ augpath{\isacharunderscore}{\kern0pt}p{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}augpath\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}E\ G{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd\ M{\isacharparenright}{\kern0pt}\ p{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ hd{\isacharunderscore}{\kern0pt}p{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}hd\ p{\isacharprime}{\kern0pt}\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ L\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ last{\isacharunderscore}{\kern0pt}p{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}last\ p{\isacharprime}{\kern0pt}\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ R\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}hd\ p\ {\isasymin}\ G{\isachardot}{\kern0pt}S{\isachardot}{\kern0pt}set\ L{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}last\ p\ {\isasymin}\ G{\isachardot}{\kern0pt}S{\isachardot}{\kern0pt}set\ R{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}length\ p\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}\ {\isacharless}{\kern0pt}\ length\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ p{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ intro{\isacharcolon}{\kern0pt}\ diff{\isacharunderscore}{\kern0pt}less{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}odd\ {\isacharparenleft}{\kern0pt}length\ p\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ p{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty\ even{\isacharunderscore}{\kern0pt}length\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}p\ {\isacharbang}{\kern0pt}\ {\isacharparenleft}{\kern0pt}length\ p\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasymnotin}\ G{\isachardot}{\kern0pt}S{\isachardot}{\kern0pt}set\ L{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ bipartite{\isacharunderscore}{\kern0pt}graph\ augpath{\isacharunderscore}{\kern0pt}p\ True\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ bipartite{\isacharunderscore}{\kern0pt}graph{\isachardot}{\kern0pt}nth{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}L{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}even{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}last\ p\ {\isasymnotin}\ G{\isachardot}{\kern0pt}S{\isachardot}{\kern0pt}set\ L{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ p{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ last{\isacharunderscore}{\kern0pt}conv{\isacharunderscore}{\kern0pt}nth{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ bipartite{\isacharunderscore}{\kern0pt}graph\ mem{\isacharunderscore}{\kern0pt}V{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ G{\isachardot}{\kern0pt}V{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ bipartite{\isacharunderscore}{\kern0pt}graph{\isachardot}{\kern0pt}not{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}L{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}R{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}hd\ p\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ L\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}last\ p\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ R\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ True\ free\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp{\isacharunderscore}{\kern0pt}all\ add{\isacharcolon}{\kern0pt}\ G{\isachardot}{\kern0pt}S{\isachardot}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\ free{\isacharunderscore}{\kern0pt}vertices{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ augpath{\isacharunderscore}{\kern0pt}p\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ that{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ bipartite{\isacharunderscore}{\kern0pt}graph\ mem{\isacharunderscore}{\kern0pt}V{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ hd{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}R{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}hd\ p\ {\isasymin}\ G{\isachardot}{\kern0pt}S{\isachardot}{\kern0pt}set\ R{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ G{\isachardot}{\kern0pt}V{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ bipartite{\isacharunderscore}{\kern0pt}graph{\isachardot}{\kern0pt}not{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}L{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}R{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}last\ p\ {\isasymin}\ G{\isachardot}{\kern0pt}S{\isachardot}{\kern0pt}set\ L{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}length\ p\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}\ {\isacharless}{\kern0pt}\ length\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ p{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ intro{\isacharcolon}{\kern0pt}\ diff{\isacharunderscore}{\kern0pt}less{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}odd\ {\isacharparenleft}{\kern0pt}length\ p\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ p{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty\ even{\isacharunderscore}{\kern0pt}length\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}p\ {\isacharbang}{\kern0pt}\ {\isacharparenleft}{\kern0pt}length\ p\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasymnotin}\ G{\isachardot}{\kern0pt}S{\isachardot}{\kern0pt}set\ R{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ bipartite{\isacharunderscore}{\kern0pt}graph\ augpath{\isacharunderscore}{\kern0pt}p\ hd{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}R\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ bipartite{\isacharunderscore}{\kern0pt}graph{\isachardot}{\kern0pt}nth{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}R{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}even{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}last\ p\ {\isasymnotin}\ G{\isachardot}{\kern0pt}S{\isachardot}{\kern0pt}set\ R{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ p{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ last{\isacharunderscore}{\kern0pt}conv{\isacharunderscore}{\kern0pt}nth{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ bipartite{\isacharunderscore}{\kern0pt}graph\ mem{\isacharunderscore}{\kern0pt}V{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ G{\isachardot}{\kern0pt}V{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ bipartite{\isacharunderscore}{\kern0pt}graph{\isachardot}{\kern0pt}not{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}R{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}L{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}hd\ p\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ R\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}last\ p\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ L\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ hd{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}R\ free\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp{\isacharunderscore}{\kern0pt}all\ add{\isacharcolon}{\kern0pt}\ G{\isachardot}{\kern0pt}S{\isachardot}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\ free{\isacharunderscore}{\kern0pt}vertices{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}hd\ {\isacharparenleft}{\kern0pt}rev\ p{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ L\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}last\ {\isacharparenleft}{\kern0pt}rev\ p{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}free{\isacharunderscore}{\kern0pt}vertices\ R\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ p{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp{\isacharunderscore}{\kern0pt}all\ add{\isacharcolon}{\kern0pt}\ hd{\isacharunderscore}{\kern0pt}rev\ last{\isacharunderscore}{\kern0pt}rev{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ augpath{\isacharunderscore}{\kern0pt}p\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ that{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}rule\ augpath{\isacharunderscore}{\kern0pt}revI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}alt{\isacharunderscore}{\kern0pt}path\ {\isacharparenleft}{\kern0pt}{\isasymlambda}e{\isachardot}{\kern0pt}\ e\ {\isasymin}\ G{\isachardot}{\kern0pt}E\ {\isacharquery}{\kern0pt}G{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}e{\isachardot}{\kern0pt}\ e\ {\isasymin}\ G{\isachardot}{\kern0pt}E\ {\isacharquery}{\kern0pt}G{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}E\ {\isacharquery}{\kern0pt}G{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}s\ {\isacharhash}{\kern0pt}\ p{\isacharprime}{\kern0pt}\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}t{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ s\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}alt{\isacharunderscore}{\kern0pt}path\ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}e{\isachardot}{\kern0pt}\ e\ {\isasymin}\ G{\isachardot}{\kern0pt}E\ {\isacharquery}{\kern0pt}G{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}e{\isachardot}{\kern0pt}\ e\ {\isasymin}\ G{\isachardot}{\kern0pt}E\ {\isacharquery}{\kern0pt}G{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}E\ {\isacharquery}{\kern0pt}G{\isacharparenright}{\kern0pt}\ p{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}hd\ p{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}last\ p{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ alt{\isacharunderscore}{\kern0pt}pathI{\isacharcomma}{\kern0pt}\ goal{\isacharunderscore}{\kern0pt}cases{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{1}}\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}s\ {\isasymnotin}\ set\ p{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}t\ {\isasymnotin}\ set\ p{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ augpath{\isacharunderscore}{\kern0pt}p{\isacharprime}{\kern0pt}\ s{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}V\ t{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}V\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ G{\isachardot}{\kern0pt}V{\isacharunderscore}{\kern0pt}def\ intro{\isacharcolon}{\kern0pt}\ mem{\isacharunderscore}{\kern0pt}path{\isacharunderscore}{\kern0pt}Vs{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}e{\isasymin}P{\isacharunderscore}{\kern0pt}tbd\ p{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ e\ {\isasymin}\ G{\isachardot}{\kern0pt}E\ {\isacharquery}{\kern0pt}G{\isadigit{2}}\ {\isasymlongleftrightarrow}\ e\ {\isasymin}\ M{\isacharunderscore}{\kern0pt}tbd\ M{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}M\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ mem{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}E{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ augpath{\isacharunderscore}{\kern0pt}p{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}force\ dest{\isacharcolon}{\kern0pt}\ augmenting{\isacharunderscore}{\kern0pt}pathD{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ intro{\isacharcolon}{\kern0pt}\ alt{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{2}}\isanewline
\ \ \ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ nonempty{\isacharunderscore}{\kern0pt}path{\isacharunderscore}{\kern0pt}walk{\isacharunderscore}{\kern0pt}between{\isacharcomma}{\kern0pt}\ goal{\isacharunderscore}{\kern0pt}cases{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{1}}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}path\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}E\ G{\isacharparenright}{\kern0pt}\ p{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ augpath{\isacharunderscore}{\kern0pt}p{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ E{\isacharunderscore}{\kern0pt}union{\isacharunderscore}{\kern0pt}G{\isadigit{1}}{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}cong\ intro{\isacharcolon}{\kern0pt}\ path{\isacharunderscore}{\kern0pt}subset{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{2}}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ augpath{\isacharunderscore}{\kern0pt}p{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ dest{\isacharcolon}{\kern0pt}\ augmenting{\isacharunderscore}{\kern0pt}pathD{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\ simp{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}alt{\isacharunderscore}{\kern0pt}path\ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}e{\isachardot}{\kern0pt}\ e\ {\isasymin}\ G{\isachardot}{\kern0pt}E\ {\isacharquery}{\kern0pt}G{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}e{\isachardot}{\kern0pt}\ e\ {\isasymin}\ G{\isachardot}{\kern0pt}E\ {\isacharquery}{\kern0pt}G{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}E\ {\isacharquery}{\kern0pt}G{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}p{\isacharprime}{\kern0pt}\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}t{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}hd\ p{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ alt{\isacharunderscore}{\kern0pt}path{\isacharunderscore}{\kern0pt}snoc{\isacharunderscore}{\kern0pt}oddI{\isacharcomma}{\kern0pt}\ goal{\isacharunderscore}{\kern0pt}cases{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{1}}\isanewline
\ \ \ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ augpath{\isacharunderscore}{\kern0pt}p{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ augmenting{\isacharunderscore}{\kern0pt}path{\isacharunderscore}{\kern0pt}odd{\isacharunderscore}{\kern0pt}length{\isacharparenright}{\kern0pt}\ force\isanewline
\ \ \ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{2}}\isanewline
\ \ \ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ last{\isacharunderscore}{\kern0pt}p{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ E{\isacharunderscore}{\kern0pt}union{\isacharunderscore}{\kern0pt}G{\isadigit{1}}{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{3}}\isanewline
\ \ \ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}M\ last{\isacharunderscore}{\kern0pt}p{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ E{\isadigit{2}}{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ alt{\isacharunderscore}{\kern0pt}path{\isacharunderscore}{\kern0pt}ConsI{\isacharcomma}{\kern0pt}\ goal{\isacharunderscore}{\kern0pt}cases{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{1}}\isanewline
\ \ \ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ hd{\isacharunderscore}{\kern0pt}p{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ E{\isacharunderscore}{\kern0pt}union{\isacharunderscore}{\kern0pt}G{\isadigit{1}}{\isacharunderscore}{\kern0pt}G{\isadigit{2}}{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{2}}\isanewline
\ \ \ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}M\ hd{\isacharunderscore}{\kern0pt}p{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ E{\isadigit{2}}{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}alt{\isacharunderscore}{\kern0pt}reachable\ {\isacharparenleft}{\kern0pt}{\isasymlambda}e{\isachardot}{\kern0pt}\ e\ {\isasymin}\ G{\isachardot}{\kern0pt}E\ {\isacharquery}{\kern0pt}G{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}e{\isachardot}{\kern0pt}\ e\ {\isasymin}\ G{\isachardot}{\kern0pt}E\ {\isacharquery}{\kern0pt}G{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}E\ {\isacharquery}{\kern0pt}G{\isacharparenright}{\kern0pt}\ s\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ alt{\isacharunderscore}{\kern0pt}reachable{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ alt{\isacharunderscore}{\kern0pt}bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input\ s{\isacharunderscore}{\kern0pt}neq{\isacharunderscore}{\kern0pt}t\ done{\isacharunderscore}{\kern0pt}{\isadigit{2}}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ done{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ alt{\isacharunderscore}{\kern0pt}bfs{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ alt{\isacharunderscore}{\kern0pt}bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isachardot}{\kern0pt}alt{\isacharunderscore}{\kern0pt}bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}init\ is{\isacharunderscore}{\kern0pt}discovered{\isacharunderscore}{\kern0pt}def\ alt{\isacharunderscore}{\kern0pt}bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isachardot}{\kern0pt}alt{\isacharunderscore}{\kern0pt}loop{\isacharunderscore}{\kern0pt}complete{\isacharparenright}{\kern0pt}\ \isacommand{{\isacharbraceright}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ graph{\isacharunderscore}{\kern0pt}matching{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
Otherwise, we augment matching \isa{M} by the augmenting path found as verified above, and it
follows by induction (via the induction rule given by function \isa{edmonds{\isacharunderscore}{\kern0pt}karp{\isachardot}{\kern0pt}loop{\isacharprime}{\kern0pt}}) that the
algorithm outputs a maximum matching.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}maximum{\isacharunderscore}{\kern0pt}matching{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd{\isacharunderscore}{\kern0pt}loop{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}maximum{\isacharunderscore}{\kern0pt}matching\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}E\ G{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd\ {\isacharparenleft}{\kern0pt}loop{\isacharprime}{\kern0pt}\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadelimvisible
%
\endisadelimvisible
%
\isatagvisible
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ rule{\isacharcolon}{\kern0pt}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}induct{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}done{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ L\ R\ M{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{1}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharprime}{\kern0pt}\ G\ L\ R\ s\ t\ M{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{1}}I{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}intro\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}maximum{\isacharunderscore}{\kern0pt}matching{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isachardot}{\kern0pt}loop{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}psimps{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharcolon}{\kern0pt}\ False\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ t\ {\isacharparenleft}{\kern0pt}m{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{1}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}\ not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{1}}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharprime}{\kern0pt}\ G\ L\ R\ s\ t\ M{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}I{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}intro\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}maximum{\isacharunderscore}{\kern0pt}matching{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isachardot}{\kern0pt}loop{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}psimps{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{1}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}\ not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{1}}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharprime}{\kern0pt}\ G\ L\ R\ s\ t\ M{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}I{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ False\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}auto\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ simp\ add{\isacharcolon}{\kern0pt}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isachardot}{\kern0pt}loop{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}psimps\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ dest{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isadigit{1}}{\isachardot}{\kern0pt}hyps{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ intro{\isacharcolon}{\kern0pt}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isachardot}{\kern0pt}edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}augment{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagvisible
{\isafoldvisible}%
%
\isadelimvisible
%
\endisadelimvisible
%
\begin{isamarkuptext}%
We finally have everything to state and prove the correctness theorem for algorithm
\isa{edmonds{\isacharunderscore}{\kern0pt}karp{\isachardot}{\kern0pt}edmonds{\isacharunderscore}{\kern0pt}karp}.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}correct{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}maximum{\isacharunderscore}{\kern0pt}matching\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}E\ G{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd\ {\isacharparenleft}{\kern0pt}edmonds{\isacharunderscore}{\kern0pt}karp\ G\ L\ R\ s\ t{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}empty\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ is{\isacharunderscore}{\kern0pt}maximum{\isacharunderscore}{\kern0pt}matching{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd{\isacharunderscore}{\kern0pt}loop{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharparenright}{\kern0pt}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}correct{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharprime}{\kern0pt}\ G\ L\ R\ s\ t{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}maximum{\isacharunderscore}{\kern0pt}matching\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}E\ G{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd\ {\isacharparenleft}{\kern0pt}edmonds{\isacharunderscore}{\kern0pt}karp\ G\ L\ R\ s\ t{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isachardot}{\kern0pt}edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}correct{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadelimtheory
\isanewline
%
\endisadelimtheory
%
\isatagtheory
\isacommand{end}\isamarkupfalse%
%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\end{isabellebody}%
\endinput
%:%file=~/Documents/1_projects/2022_idp/thys/Hopcroft_Karp/Edmonds_Karp.thy%:%
%:%11=1%:%
%:%23=4%:%
%:%24=5%:%
%:%25=6%:%
%:%26=7%:%
%:%27=8%:%
%:%28=9%:%
%:%29=10%:%
%:%30=11%:%
%:%31=12%:%
%:%32=13%:%
%:%33=14%:%
%:%34=15%:%
%:%42=18%:%
%:%43=18%:%
%:%44=19%:%
%:%45=20%:%
%:%46=21%:%
%:%47=22%:%
%:%48=23%:%
%:%62=25%:%
%:%72=27%:%
%:%73=27%:%
%:%74=28%:%
%:%75=29%:%
%:%76=30%:%
%:%77=31%:%
%:%78=32%:%
%:%79=33%:%
%:%80=34%:%
%:%81=35%:%
%:%82=36%:%
%:%83=37%:%
%:%84=38%:%
%:%85=39%:%
%:%86=40%:%
%:%87=41%:%
%:%88=42%:%
%:%89=43%:%
%:%90=44%:%
%:%91=45%:%
%:%92=46%:%
%:%93=47%:%
%:%94=48%:%
%:%95=48%:%
%:%96=49%:%
%:%97=50%:%
%:%98=51%:%
%:%99=51%:%
%:%100=52%:%
%:%102=55%:%
%:%103=56%:%
%:%104=57%:%
%:%105=58%:%
%:%106=59%:%
%:%107=60%:%
%:%108=61%:%
%:%109=62%:%
%:%110=63%:%
%:%111=64%:%
%:%112=65%:%
%:%113=66%:%
%:%114=67%:%
%:%115=68%:%
%:%116=69%:%
%:%117=70%:%
%:%118=71%:%
%:%119=72%:%
%:%120=73%:%
%:%121=74%:%
%:%122=75%:%
%:%123=76%:%
%:%124=77%:%
%:%125=78%:%
%:%126=79%:%
%:%127=80%:%
%:%128=81%:%
%:%129=82%:%
%:%130=83%:%
%:%131=84%:%
%:%132=85%:%
%:%133=86%:%
%:%134=87%:%
%:%135=88%:%
%:%136=89%:%
%:%138=92%:%
%:%139=92%:%
%:%140=93%:%
%:%142=95%:%
%:%144=97%:%
%:%145=97%:%
%:%146=98%:%
%:%148=101%:%
%:%149=102%:%
%:%151=105%:%
%:%152=105%:%
%:%153=106%:%
%:%155=109%:%
%:%156=110%:%
%:%158=113%:%
%:%159=113%:%
%:%160=114%:%
%:%161=115%:%
%:%162=116%:%
%:%163=116%:%
%:%164=117%:%
%:%166=120%:%
%:%167=121%:%
%:%171=122%:%
%:%173=123%:%
%:%176=126%:%
%:%177=126%:%
%:%178=127%:%
%:%179=128%:%
%:%180=129%:%
%:%181=129%:%
%:%182=130%:%
%:%183=131%:%
%:%184=135%:%
%:%185=136%:%
%:%186=136%:%
%:%187=137%:%
%:%188=138%:%
%:%189=139%:%
%:%190=140%:%
%:%191=141%:%
%:%192=141%:%
%:%193=142%:%
%:%196=145%:%
%:%199=146%:%
%:%203=146%:%
%:%204=146%:%
%:%209=146%:%
%:%212=147%:%
%:%213=152%:%
%:%214=153%:%
%:%215=153%:%
%:%216=154%:%
%:%217=155%:%
%:%218=156%:%
%:%219=157%:%
%:%220=157%:%
%:%221=158%:%
%:%222=159%:%
%:%223=160%:%
%:%224=161%:%
%:%225=161%:%
%:%226=162%:%
%:%227=163%:%
%:%228=164%:%
%:%229=165%:%
%:%230=165%:%
%:%231=166%:%
%:%232=167%:%
%:%233=168%:%
%:%234=169%:%
%:%235=169%:%
%:%236=170%:%
%:%237=171%:%
%:%238=172%:%
%:%239=172%:%
%:%240=173%:%
%:%241=174%:%
%:%242=175%:%
%:%250=177%:%
%:%254=179%:%
%:%266=182%:%
%:%267=183%:%
%:%271=184%:%
%:%273=185%:%
%:%277=188%:%
%:%279=191%:%
%:%280=191%:%
%:%281=192%:%
%:%282=193%:%
%:%283=194%:%
%:%284=195%:%
%:%285=196%:%
%:%286=197%:%
%:%287=198%:%
%:%288=199%:%
%:%289=200%:%
%:%290=201%:%
%:%291=202%:%
%:%292=203%:%
%:%293=204%:%
%:%294=205%:%
%:%297=206%:%
%:%302=207%:%
%:%303=207%:%
%:%304=208%:%
%:%312=216%:%
%:%313=217%:%
%:%314=218%:%
%:%315=218%:%
%:%316=219%:%
%:%321=219%:%
%:%326=220%:%
%:%330=220%:%
%:%331=220%:%
%:%332=221%:%
%:%333=221%:%
%:%338=221%:%
%:%343=222%:%
%:%348=223%:%
%:%349=223%:%
%:%350=224%:%
%:%355=224%:%
%:%360=225%:%
%:%364=225%:%
%:%365=225%:%
%:%366=226%:%
%:%367=226%:%
%:%372=226%:%
%:%377=227%:%
%:%382=228%:%
%:%383=228%:%
%:%384=229%:%
%:%389=229%:%
%:%394=230%:%
%:%398=230%:%
%:%399=230%:%
%:%400=231%:%
%:%401=231%:%
%:%406=231%:%
%:%411=232%:%
%:%416=233%:%
%:%417=233%:%
%:%418=234%:%
%:%423=234%:%
%:%428=235%:%
%:%432=235%:%
%:%433=235%:%
%:%434=236%:%
%:%435=236%:%
%:%440=236%:%
%:%445=237%:%
%:%450=238%:%
%:%451=238%:%
%:%452=239%:%
%:%457=239%:%
%:%462=240%:%
%:%466=240%:%
%:%467=240%:%
%:%468=241%:%
%:%469=241%:%
%:%470=242%:%
%:%471=242%:%
%:%476=242%:%
%:%481=243%:%
%:%486=244%:%
%:%487=244%:%
%:%488=245%:%
%:%493=245%:%
%:%498=246%:%
%:%502=246%:%
%:%503=246%:%
%:%504=247%:%
%:%505=247%:%
%:%510=247%:%
%:%515=248%:%
%:%520=249%:%
%:%521=249%:%
%:%522=250%:%
%:%527=250%:%
%:%532=251%:%
%:%536=251%:%
%:%537=251%:%
%:%538=252%:%
%:%539=252%:%
%:%540=253%:%
%:%541=253%:%
%:%546=253%:%
%:%551=254%:%
%:%556=255%:%
%:%557=255%:%
%:%558=256%:%
%:%563=256%:%
%:%568=257%:%
%:%572=257%:%
%:%573=257%:%
%:%574=258%:%
%:%575=258%:%
%:%576=259%:%
%:%577=259%:%
%:%582=259%:%
%:%587=260%:%
%:%592=261%:%
%:%593=261%:%
%:%594=262%:%
%:%599=262%:%
%:%604=263%:%
%:%608=263%:%
%:%609=263%:%
%:%610=264%:%
%:%611=264%:%
%:%616=264%:%
%:%621=265%:%
%:%626=266%:%
%:%627=266%:%
%:%628=267%:%
%:%633=267%:%
%:%638=268%:%
%:%642=268%:%
%:%643=268%:%
%:%644=269%:%
%:%645=269%:%
%:%650=269%:%
%:%655=270%:%
%:%660=271%:%
%:%661=271%:%
%:%662=272%:%
%:%667=272%:%
%:%672=273%:%
%:%676=273%:%
%:%677=273%:%
%:%678=274%:%
%:%679=274%:%
%:%684=274%:%
%:%689=275%:%
%:%694=276%:%
%:%695=276%:%
%:%696=277%:%
%:%701=277%:%
%:%706=278%:%
%:%710=278%:%
%:%711=278%:%
%:%712=279%:%
%:%713=279%:%
%:%718=279%:%
%:%723=280%:%
%:%728=281%:%
%:%729=281%:%
%:%730=282%:%
%:%735=282%:%
%:%744=283%:%
%:%745=283%:%
%:%746=284%:%
%:%747=284%:%
%:%748=285%:%
%:%749=285%:%
%:%750=286%:%
%:%751=286%:%
%:%752=287%:%
%:%753=287%:%
%:%754=288%:%
%:%755=288%:%
%:%756=289%:%
%:%757=289%:%
%:%758=290%:%
%:%768=293%:%
%:%769=294%:%
%:%770=295%:%
%:%771=296%:%
%:%780=299%:%
%:%792=302%:%
%:%793=303%:%
%:%794=304%:%
%:%795=305%:%
%:%799=306%:%
%:%801=307%:%
%:%805=310%:%
%:%806=311%:%
%:%807=312%:%
%:%809=315%:%
%:%810=315%:%
%:%811=316%:%
%:%812=317%:%
%:%813=318%:%
%:%814=319%:%
%:%815=320%:%
%:%816=321%:%
%:%817=322%:%
%:%818=323%:%
%:%819=324%:%
%:%820=325%:%
%:%823=326%:%
%:%828=327%:%
%:%829=327%:%
%:%830=328%:%
%:%838=336%:%
%:%839=337%:%
%:%840=338%:%
%:%841=338%:%
%:%842=339%:%
%:%843=340%:%
%:%844=341%:%
%:%845=341%:%
%:%846=342%:%
%:%847=343%:%
%:%848=343%:%
%:%853=343%:%
%:%862=344%:%
%:%863=344%:%
%:%864=345%:%
%:%865=345%:%
%:%866=346%:%
%:%867=346%:%
%:%868=346%:%
%:%869=347%:%
%:%870=347%:%
%:%871=348%:%
%:%877=348%:%
%:%886=349%:%
%:%892=349%:%
%:%895=350%:%
%:%896=351%:%
%:%897=351%:%
%:%898=352%:%
%:%905=353%:%
%:%906=353%:%
%:%907=354%:%
%:%908=354%:%
%:%909=354%:%
%:%910=355%:%
%:%911=355%:%
%:%912=356%:%
%:%913=356%:%
%:%914=357%:%
%:%915=357%:%
%:%916=358%:%
%:%917=358%:%
%:%918=359%:%
%:%919=359%:%
%:%920=360%:%
%:%921=360%:%
%:%922=360%:%
%:%923=361%:%
%:%924=361%:%
%:%925=362%:%
%:%926=362%:%
%:%927=363%:%
%:%928=363%:%
%:%929=364%:%
%:%939=367%:%
%:%940=368%:%
%:%942=371%:%
%:%943=371%:%
%:%944=372%:%
%:%951=373%:%
%:%952=373%:%
%:%953=374%:%
%:%954=374%:%
%:%955=374%:%
%:%956=375%:%
%:%957=375%:%
%:%958=376%:%
%:%959=377%:%
%:%960=378%:%
%:%961=379%:%
%:%962=380%:%
%:%963=380%:%
%:%964=381%:%
%:%965=382%:%
%:%966=383%:%
%:%967=383%:%
%:%968=384%:%
%:%969=384%:%
%:%970=385%:%
%:%971=385%:%
%:%972=385%:%
%:%973=386%:%
%:%974=386%:%
%:%975=387%:%
%:%976=387%:%
%:%977=388%:%
%:%978=388%:%
%:%979=388%:%
%:%980=389%:%
%:%981=389%:%
%:%982=390%:%
%:%983=390%:%
%:%984=391%:%
%:%985=391%:%
%:%986=391%:%
%:%987=392%:%
%:%988=392%:%
%:%989=392%:%
%:%990=393%:%
%:%991=393%:%
%:%992=394%:%
%:%993=394%:%
%:%994=395%:%
%:%995=395%:%
%:%996=396%:%
%:%997=396%:%
%:%998=397%:%
%:%1004=397%:%
%:%1007=398%:%
%:%1008=399%:%
%:%1009=399%:%
%:%1010=400%:%
%:%1013=401%:%
%:%1017=401%:%
%:%1018=401%:%
%:%1019=402%:%
%:%1020=402%:%
%:%1025=402%:%
%:%1030=403%:%
%:%1035=404%:%
%:%1036=404%:%
%:%1037=405%:%
%:%1042=405%:%
%:%1047=406%:%
%:%1051=406%:%
%:%1052=406%:%
%:%1053=407%:%
%:%1054=407%:%
%:%1063=410%:%
%:%1067=411%:%
%:%1069=412%:%
%:%1073=415%:%
%:%1074=416%:%
%:%1076=419%:%
%:%1077=419%:%
%:%1078=420%:%
%:%1085=421%:%
%:%1086=421%:%
%:%1087=422%:%
%:%1088=422%:%
%:%1089=423%:%
%:%1090=423%:%
%:%1091=424%:%
%:%1092=424%:%
%:%1093=425%:%
%:%1094=425%:%
%:%1095=426%:%
%:%1096=426%:%
%:%1097=427%:%
%:%1098=427%:%
%:%1099=428%:%
%:%1100=428%:%
%:%1101=429%:%
%:%1102=429%:%
%:%1103=430%:%
%:%1104=430%:%
%:%1105=431%:%
%:%1106=431%:%
%:%1107=432%:%
%:%1108=432%:%
%:%1109=433%:%
%:%1110=433%:%
%:%1111=434%:%
%:%1121=437%:%
%:%1122=438%:%
%:%1123=439%:%
%:%1127=440%:%
%:%1129=441%:%
%:%1133=444%:%
%:%1135=447%:%
%:%1136=447%:%
%:%1137=448%:%
%:%1138=449%:%
%:%1139=450%:%
%:%1140=451%:%
%:%1141=452%:%
%:%1142=453%:%
%:%1143=454%:%
%:%1146=455%:%
%:%1151=456%:%
%:%1152=456%:%
%:%1153=457%:%
%:%1161=465%:%
%:%1162=466%:%
%:%1163=467%:%
%:%1164=467%:%
%:%1165=468%:%
%:%1166=469%:%
%:%1167=470%:%
%:%1168=470%:%
%:%1169=471%:%
%:%1170=472%:%
%:%1171=473%:%
%:%1176=473%:%
%:%1181=474%:%
%:%1185=474%:%
%:%1186=474%:%
%:%1187=475%:%
%:%1188=475%:%
%:%1193=475%:%
%:%1196=476%:%
%:%1197=477%:%
%:%1198=477%:%
%:%1199=478%:%
%:%1200=479%:%
%:%1201=480%:%
%:%1202=481%:%
%:%1203=482%:%
%:%1204=483%:%
%:%1205=484%:%
%:%1208=485%:%
%:%1213=486%:%
%:%1214=486%:%
%:%1215=487%:%
%:%1223=495%:%
%:%1224=496%:%
%:%1225=497%:%
%:%1226=497%:%
%:%1227=498%:%
%:%1228=499%:%
%:%1229=500%:%
%:%1230=500%:%
%:%1231=501%:%
%:%1232=502%:%
%:%1233=503%:%
%:%1238=503%:%
%:%1243=504%:%
%:%1247=504%:%
%:%1248=504%:%
%:%1249=505%:%
%:%1250=505%:%
%:%1255=505%:%
%:%1260=506%:%
%:%1265=507%:%
%:%1266=507%:%
%:%1267=508%:%
%:%1268=509%:%
%:%1269=510%:%
%:%1270=511%:%
%:%1275=511%:%
%:%1280=512%:%
%:%1284=512%:%
%:%1285=512%:%
%:%1286=513%:%
%:%1287=513%:%
%:%1288=514%:%
%:%1289=515%:%
%:%1290=516%:%
%:%1295=516%:%
%:%1300=517%:%
%:%1305=518%:%
%:%1306=518%:%
%:%1307=519%:%
%:%1308=520%:%
%:%1309=521%:%
%:%1314=521%:%
%:%1319=522%:%
%:%1323=522%:%
%:%1324=522%:%
%:%1325=523%:%
%:%1326=523%:%
%:%1331=523%:%
%:%1336=524%:%
%:%1341=525%:%
%:%1342=525%:%
%:%1343=526%:%
%:%1348=526%:%
%:%1353=527%:%
%:%1357=527%:%
%:%1358=527%:%
%:%1363=527%:%
%:%1368=528%:%
%:%1373=529%:%
%:%1374=529%:%
%:%1375=530%:%
%:%1380=530%:%
%:%1385=531%:%
%:%1389=531%:%
%:%1390=531%:%
%:%1391=532%:%
%:%1392=532%:%
%:%1397=532%:%
%:%1402=533%:%
%:%1407=534%:%
%:%1408=534%:%
%:%1409=535%:%
%:%1410=536%:%
%:%1415=536%:%
%:%1424=537%:%
%:%1425=537%:%
%:%1426=538%:%
%:%1427=538%:%
%:%1428=538%:%
%:%1429=539%:%
%:%1430=539%:%
%:%1431=540%:%
%:%1432=541%:%
%:%1433=542%:%
%:%1434=542%:%
%:%1435=543%:%
%:%1436=543%:%
%:%1437=544%:%
%:%1438=544%:%
%:%1439=544%:%
%:%1440=545%:%
%:%1441=545%:%
%:%1442=546%:%
%:%1443=546%:%
%:%1444=546%:%
%:%1445=547%:%
%:%1446=547%:%
%:%1447=548%:%
%:%1448=548%:%
%:%1449=548%:%
%:%1450=549%:%
%:%1451=549%:%
%:%1452=550%:%
%:%1453=550%:%
%:%1454=550%:%
%:%1455=551%:%
%:%1456=551%:%
%:%1457=552%:%
%:%1458=552%:%
%:%1459=553%:%
%:%1460=553%:%
%:%1461=553%:%
%:%1462=554%:%
%:%1463=554%:%
%:%1464=554%:%
%:%1465=555%:%
%:%1466=555%:%
%:%1467=556%:%
%:%1468=556%:%
%:%1469=557%:%
%:%1479=560%:%
%:%1480=561%:%
%:%1481=562%:%
%:%1482=563%:%
%:%1483=564%:%
%:%1484=565%:%
%:%1485=566%:%
%:%1486=567%:%
%:%1488=570%:%
%:%1489=570%:%
%:%1490=571%:%
%:%1491=572%:%
%:%1498=573%:%
%:%1499=573%:%
%:%1500=574%:%
%:%1501=574%:%
%:%1502=574%:%
%:%1503=575%:%
%:%1504=575%:%
%:%1505=576%:%
%:%1506=577%:%
%:%1507=578%:%
%:%1508=578%:%
%:%1509=579%:%
%:%1510=579%:%
%:%1511=579%:%
%:%1512=580%:%
%:%1513=580%:%
%:%1514=581%:%
%:%1515=581%:%
%:%1516=582%:%
%:%1517=582%:%
%:%1518=582%:%
%:%1519=583%:%
%:%1520=583%:%
%:%1521=584%:%
%:%1522=584%:%
%:%1523=584%:%
%:%1524=585%:%
%:%1525=585%:%
%:%1526=585%:%
%:%1527=586%:%
%:%1528=586%:%
%:%1529=587%:%
%:%1530=587%:%
%:%1531=588%:%
%:%1537=588%:%
%:%1542=589%:%
%:%1547=590%:%
%:%1548=590%:%
%:%1549=591%:%
%:%1550=592%:%
%:%1551=593%:%
%:%1556=593%:%
%:%1565=594%:%
%:%1566=594%:%
%:%1567=595%:%
%:%1568=595%:%
%:%1569=596%:%
%:%1570=596%:%
%:%1571=597%:%
%:%1572=597%:%
%:%1573=598%:%
%:%1574=598%:%
%:%1575=599%:%
%:%1576=599%:%
%:%1577=600%:%
%:%1578=600%:%
%:%1579=601%:%
%:%1580=601%:%
%:%1581=602%:%
%:%1582=602%:%
%:%1583=603%:%
%:%1584=603%:%
%:%1585=604%:%
%:%1591=604%:%
%:%1596=605%:%
%:%1601=606%:%
%:%1602=606%:%
%:%1603=607%:%
%:%1608=607%:%
%:%1613=608%:%
%:%1617=608%:%
%:%1618=608%:%
%:%1619=609%:%
%:%1620=609%:%
%:%1625=609%:%
%:%1630=610%:%
%:%1635=611%:%
%:%1636=611%:%
%:%1637=612%:%
%:%1638=613%:%
%:%1645=615%:%
%:%1650=616%:%
%:%1654=616%:%
%:%1655=616%:%
%:%1656=617%:%
%:%1657=617%:%
%:%1662=617%:%
%:%1665=618%:%
%:%1666=619%:%
%:%1667=619%:%
%:%1668=620%:%
%:%1671=621%:%
%:%1675=621%:%
%:%1676=621%:%
%:%1677=622%:%
%:%1678=622%:%
%:%1683=622%:%
%:%1688=623%:%
%:%1693=624%:%
%:%1694=624%:%
%:%1695=625%:%
%:%1696=626%:%
%:%1697=627%:%
%:%1702=627%:%
%:%1711=628%:%
%:%1712=628%:%
%:%1713=629%:%
%:%1714=629%:%
%:%1715=630%:%
%:%1716=630%:%
%:%1717=631%:%
%:%1718=631%:%
%:%1719=632%:%
%:%1720=632%:%
%:%1721=633%:%
%:%1722=633%:%
%:%1723=634%:%
%:%1724=634%:%
%:%1725=635%:%
%:%1726=635%:%
%:%1727=636%:%
%:%1730=639%:%
%:%1731=640%:%
%:%1732=640%:%
%:%1733=641%:%
%:%1734=641%:%
%:%1735=641%:%
%:%1736=642%:%
%:%1739=645%:%
%:%1740=646%:%
%:%1741=646%:%
%:%1742=647%:%
%:%1743=647%:%
%:%1744=648%:%
%:%1745=648%:%
%:%1746=648%:%
%:%1747=649%:%
%:%1748=649%:%
%:%1749=650%:%
%:%1750=650%:%
%:%1751=650%:%
%:%1752=651%:%
%:%1753=651%:%
%:%1754=652%:%
%:%1760=652%:%
%:%1765=653%:%
%:%1770=654%:%
%:%1771=654%:%
%:%1772=655%:%
%:%1777=655%:%
%:%1782=656%:%
%:%1786=656%:%
%:%1787=656%:%
%:%1788=657%:%
%:%1789=657%:%
%:%1794=657%:%
%:%1799=658%:%
%:%1804=659%:%
%:%1805=659%:%
%:%1806=660%:%
%:%1807=661%:%
%:%1814=663%:%
%:%1819=664%:%
%:%1823=664%:%
%:%1824=664%:%
%:%1825=665%:%
%:%1826=665%:%
%:%1831=665%:%
%:%1836=666%:%
%:%1841=667%:%
%:%1842=667%:%
%:%1843=668%:%
%:%1844=669%:%
%:%1852=672%:%
%:%1857=673%:%
%:%1861=673%:%
%:%1862=673%:%
%:%1867=673%:%
%:%1870=674%:%
%:%1871=675%:%
%:%1872=675%:%
%:%1873=676%:%
%:%1876=677%:%
%:%1880=677%:%
%:%1881=677%:%
%:%1882=678%:%
%:%1883=678%:%
%:%1888=678%:%
%:%1893=679%:%
%:%1898=680%:%
%:%1899=680%:%
%:%1900=681%:%
%:%1901=682%:%
%:%1909=685%:%
%:%1914=686%:%
%:%1918=686%:%
%:%1919=686%:%
%:%1924=686%:%
%:%1929=687%:%
%:%1934=688%:%
%:%1935=688%:%
%:%1936=689%:%
%:%1937=690%:%
%:%1938=691%:%
%:%1946=694%:%
%:%1951=695%:%
%:%1955=695%:%
%:%1956=695%:%
%:%1957=696%:%
%:%1958=696%:%
%:%1963=696%:%
%:%1968=697%:%
%:%1973=698%:%
%:%1974=698%:%
%:%1975=699%:%
%:%1976=700%:%
%:%1977=701%:%
%:%1982=701%:%
%:%1991=702%:%
%:%1992=702%:%
%:%1993=703%:%
%:%1994=703%:%
%:%1995=704%:%
%:%1996=704%:%
%:%1997=705%:%
%:%1998=705%:%
%:%1999=706%:%
%:%2000=706%:%
%:%2001=707%:%
%:%2002=707%:%
%:%2003=708%:%
%:%2004=708%:%
%:%2005=709%:%
%:%2006=709%:%
%:%2007=710%:%
%:%2010=713%:%
%:%2011=714%:%
%:%2012=714%:%
%:%2013=715%:%
%:%2014=715%:%
%:%2015=715%:%
%:%2016=716%:%
%:%2019=719%:%
%:%2020=720%:%
%:%2021=720%:%
%:%2022=721%:%
%:%2023=721%:%
%:%2024=722%:%
%:%2025=722%:%
%:%2026=722%:%
%:%2027=723%:%
%:%2028=723%:%
%:%2029=724%:%
%:%2030=724%:%
%:%2031=724%:%
%:%2032=725%:%
%:%2033=725%:%
%:%2034=726%:%
%:%2040=726%:%
%:%2045=727%:%
%:%2050=728%:%
%:%2051=728%:%
%:%2052=729%:%
%:%2057=729%:%
%:%2062=730%:%
%:%2066=730%:%
%:%2067=730%:%
%:%2068=731%:%
%:%2069=731%:%
%:%2070=732%:%
%:%2076=732%:%
%:%2081=733%:%
%:%2086=734%:%
%:%2087=734%:%
%:%2088=735%:%
%:%2089=736%:%
%:%2090=737%:%
%:%2098=740%:%
%:%2103=741%:%
%:%2107=741%:%
%:%2108=741%:%
%:%2109=742%:%
%:%2110=742%:%
%:%2115=742%:%
%:%2120=743%:%
%:%2125=744%:%
%:%2126=744%:%
%:%2127=745%:%
%:%2128=746%:%
%:%2129=747%:%
%:%2130=748%:%
%:%2131=749%:%
%:%2136=749%:%
%:%2141=750%:%
%:%2145=750%:%
%:%2146=750%:%
%:%2147=751%:%
%:%2148=751%:%
%:%2153=751%:%
%:%2158=752%:%
%:%2163=753%:%
%:%2164=753%:%
%:%2165=754%:%
%:%2166=755%:%
%:%2167=756%:%
%:%2168=757%:%
%:%2169=758%:%
%:%2174=758%:%
%:%2179=759%:%
%:%2183=759%:%
%:%2184=759%:%
%:%2185=760%:%
%:%2186=760%:%
%:%2191=760%:%
%:%2194=761%:%
%:%2195=762%:%
%:%2196=762%:%
%:%2197=763%:%
%:%2198=764%:%
%:%2199=765%:%
%:%2202=768%:%
%:%2205=769%:%
%:%2209=769%:%
%:%2210=769%:%
%:%2211=770%:%
%:%2212=770%:%
%:%2213=771%:%
%:%2214=771%:%
%:%2219=771%:%
%:%2224=772%:%
%:%2229=773%:%
%:%2230=773%:%
%:%2231=774%:%
%:%2232=775%:%
%:%2233=776%:%
%:%2238=776%:%
%:%2243=777%:%
%:%2247=777%:%
%:%2248=777%:%
%:%2249=778%:%
%:%2250=778%:%
%:%2251=779%:%
%:%2252=779%:%
%:%2257=779%:%
%:%2262=780%:%
%:%2267=781%:%
%:%2268=781%:%
%:%2269=782%:%
%:%2270=783%:%
%:%2271=784%:%
%:%2276=784%:%
%:%2281=785%:%
%:%2285=785%:%
%:%2286=785%:%
%:%2287=786%:%
%:%2288=786%:%
%:%2289=787%:%
%:%2290=787%:%
%:%2295=787%:%
%:%2300=788%:%
%:%2305=789%:%
%:%2306=789%:%
%:%2307=790%:%
%:%2308=791%:%
%:%2309=792%:%
%:%2310=793%:%
%:%2316=794%:%
%:%2321=795%:%
%:%2325=795%:%
%:%2326=795%:%
%:%2327=796%:%
%:%2328=796%:%
%:%2329=797%:%
%:%2330=797%:%
%:%2339=800%:%
%:%2341=803%:%
%:%2342=803%:%
%:%2343=804%:%
%:%2344=805%:%
%:%2345=806%:%
%:%2348=807%:%
%:%2352=807%:%
%:%2353=807%:%
%:%2354=808%:%
%:%2355=808%:%
%:%2356=809%:%
%:%2357=809%:%
%:%2362=809%:%
%:%2367=810%:%
%:%2372=811%:%
%:%2373=811%:%
%:%2374=812%:%
%:%2375=813%:%
%:%2376=814%:%
%:%2381=814%:%
%:%2386=815%:%
%:%2390=815%:%
%:%2391=815%:%
%:%2392=816%:%
%:%2393=816%:%
%:%2394=817%:%
%:%2395=817%:%
%:%2400=817%:%
%:%2405=818%:%
%:%2410=819%:%
%:%2411=819%:%
%:%2412=820%:%
%:%2413=821%:%
%:%2414=822%:%
%:%2415=823%:%
%:%2416=824%:%
%:%2417=825%:%
%:%2425=828%:%
%:%2434=829%:%
%:%2435=829%:%
%:%2436=830%:%
%:%2437=830%:%
%:%2438=831%:%
%:%2439=832%:%
%:%2440=833%:%
%:%2441=833%:%
%:%2442=834%:%
%:%2443=834%:%
%:%2444=835%:%
%:%2445=835%:%
%:%2446=835%:%
%:%2447=836%:%
%:%2448=836%:%
%:%2449=837%:%
%:%2450=837%:%
%:%2451=838%:%
%:%2452=838%:%
%:%2453=838%:%
%:%2454=839%:%
%:%2458=843%:%
%:%2459=844%:%
%:%2460=844%:%
%:%2461=845%:%
%:%2462=845%:%
%:%2463=846%:%
%:%2464=846%:%
%:%2465=846%:%
%:%2466=847%:%
%:%2469=850%:%
%:%2470=851%:%
%:%2471=851%:%
%:%2472=852%:%
%:%2473=852%:%
%:%2474=853%:%
%:%2475=853%:%
%:%2476=853%:%
%:%2477=854%:%
%:%2478=854%:%
%:%2479=855%:%
%:%2485=855%:%
%:%2490=856%:%
%:%2495=857%:%
%:%2496=857%:%
%:%2497=858%:%
%:%2498=859%:%
%:%2499=860%:%
%:%2500=861%:%
%:%2501=862%:%
%:%2502=863%:%
%:%2508=864%:%
%:%2517=865%:%
%:%2518=865%:%
%:%2519=866%:%
%:%2520=866%:%
%:%2521=867%:%
%:%2522=867%:%
%:%2523=868%:%
%:%2524=868%:%
%:%2525=869%:%
%:%2526=869%:%
%:%2527=870%:%
%:%2528=870%:%
%:%2529=871%:%
%:%2530=871%:%
%:%2531=871%:%
%:%2532=872%:%
%:%2533=872%:%
%:%2534=873%:%
%:%2535=873%:%
%:%2536=874%:%
%:%2537=874%:%
%:%2538=874%:%
%:%2539=875%:%
%:%2543=879%:%
%:%2544=880%:%
%:%2545=880%:%
%:%2546=881%:%
%:%2547=881%:%
%:%2548=882%:%
%:%2549=882%:%
%:%2550=882%:%
%:%2551=883%:%
%:%2554=886%:%
%:%2555=887%:%
%:%2556=887%:%
%:%2557=888%:%
%:%2558=888%:%
%:%2559=889%:%
%:%2560=889%:%
%:%2561=889%:%
%:%2562=890%:%
%:%2563=890%:%
%:%2564=891%:%
%:%2574=894%:%
%:%2575=895%:%
%:%2576=896%:%
%:%2577=897%:%
%:%2578=898%:%
%:%2579=899%:%
%:%2581=902%:%
%:%2582=902%:%
%:%2583=903%:%
%:%2584=904%:%
%:%2585=905%:%
%:%2588=906%:%
%:%2592=906%:%
%:%2593=906%:%
%:%2594=907%:%
%:%2595=907%:%
%:%2600=907%:%
%:%2603=908%:%
%:%2604=909%:%
%:%2605=909%:%
%:%2606=910%:%
%:%2613=911%:%
%:%2614=911%:%
%:%2615=912%:%
%:%2616=912%:%
%:%2617=913%:%
%:%2618=913%:%
%:%2619=914%:%
%:%2620=914%:%
%:%2621=915%:%
%:%2622=916%:%
%:%2623=917%:%
%:%2624=917%:%
%:%2625=918%:%
%:%2626=918%:%
%:%2627=919%:%
%:%2628=920%:%
%:%2629=921%:%
%:%2630=921%:%
%:%2631=922%:%
%:%2632=922%:%
%:%2633=923%:%
%:%2634=923%:%
%:%2635=923%:%
%:%2636=924%:%
%:%2637=924%:%
%:%2638=925%:%
%:%2639=925%:%
%:%2640=926%:%
%:%2641=926%:%
%:%2642=927%:%
%:%2643=927%:%
%:%2644=928%:%
%:%2645=928%:%
%:%2646=929%:%
%:%2647=929%:%
%:%2648=930%:%
%:%2649=930%:%
%:%2650=931%:%
%:%2651=931%:%
%:%2652=932%:%
%:%2653=932%:%
%:%2654=932%:%
%:%2655=933%:%
%:%2656=933%:%
%:%2657=934%:%
%:%2658=934%:%
%:%2659=935%:%
%:%2660=935%:%
%:%2661=936%:%
%:%2662=936%:%
%:%2663=937%:%
%:%2664=937%:%
%:%2665=938%:%
%:%2666=938%:%
%:%2667=939%:%
%:%2668=939%:%
%:%2669=940%:%
%:%2670=940%:%
%:%2671=941%:%
%:%2672=941%:%
%:%2673=941%:%
%:%2674=942%:%
%:%2675=942%:%
%:%2676=943%:%
%:%2677=943%:%
%:%2678=944%:%
%:%2679=944%:%
%:%2680=944%:%
%:%2681=945%:%
%:%2682=945%:%
%:%2683=946%:%
%:%2684=946%:%
%:%2685=947%:%
%:%2686=947%:%
%:%2687=947%:%
%:%2688=948%:%
%:%2689=948%:%
%:%2690=949%:%
%:%2691=949%:%
%:%2692=950%:%
%:%2693=950%:%
%:%2694=950%:%
%:%2695=951%:%
%:%2696=951%:%
%:%2697=952%:%
%:%2703=952%:%
%:%2708=953%:%
%:%2713=954%:%
%:%2714=954%:%
%:%2715=955%:%
%:%2716=956%:%
%:%2717=957%:%
%:%2718=958%:%
%:%2723=958%:%
%:%2728=959%:%
%:%2732=959%:%
%:%2733=959%:%
%:%2734=960%:%
%:%2735=960%:%
%:%2744=963%:%
%:%2745=964%:%
%:%2747=967%:%
%:%2748=967%:%
%:%2749=968%:%
%:%2756=969%:%
%:%2757=969%:%
%:%2758=970%:%
%:%2759=970%:%
%:%2760=971%:%
%:%2761=971%:%
%:%2762=972%:%
%:%2763=972%:%
%:%2764=973%:%
%:%2765=973%:%
%:%2766=974%:%
%:%2767=974%:%
%:%2768=975%:%
%:%2769=975%:%
%:%2770=976%:%
%:%2771=976%:%
%:%2772=977%:%
%:%2773=977%:%
%:%2774=978%:%
%:%2775=978%:%
%:%2776=979%:%
%:%2777=979%:%
%:%2778=980%:%
%:%2779=980%:%
%:%2780=981%:%
%:%2781=981%:%
%:%2782=982%:%
%:%2783=982%:%
%:%2784=983%:%
%:%2785=983%:%
%:%2786=984%:%
%:%2787=984%:%
%:%2788=985%:%
%:%2789=985%:%
%:%2790=986%:%
%:%2791=986%:%
%:%2792=987%:%
%:%2793=987%:%
%:%2794=988%:%
%:%2795=988%:%
%:%2796=989%:%
%:%2797=989%:%
%:%2798=990%:%
%:%2799=990%:%
%:%2800=991%:%
%:%2801=991%:%
%:%2802=992%:%
%:%2803=992%:%
%:%2804=993%:%
%:%2805=993%:%
%:%2806=994%:%
%:%2807=994%:%
%:%2808=995%:%
%:%2809=995%:%
%:%2810=996%:%
%:%2811=996%:%
%:%2812=997%:%
%:%2815=1000%:%
%:%2816=1001%:%
%:%2817=1001%:%
%:%2818=1002%:%
%:%2819=1002%:%
%:%2820=1003%:%
%:%2821=1003%:%
%:%2822=1004%:%
%:%2823=1004%:%
%:%2824=1005%:%
%:%2825=1005%:%
%:%2826=1006%:%
%:%2827=1006%:%
%:%2828=1007%:%
%:%2829=1007%:%
%:%2830=1008%:%
%:%2831=1008%:%
%:%2832=1009%:%
%:%2833=1009%:%
%:%2834=1010%:%
%:%2835=1010%:%
%:%2836=1011%:%
%:%2837=1011%:%
%:%2838=1012%:%
%:%2839=1012%:%
%:%2840=1013%:%
%:%2841=1013%:%
%:%2842=1014%:%
%:%2843=1014%:%
%:%2844=1015%:%
%:%2845=1015%:%
%:%2846=1016%:%
%:%2847=1016%:%
%:%2848=1017%:%
%:%2849=1017%:%
%:%2850=1018%:%
%:%2851=1018%:%
%:%2852=1018%:%
%:%2853=1019%:%
%:%2854=1020%:%
%:%2855=1021%:%
%:%2856=1022%:%
%:%2857=1022%:%
%:%2858=1023%:%
%:%2859=1023%:%
%:%2860=1024%:%
%:%2861=1024%:%
%:%2862=1025%:%
%:%2863=1025%:%
%:%2864=1026%:%
%:%2865=1026%:%
%:%2866=1027%:%
%:%2867=1027%:%
%:%2868=1028%:%
%:%2869=1028%:%
%:%2870=1029%:%
%:%2871=1029%:%
%:%2872=1029%:%
%:%2873=1030%:%
%:%2874=1030%:%
%:%2875=1031%:%
%:%2876=1031%:%
%:%2877=1032%:%
%:%2878=1032%:%
%:%2879=1032%:%
%:%2880=1033%:%
%:%2881=1033%:%
%:%2882=1034%:%
%:%2883=1034%:%
%:%2884=1035%:%
%:%2885=1035%:%
%:%2886=1035%:%
%:%2887=1036%:%
%:%2888=1036%:%
%:%2889=1037%:%
%:%2890=1037%:%
%:%2891=1038%:%
%:%2892=1038%:%
%:%2893=1039%:%
%:%2894=1039%:%
%:%2895=1040%:%
%:%2896=1040%:%
%:%2897=1041%:%
%:%2898=1041%:%
%:%2899=1042%:%
%:%2900=1042%:%
%:%2901=1042%:%
%:%2902=1043%:%
%:%2903=1043%:%
%:%2904=1044%:%
%:%2905=1044%:%
%:%2906=1045%:%
%:%2907=1045%:%
%:%2908=1045%:%
%:%2909=1046%:%
%:%2910=1046%:%
%:%2911=1047%:%
%:%2912=1047%:%
%:%2913=1048%:%
%:%2914=1048%:%
%:%2915=1049%:%
%:%2916=1049%:%
%:%2917=1050%:%
%:%2918=1050%:%
%:%2919=1051%:%
%:%2920=1051%:%
%:%2921=1052%:%
%:%2922=1052%:%
%:%2923=1052%:%
%:%2924=1053%:%
%:%2925=1053%:%
%:%2926=1054%:%
%:%2927=1054%:%
%:%2928=1055%:%
%:%2929=1055%:%
%:%2930=1055%:%
%:%2931=1056%:%
%:%2932=1056%:%
%:%2933=1057%:%
%:%2934=1057%:%
%:%2935=1058%:%
%:%2936=1058%:%
%:%2937=1059%:%
%:%2938=1059%:%
%:%2939=1060%:%
%:%2940=1060%:%
%:%2941=1061%:%
%:%2942=1061%:%
%:%2943=1062%:%
%:%2944=1062%:%
%:%2945=1063%:%
%:%2946=1063%:%
%:%2947=1064%:%
%:%2948=1065%:%
%:%2949=1065%:%
%:%2950=1066%:%
%:%2951=1066%:%
%:%2952=1067%:%
%:%2953=1067%:%
%:%2954=1068%:%
%:%2955=1068%:%
%:%2956=1069%:%
%:%2957=1069%:%
%:%2958=1070%:%
%:%2959=1070%:%
%:%2960=1071%:%
%:%2966=1071%:%
%:%2971=1072%:%
%:%2976=1073%:%
%:%2977=1073%:%
%:%2978=1074%:%
%:%2983=1074%:%
%:%2992=1075%:%
%:%2993=1075%:%
%:%2994=1076%:%
%:%2995=1076%:%
%:%2996=1077%:%
%:%3000=1081%:%
%:%3001=1082%:%
%:%3002=1082%:%
%:%3003=1083%:%
%:%3004=1083%:%
%:%3005=1084%:%
%:%3006=1084%:%
%:%3007=1085%:%
%:%3008=1085%:%
%:%3009=1086%:%
%:%3010=1086%:%
%:%3011=1087%:%
%:%3017=1087%:%
%:%3022=1088%:%
%:%3027=1089%:%
%:%3028=1089%:%
%:%3029=1090%:%
%:%3030=1091%:%
%:%3035=1091%:%
%:%3044=1092%:%
%:%3045=1092%:%
%:%3046=1093%:%
%:%3047=1093%:%
%:%3048=1094%:%
%:%3052=1098%:%
%:%3053=1099%:%
%:%3054=1099%:%
%:%3055=1100%:%
%:%3056=1100%:%
%:%3057=1101%:%
%:%3058=1101%:%
%:%3059=1102%:%
%:%3060=1102%:%
%:%3061=1103%:%
%:%3062=1103%:%
%:%3063=1104%:%
%:%3064=1104%:%
%:%3065=1105%:%
%:%3075=1108%:%
%:%3076=1109%:%
%:%3077=1110%:%
%:%3079=1113%:%
%:%3080=1113%:%
%:%3081=1114%:%
%:%3082=1115%:%
%:%3083=1116%:%
%:%3087=1120%:%
%:%3090=1121%:%
%:%3094=1121%:%
%:%3095=1121%:%
%:%3096=1122%:%
%:%3097=1122%:%
%:%3098=1123%:%
%:%3099=1123%:%
%:%3104=1123%:%
%:%3109=1124%:%
%:%3114=1125%:%
%:%3115=1125%:%
%:%3116=1126%:%
%:%3121=1126%:%
%:%3130=1127%:%
%:%3131=1127%:%
%:%3132=1128%:%
%:%3133=1128%:%
%:%3134=1128%:%
%:%3135=1129%:%
%:%3136=1129%:%
%:%3137=1130%:%
%:%3138=1130%:%
%:%3139=1131%:%
%:%3140=1131%:%
%:%3141=1132%:%
%:%3142=1132%:%
%:%3143=1133%:%
%:%3144=1133%:%
%:%3145=1134%:%
%:%3146=1134%:%
%:%3147=1135%:%
%:%3148=1135%:%
%:%3149=1136%:%
%:%3150=1136%:%
%:%3151=1137%:%
%:%3152=1137%:%
%:%3153=1137%:%
%:%3154=1138%:%
%:%3155=1138%:%
%:%3156=1139%:%
%:%3157=1139%:%
%:%3158=1140%:%
%:%3164=1140%:%
%:%3169=1141%:%
%:%3174=1142%:%
%:%3175=1142%:%
%:%3176=1143%:%
%:%3177=1144%:%
%:%3183=1145%:%
%:%3192=1146%:%
%:%3193=1146%:%
%:%3194=1147%:%
%:%3195=1147%:%
%:%3196=1148%:%
%:%3197=1149%:%
%:%3198=1150%:%
%:%3199=1150%:%
%:%3200=1151%:%
%:%3201=1151%:%
%:%3202=1152%:%
%:%3203=1152%:%
%:%3204=1152%:%
%:%3205=1153%:%
%:%3206=1153%:%
%:%3207=1154%:%
%:%3208=1154%:%
%:%3209=1155%:%
%:%3210=1155%:%
%:%3211=1155%:%
%:%3212=1156%:%
%:%3213=1156%:%
%:%3214=1157%:%
%:%3215=1157%:%
%:%3216=1157%:%
%:%3217=1158%:%
%:%3218=1158%:%
%:%3219=1159%:%
%:%3220=1159%:%
%:%3221=1160%:%
%:%3222=1160%:%
%:%3223=1161%:%
%:%3224=1161%:%
%:%3225=1162%:%
%:%3226=1162%:%
%:%3227=1163%:%
%:%3228=1163%:%
%:%3229=1164%:%
%:%3230=1164%:%
%:%3231=1165%:%
%:%3232=1165%:%
%:%3233=1166%:%
%:%3234=1166%:%
%:%3235=1167%:%
%:%3236=1167%:%
%:%3237=1167%:%
%:%3238=1168%:%
%:%3239=1168%:%
%:%3240=1169%:%
%:%3241=1169%:%
%:%3242=1170%:%
%:%3243=1170%:%
%:%3244=1171%:%
%:%3245=1171%:%
%:%3246=1171%:%
%:%3247=1172%:%
%:%3248=1172%:%
%:%3249=1173%:%
%:%3250=1173%:%
%:%3251=1174%:%
%:%3252=1174%:%
%:%3253=1174%:%
%:%3254=1175%:%
%:%3255=1175%:%
%:%3256=1176%:%
%:%3262=1176%:%
%:%3267=1177%:%
%:%3272=1178%:%
%:%3273=1178%:%
%:%3274=1179%:%
%:%3279=1179%:%
%:%3288=1180%:%
%:%3289=1180%:%
%:%3290=1181%:%
%:%3291=1181%:%
%:%3292=1181%:%
%:%3293=1182%:%
%:%3294=1182%:%
%:%3295=1183%:%
%:%3296=1183%:%
%:%3297=1184%:%
%:%3298=1184%:%
%:%3299=1185%:%
%:%3300=1185%:%
%:%3301=1186%:%
%:%3302=1186%:%
%:%3303=1187%:%
%:%3304=1187%:%
%:%3305=1188%:%
%:%3306=1188%:%
%:%3307=1189%:%
%:%3308=1189%:%
%:%3309=1190%:%
%:%3310=1190%:%
%:%3311=1190%:%
%:%3312=1191%:%
%:%3313=1191%:%
%:%3314=1192%:%
%:%3315=1192%:%
%:%3316=1193%:%
%:%3322=1193%:%
%:%3327=1194%:%
%:%3332=1195%:%
%:%3333=1195%:%
%:%3334=1196%:%
%:%3335=1197%:%
%:%3341=1198%:%
%:%3350=1199%:%
%:%3351=1199%:%
%:%3352=1200%:%
%:%3353=1200%:%
%:%3354=1201%:%
%:%3355=1202%:%
%:%3356=1203%:%
%:%3357=1203%:%
%:%3358=1204%:%
%:%3359=1204%:%
%:%3360=1205%:%
%:%3361=1205%:%
%:%3362=1205%:%
%:%3363=1206%:%
%:%3364=1206%:%
%:%3365=1207%:%
%:%3366=1207%:%
%:%3367=1208%:%
%:%3368=1208%:%
%:%3369=1208%:%
%:%3370=1209%:%
%:%3371=1209%:%
%:%3372=1210%:%
%:%3373=1210%:%
%:%3374=1210%:%
%:%3375=1211%:%
%:%3376=1211%:%
%:%3377=1212%:%
%:%3378=1212%:%
%:%3379=1213%:%
%:%3380=1213%:%
%:%3381=1214%:%
%:%3382=1214%:%
%:%3383=1215%:%
%:%3384=1215%:%
%:%3385=1216%:%
%:%3386=1216%:%
%:%3387=1217%:%
%:%3388=1217%:%
%:%3389=1218%:%
%:%3390=1218%:%
%:%3391=1219%:%
%:%3392=1219%:%
%:%3393=1220%:%
%:%3394=1220%:%
%:%3395=1220%:%
%:%3396=1221%:%
%:%3397=1221%:%
%:%3398=1222%:%
%:%3399=1222%:%
%:%3400=1223%:%
%:%3401=1223%:%
%:%3402=1224%:%
%:%3403=1224%:%
%:%3404=1224%:%
%:%3405=1225%:%
%:%3406=1225%:%
%:%3407=1226%:%
%:%3408=1226%:%
%:%3409=1227%:%
%:%3410=1227%:%
%:%3411=1227%:%
%:%3412=1228%:%
%:%3413=1228%:%
%:%3414=1229%:%
%:%3420=1229%:%
%:%3425=1230%:%
%:%3430=1231%:%
%:%3431=1231%:%
%:%3432=1232%:%
%:%3433=1233%:%
%:%3438=1233%:%
%:%3447=1234%:%
%:%3448=1234%:%
%:%3449=1235%:%
%:%3450=1235%:%
%:%3451=1236%:%
%:%3452=1236%:%
%:%3453=1237%:%
%:%3454=1237%:%
%:%3455=1238%:%
%:%3456=1238%:%
%:%3457=1239%:%
%:%3458=1239%:%
%:%3459=1240%:%
%:%3460=1240%:%
%:%3461=1241%:%
%:%3462=1241%:%
%:%3463=1242%:%
%:%3464=1242%:%
%:%3465=1243%:%
%:%3466=1243%:%
%:%3467=1244%:%
%:%3468=1244%:%
%:%3469=1245%:%
%:%3470=1245%:%
%:%3471=1246%:%
%:%3472=1246%:%
%:%3473=1247%:%
%:%3474=1248%:%
%:%3475=1249%:%
%:%3476=1249%:%
%:%3477=1250%:%
%:%3478=1250%:%
%:%3479=1251%:%
%:%3480=1251%:%
%:%3481=1252%:%
%:%3482=1252%:%
%:%3483=1253%:%
%:%3484=1253%:%
%:%3485=1254%:%
%:%3486=1254%:%
%:%3487=1255%:%
%:%3488=1255%:%
%:%3489=1256%:%
%:%3490=1256%:%
%:%3491=1257%:%
%:%3492=1257%:%
%:%3493=1258%:%
%:%3494=1258%:%
%:%3495=1259%:%
%:%3496=1259%:%
%:%3497=1260%:%
%:%3498=1260%:%
%:%3499=1261%:%
%:%3500=1262%:%
%:%3501=1263%:%
%:%3502=1263%:%
%:%3503=1264%:%
%:%3504=1264%:%
%:%3505=1265%:%
%:%3506=1265%:%
%:%3507=1266%:%
%:%3508=1266%:%
%:%3509=1267%:%
%:%3510=1267%:%
%:%3511=1268%:%
%:%3512=1268%:%
%:%3513=1269%:%
%:%3514=1269%:%
%:%3515=1270%:%
%:%3516=1270%:%
%:%3517=1271%:%
%:%3518=1271%:%
%:%3519=1272%:%
%:%3520=1272%:%
%:%3521=1273%:%
%:%3522=1273%:%
%:%3523=1274%:%
%:%3524=1274%:%
%:%3525=1275%:%
%:%3526=1275%:%
%:%3527=1275%:%
%:%3528=1276%:%
%:%3529=1277%:%
%:%3530=1278%:%
%:%3531=1278%:%
%:%3532=1279%:%
%:%3533=1279%:%
%:%3534=1280%:%
%:%3535=1280%:%
%:%3536=1280%:%
%:%3537=1281%:%
%:%3538=1281%:%
%:%3539=1282%:%
%:%3540=1282%:%
%:%3541=1283%:%
%:%3542=1283%:%
%:%3543=1283%:%
%:%3544=1284%:%
%:%3545=1285%:%
%:%3546=1286%:%
%:%3547=1287%:%
%:%3548=1287%:%
%:%3549=1288%:%
%:%3550=1288%:%
%:%3551=1289%:%
%:%3552=1289%:%
%:%3553=1290%:%
%:%3554=1290%:%
%:%3555=1291%:%
%:%3556=1291%:%
%:%3557=1292%:%
%:%3558=1292%:%
%:%3559=1293%:%
%:%3560=1293%:%
%:%3561=1294%:%
%:%3562=1294%:%
%:%3563=1295%:%
%:%3564=1295%:%
%:%3565=1296%:%
%:%3566=1296%:%
%:%3567=1297%:%
%:%3568=1297%:%
%:%3569=1298%:%
%:%3570=1298%:%
%:%3571=1299%:%
%:%3572=1299%:%
%:%3573=1300%:%
%:%3574=1300%:%
%:%3575=1301%:%
%:%3576=1301%:%
%:%3577=1302%:%
%:%3578=1302%:%
%:%3579=1303%:%
%:%3580=1303%:%
%:%3581=1304%:%
%:%3582=1304%:%
%:%3583=1305%:%
%:%3584=1305%:%
%:%3585=1306%:%
%:%3586=1306%:%
%:%3587=1307%:%
%:%3588=1307%:%
%:%3589=1308%:%
%:%3590=1308%:%
%:%3591=1309%:%
%:%3592=1309%:%
%:%3593=1310%:%
%:%3594=1310%:%
%:%3595=1311%:%
%:%3596=1311%:%
%:%3597=1312%:%
%:%3598=1312%:%
%:%3599=1313%:%
%:%3600=1313%:%
%:%3601=1314%:%
%:%3602=1314%:%
%:%3603=1314%:%
%:%3604=1315%:%
%:%3605=1316%:%
%:%3606=1317%:%
%:%3607=1317%:%
%:%3608=1318%:%
%:%3609=1318%:%
%:%3610=1319%:%
%:%3611=1319%:%
%:%3612=1319%:%
%:%3613=1320%:%
%:%3614=1321%:%
%:%3615=1322%:%
%:%3616=1322%:%
%:%3617=1323%:%
%:%3618=1323%:%
%:%3619=1324%:%
%:%3620=1324%:%
%:%3621=1325%:%
%:%3622=1326%:%
%:%3623=1327%:%
%:%3624=1327%:%
%:%3625=1328%:%
%:%3626=1328%:%
%:%3627=1329%:%
%:%3628=1330%:%
%:%3629=1331%:%
%:%3630=1331%:%
%:%3631=1332%:%
%:%3632=1332%:%
%:%3633=1333%:%
%:%3634=1333%:%
%:%3635=1334%:%
%:%3636=1335%:%
%:%3637=1336%:%
%:%3638=1336%:%
%:%3639=1337%:%
%:%3640=1337%:%
%:%3641=1338%:%
%:%3642=1339%:%
%:%3643=1340%:%
%:%3644=1340%:%
%:%3645=1341%:%
%:%3646=1341%:%
%:%3647=1342%:%
%:%3648=1342%:%
%:%3649=1343%:%
%:%3650=1343%:%
%:%3651=1344%:%
%:%3652=1344%:%
%:%3653=1345%:%
%:%3654=1345%:%
%:%3655=1346%:%
%:%3656=1346%:%
%:%3657=1347%:%
%:%3658=1347%:%
%:%3659=1348%:%
%:%3660=1348%:%
%:%3661=1349%:%
%:%3662=1349%:%
%:%3663=1350%:%
%:%3664=1350%:%
%:%3665=1351%:%
%:%3666=1351%:%
%:%3667=1351%:%
%:%3668=1352%:%
%:%3669=1353%:%
%:%3670=1354%:%
%:%3671=1354%:%
%:%3672=1355%:%
%:%3673=1355%:%
%:%3674=1356%:%
%:%3675=1356%:%
%:%3676=1356%:%
%:%3677=1357%:%
%:%3678=1357%:%
%:%3679=1358%:%
%:%3680=1358%:%
%:%3681=1359%:%
%:%3682=1359%:%
%:%3683=1360%:%
%:%3684=1360%:%
%:%3685=1361%:%
%:%3691=1361%:%
%:%3696=1362%:%
%:%3701=1363%:%
%:%3702=1363%:%
%:%3703=1364%:%
%:%3708=1364%:%
%:%3713=1365%:%
%:%3717=1365%:%
%:%3718=1365%:%
%:%3719=1366%:%
%:%3720=1366%:%
%:%3725=1366%:%
%:%3730=1367%:%
%:%3735=1368%:%
%:%3736=1368%:%
%:%3737=1369%:%
%:%3742=1369%:%
%:%3751=1370%:%
%:%3752=1370%:%
%:%3753=1371%:%
%:%3754=1371%:%
%:%3755=1372%:%
%:%3756=1372%:%
%:%3757=1373%:%
%:%3758=1373%:%
%:%3759=1374%:%
%:%3760=1374%:%
%:%3761=1374%:%
%:%3762=1375%:%
%:%3763=1375%:%
%:%3764=1376%:%
%:%3765=1376%:%
%:%3766=1376%:%
%:%3767=1377%:%
%:%3768=1377%:%
%:%3769=1378%:%
%:%3775=1378%:%
%:%3780=1379%:%
%:%3785=1380%:%
%:%3786=1380%:%
%:%3787=1381%:%
%:%3788=1382%:%
%:%3789=1383%:%
%:%3794=1383%:%
%:%3803=1384%:%
%:%3804=1384%:%
%:%3805=1385%:%
%:%3806=1385%:%
%:%3807=1386%:%
%:%3808=1386%:%
%:%3809=1386%:%
%:%3810=1387%:%
%:%3811=1388%:%
%:%3812=1388%:%
%:%3813=1389%:%
%:%3814=1389%:%
%:%3815=1390%:%
%:%3816=1390%:%
%:%3817=1391%:%
%:%3818=1391%:%
%:%3819=1392%:%
%:%3820=1392%:%
%:%3821=1393%:%
%:%3822=1393%:%
%:%3823=1394%:%
%:%3824=1394%:%
%:%3825=1395%:%
%:%3826=1395%:%
%:%3827=1396%:%
%:%3828=1396%:%
%:%3829=1397%:%
%:%3835=1397%:%
%:%3840=1398%:%
%:%3845=1399%:%
%:%3846=1399%:%
%:%3847=1400%:%
%:%3848=1401%:%
%:%3853=1401%:%
%:%3862=1402%:%
%:%3863=1402%:%
%:%3864=1403%:%
%:%3865=1403%:%
%:%3866=1404%:%
%:%3867=1404%:%
%:%3868=1404%:%
%:%3869=1405%:%
%:%3870=1406%:%
%:%3871=1406%:%
%:%3872=1407%:%
%:%3873=1407%:%
%:%3874=1408%:%
%:%3875=1408%:%
%:%3876=1409%:%
%:%3877=1409%:%
%:%3878=1410%:%
%:%3884=1410%:%
%:%3889=1411%:%
%:%3894=1412%:%
%:%3895=1412%:%
%:%3896=1413%:%
%:%3897=1414%:%
%:%3898=1415%:%
%:%3899=1416%:%
%:%3904=1416%:%
%:%3913=1417%:%
%:%3914=1417%:%
%:%3915=1418%:%
%:%3916=1418%:%
%:%3917=1419%:%
%:%3918=1419%:%
%:%3919=1420%:%
%:%3920=1420%:%
%:%3921=1421%:%
%:%3922=1422%:%
%:%3923=1423%:%
%:%3924=1423%:%
%:%3925=1424%:%
%:%3926=1424%:%
%:%3927=1425%:%
%:%3928=1425%:%
%:%3929=1426%:%
%:%3930=1426%:%
%:%3931=1427%:%
%:%3932=1427%:%
%:%3933=1428%:%
%:%3939=1428%:%
%:%3944=1429%:%
%:%3949=1430%:%
%:%3950=1430%:%
%:%3951=1431%:%
%:%3956=1431%:%
%:%3965=1432%:%
%:%3966=1432%:%
%:%3967=1433%:%
%:%3968=1433%:%
%:%3969=1434%:%
%:%3970=1434%:%
%:%3971=1435%:%
%:%3972=1435%:%
%:%3973=1436%:%
%:%3974=1436%:%
%:%3975=1437%:%
%:%3976=1437%:%
%:%3977=1438%:%
%:%3978=1438%:%
%:%3979=1439%:%
%:%3980=1439%:%
%:%3981=1440%:%
%:%3982=1440%:%
%:%3983=1441%:%
%:%3989=1441%:%
%:%3994=1442%:%
%:%3999=1443%:%
%:%4000=1443%:%
%:%4001=1444%:%
%:%4006=1444%:%
%:%4015=1445%:%
%:%4016=1445%:%
%:%4017=1446%:%
%:%4018=1446%:%
%:%4019=1447%:%
%:%4020=1447%:%
%:%4021=1448%:%
%:%4022=1448%:%
%:%4023=1449%:%
%:%4024=1449%:%
%:%4025=1450%:%
%:%4026=1450%:%
%:%4027=1451%:%
%:%4028=1451%:%
%:%4029=1452%:%
%:%4030=1452%:%
%:%4031=1453%:%
%:%4032=1453%:%
%:%4033=1454%:%
%:%4034=1454%:%
%:%4035=1455%:%
%:%4036=1455%:%
%:%4037=1456%:%
%:%4038=1456%:%
%:%4039=1457%:%
%:%4040=1457%:%
%:%4041=1458%:%
%:%4042=1458%:%
%:%4043=1459%:%
%:%4044=1459%:%
%:%4045=1459%:%
%:%4046=1460%:%
%:%4047=1460%:%
%:%4048=1461%:%
%:%4049=1461%:%
%:%4050=1462%:%
%:%4051=1462%:%
%:%4052=1463%:%
%:%4053=1463%:%
%:%4054=1464%:%
%:%4055=1464%:%
%:%4056=1465%:%
%:%4057=1465%:%
%:%4058=1466%:%
%:%4059=1466%:%
%:%4060=1467%:%
%:%4061=1467%:%
%:%4062=1468%:%
%:%4063=1468%:%
%:%4064=1468%:%
%:%4065=1469%:%
%:%4066=1469%:%
%:%4067=1470%:%
%:%4073=1470%:%
%:%4078=1471%:%
%:%4083=1472%:%
%:%4084=1472%:%
%:%4085=1473%:%
%:%4090=1473%:%
%:%4095=1474%:%
%:%4099=1474%:%
%:%4100=1474%:%
%:%4101=1475%:%
%:%4102=1475%:%
%:%4107=1475%:%
%:%4112=1476%:%
%:%4117=1477%:%
%:%4118=1477%:%
%:%4119=1478%:%
%:%4120=1479%:%
%:%4121=1480%:%
%:%4126=1480%:%
%:%4135=1481%:%
%:%4136=1481%:%
%:%4137=1482%:%
%:%4138=1482%:%
%:%4139=1483%:%
%:%4140=1483%:%
%:%4141=1484%:%
%:%4142=1484%:%
%:%4143=1485%:%
%:%4144=1485%:%
%:%4145=1486%:%
%:%4146=1486%:%
%:%4147=1487%:%
%:%4148=1487%:%
%:%4149=1488%:%
%:%4150=1489%:%
%:%4151=1490%:%
%:%4152=1490%:%
%:%4153=1491%:%
%:%4154=1492%:%
%:%4155=1492%:%
%:%4156=1493%:%
%:%4157=1493%:%
%:%4158=1494%:%
%:%4159=1494%:%
%:%4160=1495%:%
%:%4161=1496%:%
%:%4162=1497%:%
%:%4163=1497%:%
%:%4164=1498%:%
%:%4165=1498%:%
%:%4166=1499%:%
%:%4167=1499%:%
%:%4168=1500%:%
%:%4169=1501%:%
%:%4170=1502%:%
%:%4171=1502%:%
%:%4172=1503%:%
%:%4173=1503%:%
%:%4174=1504%:%
%:%4175=1505%:%
%:%4176=1506%:%
%:%4177=1506%:%
%:%4178=1507%:%
%:%4179=1507%:%
%:%4180=1508%:%
%:%4181=1508%:%
%:%4182=1509%:%
%:%4183=1510%:%
%:%4184=1511%:%
%:%4185=1511%:%
%:%4186=1512%:%
%:%4187=1512%:%
%:%4188=1513%:%
%:%4189=1514%:%
%:%4190=1515%:%
%:%4191=1515%:%
%:%4192=1516%:%
%:%4193=1516%:%
%:%4194=1517%:%
%:%4195=1517%:%
%:%4196=1518%:%
%:%4197=1518%:%
%:%4198=1519%:%
%:%4199=1519%:%
%:%4200=1520%:%
%:%4201=1520%:%
%:%4202=1521%:%
%:%4203=1521%:%
%:%4204=1522%:%
%:%4205=1522%:%
%:%4206=1523%:%
%:%4207=1523%:%
%:%4208=1524%:%
%:%4209=1524%:%
%:%4210=1525%:%
%:%4211=1525%:%
%:%4212=1526%:%
%:%4213=1527%:%
%:%4214=1528%:%
%:%4215=1528%:%
%:%4216=1529%:%
%:%4222=1529%:%
%:%4227=1530%:%
%:%4232=1531%:%
%:%4233=1531%:%
%:%4234=1532%:%
%:%4239=1532%:%
%:%4248=1533%:%
%:%4249=1533%:%
%:%4250=1534%:%
%:%4251=1534%:%
%:%4252=1535%:%
%:%4253=1535%:%
%:%4254=1536%:%
%:%4255=1536%:%
%:%4256=1537%:%
%:%4257=1537%:%
%:%4258=1538%:%
%:%4259=1538%:%
%:%4260=1539%:%
%:%4261=1539%:%
%:%4262=1540%:%
%:%4263=1540%:%
%:%4264=1541%:%
%:%4265=1541%:%
%:%4266=1542%:%
%:%4267=1542%:%
%:%4268=1543%:%
%:%4269=1543%:%
%:%4270=1544%:%
%:%4271=1544%:%
%:%4272=1545%:%
%:%4278=1545%:%
%:%4283=1546%:%
%:%4288=1547%:%
%:%4289=1547%:%
%:%4290=1548%:%
%:%4295=1548%:%
%:%4304=1549%:%
%:%4305=1549%:%
%:%4306=1550%:%
%:%4307=1550%:%
%:%4308=1551%:%
%:%4309=1551%:%
%:%4310=1552%:%
%:%4311=1552%:%
%:%4312=1553%:%
%:%4313=1553%:%
%:%4314=1554%:%
%:%4315=1554%:%
%:%4316=1555%:%
%:%4317=1555%:%
%:%4318=1556%:%
%:%4319=1556%:%
%:%4320=1557%:%
%:%4321=1557%:%
%:%4322=1558%:%
%:%4323=1558%:%
%:%4324=1559%:%
%:%4325=1559%:%
%:%4326=1560%:%
%:%4327=1560%:%
%:%4328=1561%:%
%:%4338=1564%:%
%:%4339=1565%:%
%:%4340=1566%:%
%:%4342=1569%:%
%:%4343=1569%:%
%:%4344=1570%:%
%:%4351=1571%:%
%:%4352=1571%:%
%:%4353=1572%:%
%:%4354=1572%:%
%:%4355=1573%:%
%:%4356=1573%:%
%:%4357=1574%:%
%:%4358=1574%:%
%:%4359=1575%:%
%:%4360=1575%:%
%:%4361=1576%:%
%:%4362=1576%:%
%:%4363=1577%:%
%:%4364=1577%:%
%:%4365=1578%:%
%:%4366=1578%:%
%:%4367=1579%:%
%:%4368=1579%:%
%:%4369=1580%:%
%:%4370=1581%:%
%:%4371=1582%:%
%:%4372=1583%:%
%:%4373=1583%:%
%:%4374=1584%:%
%:%4375=1584%:%
%:%4376=1585%:%
%:%4377=1585%:%
%:%4378=1586%:%
%:%4379=1586%:%
%:%4380=1587%:%
%:%4381=1587%:%
%:%4382=1588%:%
%:%4383=1589%:%
%:%4384=1590%:%
%:%4385=1591%:%
%:%4386=1591%:%
%:%4387=1592%:%
%:%4388=1592%:%
%:%4389=1593%:%
%:%4390=1594%:%
%:%4391=1595%:%
%:%4392=1596%:%
%:%4393=1596%:%
%:%4394=1597%:%
%:%4395=1597%:%
%:%4396=1598%:%
%:%4397=1599%:%
%:%4398=1600%:%
%:%4399=1601%:%
%:%4400=1601%:%
%:%4401=1602%:%
%:%4402=1602%:%
%:%4403=1603%:%
%:%4404=1604%:%
%:%4405=1604%:%
%:%4406=1605%:%
%:%4409=1608%:%
%:%4410=1609%:%
%:%4411=1609%:%
%:%4412=1610%:%
%:%4413=1610%:%
%:%4414=1611%:%
%:%4415=1611%:%
%:%4416=1612%:%
%:%4417=1612%:%
%:%4418=1613%:%
%:%4421=1616%:%
%:%4422=1617%:%
%:%4423=1617%:%
%:%4424=1618%:%
%:%4425=1618%:%
%:%4426=1619%:%
%:%4427=1619%:%
%:%4428=1620%:%
%:%4431=1623%:%
%:%4432=1624%:%
%:%4433=1624%:%
%:%4434=1625%:%
%:%4435=1625%:%
%:%4436=1626%:%
%:%4437=1626%:%
%:%4438=1627%:%
%:%4439=1627%:%
%:%4440=1628%:%
%:%4441=1628%:%
%:%4442=1629%:%
%:%4443=1629%:%
%:%4444=1630%:%
%:%4445=1630%:%
%:%4446=1631%:%
%:%4447=1631%:%
%:%4448=1632%:%
%:%4449=1632%:%
%:%4450=1633%:%
%:%4451=1633%:%
%:%4452=1634%:%
%:%4453=1634%:%
%:%4454=1635%:%
%:%4455=1635%:%
%:%4456=1636%:%
%:%4457=1636%:%
%:%4458=1637%:%
%:%4459=1637%:%
%:%4460=1638%:%
%:%4461=1638%:%
%:%4462=1639%:%
%:%4468=1639%:%
%:%4473=1640%:%
%:%4478=1641%:%
%:%4479=1641%:%
%:%4480=1642%:%
%:%4485=1642%:%
%:%4494=1643%:%
%:%4495=1643%:%
%:%4496=1644%:%
%:%4497=1644%:%
%:%4498=1645%:%
%:%4499=1645%:%
%:%4500=1646%:%
%:%4501=1646%:%
%:%4502=1647%:%
%:%4503=1647%:%
%:%4504=1648%:%
%:%4505=1648%:%
%:%4506=1649%:%
%:%4507=1649%:%
%:%4508=1650%:%
%:%4509=1650%:%
%:%4510=1651%:%
%:%4511=1651%:%
%:%4512=1652%:%
%:%4513=1653%:%
%:%4514=1654%:%
%:%4515=1654%:%
%:%4516=1655%:%
%:%4517=1655%:%
%:%4518=1656%:%
%:%4519=1656%:%
%:%4520=1657%:%
%:%4521=1657%:%
%:%4522=1658%:%
%:%4523=1658%:%
%:%4524=1659%:%
%:%4525=1659%:%
%:%4526=1660%:%
%:%4527=1660%:%
%:%4528=1661%:%
%:%4529=1661%:%
%:%4530=1662%:%
%:%4531=1662%:%
%:%4532=1663%:%
%:%4533=1663%:%
%:%4534=1663%:%
%:%4535=1664%:%
%:%4536=1665%:%
%:%4537=1666%:%
%:%4538=1667%:%
%:%4539=1667%:%
%:%4540=1668%:%
%:%4541=1668%:%
%:%4542=1669%:%
%:%4543=1669%:%
%:%4544=1670%:%
%:%4545=1670%:%
%:%4546=1671%:%
%:%4547=1671%:%
%:%4548=1672%:%
%:%4549=1672%:%
%:%4550=1673%:%
%:%4551=1673%:%
%:%4552=1674%:%
%:%4553=1674%:%
%:%4554=1675%:%
%:%4555=1675%:%
%:%4556=1676%:%
%:%4557=1676%:%
%:%4558=1677%:%
%:%4559=1677%:%
%:%4560=1678%:%
%:%4561=1678%:%
%:%4562=1679%:%
%:%4563=1679%:%
%:%4564=1680%:%
%:%4565=1680%:%
%:%4566=1681%:%
%:%4567=1681%:%
%:%4568=1682%:%
%:%4569=1682%:%
%:%4570=1683%:%
%:%4571=1683%:%
%:%4572=1684%:%
%:%4578=1684%:%
%:%4583=1685%:%
%:%4588=1686%:%
%:%4589=1686%:%
%:%4590=1687%:%
%:%4595=1687%:%
%:%4604=1688%:%
%:%4605=1688%:%
%:%4606=1689%:%
%:%4607=1689%:%
%:%4608=1690%:%
%:%4609=1690%:%
%:%4610=1691%:%
%:%4611=1691%:%
%:%4612=1692%:%
%:%4613=1692%:%
%:%4614=1693%:%
%:%4615=1693%:%
%:%4616=1694%:%
%:%4617=1694%:%
%:%4618=1695%:%
%:%4619=1695%:%
%:%4620=1696%:%
%:%4621=1696%:%
%:%4622=1697%:%
%:%4623=1698%:%
%:%4624=1699%:%
%:%4625=1699%:%
%:%4626=1700%:%
%:%4627=1700%:%
%:%4628=1701%:%
%:%4629=1701%:%
%:%4630=1702%:%
%:%4631=1702%:%
%:%4632=1703%:%
%:%4633=1703%:%
%:%4634=1704%:%
%:%4635=1704%:%
%:%4636=1705%:%
%:%4637=1705%:%
%:%4638=1706%:%
%:%4639=1706%:%
%:%4640=1707%:%
%:%4641=1707%:%
%:%4642=1708%:%
%:%4643=1708%:%
%:%4644=1709%:%
%:%4645=1709%:%
%:%4646=1709%:%
%:%4647=1710%:%
%:%4648=1711%:%
%:%4649=1712%:%
%:%4650=1713%:%
%:%4651=1713%:%
%:%4652=1714%:%
%:%4653=1714%:%
%:%4654=1715%:%
%:%4655=1715%:%
%:%4656=1716%:%
%:%4657=1716%:%
%:%4658=1717%:%
%:%4659=1717%:%
%:%4660=1718%:%
%:%4661=1718%:%
%:%4662=1719%:%
%:%4663=1719%:%
%:%4664=1720%:%
%:%4665=1720%:%
%:%4666=1721%:%
%:%4667=1721%:%
%:%4668=1722%:%
%:%4669=1722%:%
%:%4670=1723%:%
%:%4671=1723%:%
%:%4672=1724%:%
%:%4673=1724%:%
%:%4674=1725%:%
%:%4675=1725%:%
%:%4676=1726%:%
%:%4677=1726%:%
%:%4678=1727%:%
%:%4679=1727%:%
%:%4680=1728%:%
%:%4681=1728%:%
%:%4682=1729%:%
%:%4683=1729%:%
%:%4684=1730%:%
%:%4690=1730%:%
%:%4695=1731%:%
%:%4700=1732%:%
%:%4701=1732%:%
%:%4702=1733%:%
%:%4707=1733%:%
%:%4712=1734%:%
%:%4716=1734%:%
%:%4717=1734%:%
%:%4718=1735%:%
%:%4719=1735%:%
%:%4724=1735%:%
%:%4727=1736%:%
%:%4728=1737%:%
%:%4729=1737%:%
%:%4730=1738%:%
%:%4737=1739%:%
%:%4738=1739%:%
%:%4739=1740%:%
%:%4740=1740%:%
%:%4741=1741%:%
%:%4742=1741%:%
%:%4743=1742%:%
%:%4744=1742%:%
%:%4745=1743%:%
%:%4746=1743%:%
%:%4747=1744%:%
%:%4748=1744%:%
%:%4749=1745%:%
%:%4750=1745%:%
%:%4751=1746%:%
%:%4752=1746%:%
%:%4753=1747%:%
%:%4754=1747%:%
%:%4755=1748%:%
%:%4756=1748%:%
%:%4757=1749%:%
%:%4758=1749%:%
%:%4759=1750%:%
%:%4760=1750%:%
%:%4761=1751%:%
%:%4762=1751%:%
%:%4763=1752%:%
%:%4764=1752%:%
%:%4765=1753%:%
%:%4766=1753%:%
%:%4767=1754%:%
%:%4768=1754%:%
%:%4769=1755%:%
%:%4775=1755%:%
%:%4780=1756%:%
%:%4785=1757%:%
%:%4786=1757%:%
%:%4787=1758%:%
%:%4788=1759%:%
%:%4793=1759%:%
%:%4798=1760%:%
%:%4802=1760%:%
%:%4803=1760%:%
%:%4804=1761%:%
%:%4805=1761%:%
%:%4810=1761%:%
%:%4815=1762%:%
%:%4820=1763%:%
%:%4821=1763%:%
%:%4822=1764%:%
%:%4823=1765%:%
%:%4824=1766%:%
%:%4831=1768%:%
%:%4840=1769%:%
%:%4841=1769%:%
%:%4842=1770%:%
%:%4843=1770%:%
%:%4844=1770%:%
%:%4845=1771%:%
%:%4846=1771%:%
%:%4847=1772%:%
%:%4848=1773%:%
%:%4849=1774%:%
%:%4850=1774%:%
%:%4851=1775%:%
%:%4852=1775%:%
%:%4853=1775%:%
%:%4854=1776%:%
%:%4856=1778%:%
%:%4857=1779%:%
%:%4858=1779%:%
%:%4859=1780%:%
%:%4860=1780%:%
%:%4861=1781%:%
%:%4862=1781%:%
%:%4863=1781%:%
%:%4864=1782%:%
%:%4866=1784%:%
%:%4867=1785%:%
%:%4868=1785%:%
%:%4869=1786%:%
%:%4870=1786%:%
%:%4871=1787%:%
%:%4872=1787%:%
%:%4873=1787%:%
%:%4874=1788%:%
%:%4876=1790%:%
%:%4877=1791%:%
%:%4878=1791%:%
%:%4879=1792%:%
%:%4880=1792%:%
%:%4881=1793%:%
%:%4882=1793%:%
%:%4883=1794%:%
%:%4884=1794%:%
%:%4885=1795%:%
%:%4886=1795%:%
%:%4887=1796%:%
%:%4888=1796%:%
%:%4889=1797%:%
%:%4890=1797%:%
%:%4891=1798%:%
%:%4892=1798%:%
%:%4893=1799%:%
%:%4894=1799%:%
%:%4895=1800%:%
%:%4896=1800%:%
%:%4897=1801%:%
%:%4898=1801%:%
%:%4899=1802%:%
%:%4900=1802%:%
%:%4901=1802%:%
%:%4902=1803%:%
%:%4904=1805%:%
%:%4905=1806%:%
%:%4906=1806%:%
%:%4907=1806%:%
%:%4908=1807%:%
%:%4909=1807%:%
%:%4910=1808%:%
%:%4911=1808%:%
%:%4912=1809%:%
%:%4918=1809%:%
%:%4923=1810%:%
%:%4928=1811%:%
%:%4929=1811%:%
%:%4930=1812%:%
%:%4931=1813%:%
%:%4932=1814%:%
%:%4940=1817%:%
%:%4949=1818%:%
%:%4950=1818%:%
%:%4951=1819%:%
%:%4952=1819%:%
%:%4953=1819%:%
%:%4954=1820%:%
%:%4955=1820%:%
%:%4956=1821%:%
%:%4957=1822%:%
%:%4958=1823%:%
%:%4959=1823%:%
%:%4960=1824%:%
%:%4961=1824%:%
%:%4962=1824%:%
%:%4963=1825%:%
%:%4965=1827%:%
%:%4966=1828%:%
%:%4967=1828%:%
%:%4968=1829%:%
%:%4969=1829%:%
%:%4970=1830%:%
%:%4971=1830%:%
%:%4972=1830%:%
%:%4973=1831%:%
%:%4975=1833%:%
%:%4976=1834%:%
%:%4977=1834%:%
%:%4978=1835%:%
%:%4979=1835%:%
%:%4980=1836%:%
%:%4981=1836%:%
%:%4982=1836%:%
%:%4983=1837%:%
%:%4984=1838%:%
%:%4985=1839%:%
%:%4986=1839%:%
%:%4987=1840%:%
%:%4988=1840%:%
%:%4989=1841%:%
%:%4990=1841%:%
%:%4991=1842%:%
%:%4992=1842%:%
%:%4993=1843%:%
%:%4994=1843%:%
%:%4995=1844%:%
%:%4996=1844%:%
%:%4997=1845%:%
%:%4998=1845%:%
%:%4999=1846%:%
%:%5000=1846%:%
%:%5001=1847%:%
%:%5002=1847%:%
%:%5003=1848%:%
%:%5004=1848%:%
%:%5005=1849%:%
%:%5006=1849%:%
%:%5007=1850%:%
%:%5008=1850%:%
%:%5009=1850%:%
%:%5010=1851%:%
%:%5011=1852%:%
%:%5012=1853%:%
%:%5013=1853%:%
%:%5014=1853%:%
%:%5015=1854%:%
%:%5016=1854%:%
%:%5017=1855%:%
%:%5018=1855%:%
%:%5019=1856%:%
%:%5025=1856%:%
%:%5030=1857%:%
%:%5035=1858%:%
%:%5036=1858%:%
%:%5037=1859%:%
%:%5038=1860%:%
%:%5043=1860%:%
%:%5052=1861%:%
%:%5053=1861%:%
%:%5054=1862%:%
%:%5055=1862%:%
%:%5056=1862%:%
%:%5057=1863%:%
%:%5058=1863%:%
%:%5059=1864%:%
%:%5060=1864%:%
%:%5061=1865%:%
%:%5062=1865%:%
%:%5063=1865%:%
%:%5064=1866%:%
%:%5065=1866%:%
%:%5066=1867%:%
%:%5067=1867%:%
%:%5068=1868%:%
%:%5069=1868%:%
%:%5070=1868%:%
%:%5071=1869%:%
%:%5072=1869%:%
%:%5073=1869%:%
%:%5074=1870%:%
%:%5075=1870%:%
%:%5076=1871%:%
%:%5077=1871%:%
%:%5078=1872%:%
%:%5084=1872%:%
%:%5089=1873%:%
%:%5094=1874%:%
%:%5095=1874%:%
%:%5096=1875%:%
%:%5097=1876%:%
%:%5098=1877%:%
%:%5103=1877%:%
%:%5108=1878%:%
%:%5112=1878%:%
%:%5113=1878%:%
%:%5114=1879%:%
%:%5115=1879%:%
%:%5116=1880%:%
%:%5117=1880%:%
%:%5118=1881%:%
%:%5119=1881%:%
%:%5120=1882%:%
%:%5121=1882%:%
%:%5122=1883%:%
%:%5123=1883%:%
%:%5124=1884%:%
%:%5125=1884%:%
%:%5126=1885%:%
%:%5127=1885%:%
%:%5128=1886%:%
%:%5129=1886%:%
%:%5130=1887%:%
%:%5131=1887%:%
%:%5132=1888%:%
%:%5133=1888%:%
%:%5134=1889%:%
%:%5135=1889%:%
%:%5136=1890%:%
%:%5137=1890%:%
%:%5142=1890%:%
%:%5147=1891%:%
%:%5152=1892%:%
%:%5153=1892%:%
%:%5154=1893%:%
%:%5155=1894%:%
%:%5156=1895%:%
%:%5157=1896%:%
%:%5158=1897%:%
%:%5159=1898%:%
%:%5160=1899%:%
%:%5161=1900%:%
%:%5162=1901%:%
%:%5163=1902%:%
%:%5164=1903%:%
%:%5165=1904%:%
%:%5166=1905%:%
%:%5167=1906%:%
%:%5172=1906%:%
%:%5181=1907%:%
%:%5182=1907%:%
%:%5183=1908%:%
%:%5184=1908%:%
%:%5185=1909%:%
%:%5186=1909%:%
%:%5187=1910%:%
%:%5188=1910%:%
%:%5189=1911%:%
%:%5190=1911%:%
%:%5191=1912%:%
%:%5192=1912%:%
%:%5193=1913%:%
%:%5194=1913%:%
%:%5195=1914%:%
%:%5196=1914%:%
%:%5197=1915%:%
%:%5198=1916%:%
%:%5199=1917%:%
%:%5200=1917%:%
%:%5201=1918%:%
%:%5202=1918%:%
%:%5203=1919%:%
%:%5204=1919%:%
%:%5205=1920%:%
%:%5206=1921%:%
%:%5207=1922%:%
%:%5208=1922%:%
%:%5209=1923%:%
%:%5210=1923%:%
%:%5211=1924%:%
%:%5212=1924%:%
%:%5213=1925%:%
%:%5214=1926%:%
%:%5215=1927%:%
%:%5216=1927%:%
%:%5217=1928%:%
%:%5218=1928%:%
%:%5219=1929%:%
%:%5225=1929%:%
%:%5230=1930%:%
%:%5235=1931%:%
%:%5236=1931%:%
%:%5237=1932%:%
%:%5238=1933%:%
%:%5239=1934%:%
%:%5240=1935%:%
%:%5241=1936%:%
%:%5242=1937%:%
%:%5243=1938%:%
%:%5244=1939%:%
%:%5245=1940%:%
%:%5246=1941%:%
%:%5247=1942%:%
%:%5248=1943%:%
%:%5249=1944%:%
%:%5250=1945%:%
%:%5251=1946%:%
%:%5252=1947%:%
%:%5253=1948%:%
%:%5254=1949%:%
%:%5255=1950%:%
%:%5256=1951%:%
%:%5257=1952%:%
%:%5258=1953%:%
%:%5259=1954%:%
%:%5260=1955%:%
%:%5261=1956%:%
%:%5262=1957%:%
%:%5267=1957%:%
%:%5276=1958%:%
%:%5277=1958%:%
%:%5278=1959%:%
%:%5279=1959%:%
%:%5280=1960%:%
%:%5281=1961%:%
%:%5282=1962%:%
%:%5283=1963%:%
%:%5284=1963%:%
%:%5285=1964%:%
%:%5286=1964%:%
%:%5287=1965%:%
%:%5288=1965%:%
%:%5289=1966%:%
%:%5290=1967%:%
%:%5291=1968%:%
%:%5292=1968%:%
%:%5293=1969%:%
%:%5294=1969%:%
%:%5295=1970%:%
%:%5296=1970%:%
%:%5297=1971%:%
%:%5298=1972%:%
%:%5299=1973%:%
%:%5300=1974%:%
%:%5301=1974%:%
%:%5302=1975%:%
%:%5303=1975%:%
%:%5304=1976%:%
%:%5305=1976%:%
%:%5306=1977%:%
%:%5307=1978%:%
%:%5308=1979%:%
%:%5309=1980%:%
%:%5310=1980%:%
%:%5311=1981%:%
%:%5312=1981%:%
%:%5313=1982%:%
%:%5314=1982%:%
%:%5315=1983%:%
%:%5316=1984%:%
%:%5317=1985%:%
%:%5318=1986%:%
%:%5319=1986%:%
%:%5320=1987%:%
%:%5321=1987%:%
%:%5322=1988%:%
%:%5323=1988%:%
%:%5324=1989%:%
%:%5325=1990%:%
%:%5326=1991%:%
%:%5327=1992%:%
%:%5328=1992%:%
%:%5329=1993%:%
%:%5330=1993%:%
%:%5331=1994%:%
%:%5332=1994%:%
%:%5333=1995%:%
%:%5334=1996%:%
%:%5335=1997%:%
%:%5336=1997%:%
%:%5337=1998%:%
%:%5338=1998%:%
%:%5339=1999%:%
%:%5340=1999%:%
%:%5341=2000%:%
%:%5342=2001%:%
%:%5343=2001%:%
%:%5344=2002%:%
%:%5345=2002%:%
%:%5346=2003%:%
%:%5352=2003%:%
%:%5357=2004%:%
%:%5362=2005%:%
%:%5363=2005%:%
%:%5364=2006%:%
%:%5365=2007%:%
%:%5366=2008%:%
%:%5367=2009%:%
%:%5368=2010%:%
%:%5369=2011%:%
%:%5374=2011%:%
%:%5383=2012%:%
%:%5384=2012%:%
%:%5385=2013%:%
%:%5386=2013%:%
%:%5387=2014%:%
%:%5388=2015%:%
%:%5389=2016%:%
%:%5390=2016%:%
%:%5391=2017%:%
%:%5392=2017%:%
%:%5393=2018%:%
%:%5394=2018%:%
%:%5395=2018%:%
%:%5396=2019%:%
%:%5397=2019%:%
%:%5398=2020%:%
%:%5399=2020%:%
%:%5400=2021%:%
%:%5401=2021%:%
%:%5402=2021%:%
%:%5403=2022%:%
%:%5404=2022%:%
%:%5405=2023%:%
%:%5406=2023%:%
%:%5407=2023%:%
%:%5408=2024%:%
%:%5409=2024%:%
%:%5410=2025%:%
%:%5411=2025%:%
%:%5412=2026%:%
%:%5413=2026%:%
%:%5414=2026%:%
%:%5415=2027%:%
%:%5416=2027%:%
%:%5417=2028%:%
%:%5423=2028%:%
%:%5428=2029%:%
%:%5433=2030%:%
%:%5434=2030%:%
%:%5435=2031%:%
%:%5436=2032%:%
%:%5437=2033%:%
%:%5438=2034%:%
%:%5439=2035%:%
%:%5440=2036%:%
%:%5445=2036%:%
%:%5454=2037%:%
%:%5455=2037%:%
%:%5456=2038%:%
%:%5457=2038%:%
%:%5458=2039%:%
%:%5459=2039%:%
%:%5460=2040%:%
%:%5461=2041%:%
%:%5462=2042%:%
%:%5463=2042%:%
%:%5464=2043%:%
%:%5465=2043%:%
%:%5466=2044%:%
%:%5467=2044%:%
%:%5468=2044%:%
%:%5469=2045%:%
%:%5470=2045%:%
%:%5471=2046%:%
%:%5472=2046%:%
%:%5473=2047%:%
%:%5474=2047%:%
%:%5475=2047%:%
%:%5476=2048%:%
%:%5477=2048%:%
%:%5478=2049%:%
%:%5479=2049%:%
%:%5480=2050%:%
%:%5481=2050%:%
%:%5482=2050%:%
%:%5483=2051%:%
%:%5484=2051%:%
%:%5485=2052%:%
%:%5486=2052%:%
%:%5487=2053%:%
%:%5488=2053%:%
%:%5489=2053%:%
%:%5490=2054%:%
%:%5491=2054%:%
%:%5492=2055%:%
%:%5493=2055%:%
%:%5494=2056%:%
%:%5495=2056%:%
%:%5496=2056%:%
%:%5497=2057%:%
%:%5498=2057%:%
%:%5499=2058%:%
%:%5500=2058%:%
%:%5501=2059%:%
%:%5502=2059%:%
%:%5503=2059%:%
%:%5504=2060%:%
%:%5505=2060%:%
%:%5506=2061%:%
%:%5507=2061%:%
%:%5508=2062%:%
%:%5509=2062%:%
%:%5510=2062%:%
%:%5511=2063%:%
%:%5512=2063%:%
%:%5513=2064%:%
%:%5514=2064%:%
%:%5515=2065%:%
%:%5516=2065%:%
%:%5517=2065%:%
%:%5518=2066%:%
%:%5519=2066%:%
%:%5520=2067%:%
%:%5521=2067%:%
%:%5522=2068%:%
%:%5523=2068%:%
%:%5524=2068%:%
%:%5525=2069%:%
%:%5526=2070%:%
%:%5527=2071%:%
%:%5528=2071%:%
%:%5529=2072%:%
%:%5535=2072%:%
%:%5540=2073%:%
%:%5545=2074%:%
%:%5546=2074%:%
%:%5547=2075%:%
%:%5548=2076%:%
%:%5549=2077%:%
%:%5550=2078%:%
%:%5551=2079%:%
%:%5552=2080%:%
%:%5557=2080%:%
%:%5566=2081%:%
%:%5567=2081%:%
%:%5568=2082%:%
%:%5569=2082%:%
%:%5570=2083%:%
%:%5571=2083%:%
%:%5572=2084%:%
%:%5573=2084%:%
%:%5574=2085%:%
%:%5575=2085%:%
%:%5576=2086%:%
%:%5577=2086%:%
%:%5578=2087%:%
%:%5579=2087%:%
%:%5580=2088%:%
%:%5581=2088%:%
%:%5582=2089%:%
%:%5583=2089%:%
%:%5584=2090%:%
%:%5585=2090%:%
%:%5586=2091%:%
%:%5587=2092%:%
%:%5588=2093%:%
%:%5589=2094%:%
%:%5590=2094%:%
%:%5591=2095%:%
%:%5592=2095%:%
%:%5593=2096%:%
%:%5594=2096%:%
%:%5595=2097%:%
%:%5596=2097%:%
%:%5597=2098%:%
%:%5598=2098%:%
%:%5599=2099%:%
%:%5600=2099%:%
%:%5601=2100%:%
%:%5602=2100%:%
%:%5603=2101%:%
%:%5604=2101%:%
%:%5605=2102%:%
%:%5606=2102%:%
%:%5607=2103%:%
%:%5608=2103%:%
%:%5609=2104%:%
%:%5610=2104%:%
%:%5611=2105%:%
%:%5612=2105%:%
%:%5613=2106%:%
%:%5614=2107%:%
%:%5615=2108%:%
%:%5616=2108%:%
%:%5617=2109%:%
%:%5618=2109%:%
%:%5619=2110%:%
%:%5620=2110%:%
%:%5621=2111%:%
%:%5622=2111%:%
%:%5623=2112%:%
%:%5624=2112%:%
%:%5625=2113%:%
%:%5626=2113%:%
%:%5627=2114%:%
%:%5628=2114%:%
%:%5629=2115%:%
%:%5630=2115%:%
%:%5631=2116%:%
%:%5632=2116%:%
%:%5633=2117%:%
%:%5634=2117%:%
%:%5635=2118%:%
%:%5636=2118%:%
%:%5637=2119%:%
%:%5638=2119%:%
%:%5639=2120%:%
%:%5640=2120%:%
%:%5641=2121%:%
%:%5642=2121%:%
%:%5643=2122%:%
%:%5644=2122%:%
%:%5645=2123%:%
%:%5646=2123%:%
%:%5647=2124%:%
%:%5648=2124%:%
%:%5649=2125%:%
%:%5655=2125%:%
%:%5660=2126%:%
%:%5665=2127%:%
%:%5666=2127%:%
%:%5667=2128%:%
%:%5668=2129%:%
%:%5669=2130%:%
%:%5670=2131%:%
%:%5671=2132%:%
%:%5672=2133%:%
%:%5677=2133%:%
%:%5682=2134%:%
%:%5686=2134%:%
%:%5687=2134%:%
%:%5688=2135%:%
%:%5689=2135%:%
%:%5690=2136%:%
%:%5691=2136%:%
%:%5692=2137%:%
%:%5693=2137%:%
%:%5694=2137%:%
%:%5695=2138%:%
%:%5696=2138%:%
%:%5697=2139%:%
%:%5698=2139%:%
%:%5699=2140%:%
%:%5700=2140%:%
%:%5701=2140%:%
%:%5702=2141%:%
%:%5703=2141%:%
%:%5704=2142%:%
%:%5705=2142%:%
%:%5706=2143%:%
%:%5707=2143%:%
%:%5708=2143%:%
%:%5709=2144%:%
%:%5710=2144%:%
%:%5711=2145%:%
%:%5712=2145%:%
%:%5713=2146%:%
%:%5714=2146%:%
%:%5715=2146%:%
%:%5716=2147%:%
%:%5717=2147%:%
%:%5718=2148%:%
%:%5719=2148%:%
%:%5720=2149%:%
%:%5721=2149%:%
%:%5722=2149%:%
%:%5723=2150%:%
%:%5724=2150%:%
%:%5725=2151%:%
%:%5726=2151%:%
%:%5727=2152%:%
%:%5728=2152%:%
%:%5729=2152%:%
%:%5730=2153%:%
%:%5731=2153%:%
%:%5732=2154%:%
%:%5733=2154%:%
%:%5734=2155%:%
%:%5735=2155%:%
%:%5736=2155%:%
%:%5737=2156%:%
%:%5738=2156%:%
%:%5739=2157%:%
%:%5740=2157%:%
%:%5741=2158%:%
%:%5742=2158%:%
%:%5743=2158%:%
%:%5744=2159%:%
%:%5745=2159%:%
%:%5746=2160%:%
%:%5747=2160%:%
%:%5748=2161%:%
%:%5749=2161%:%
%:%5750=2161%:%
%:%5751=2162%:%
%:%5752=2162%:%
%:%5753=2163%:%
%:%5754=2163%:%
%:%5755=2163%:%
%:%5756=2164%:%
%:%5757=2164%:%
%:%5758=2164%:%
%:%5759=2165%:%
%:%5760=2165%:%
%:%5761=2166%:%
%:%5762=2166%:%
%:%5763=2167%:%
%:%5764=2167%:%
%:%5765=2168%:%
%:%5766=2168%:%
%:%5767=2169%:%
%:%5768=2169%:%
%:%5769=2169%:%
%:%5770=2170%:%
%:%5771=2170%:%
%:%5772=2171%:%
%:%5773=2172%:%
%:%5774=2173%:%
%:%5775=2173%:%
%:%5776=2174%:%
%:%5777=2174%:%
%:%5778=2174%:%
%:%5779=2175%:%
%:%5780=2175%:%
%:%5781=2176%:%
%:%5782=2176%:%
%:%5783=2177%:%
%:%5784=2177%:%
%:%5793=2180%:%
%:%5794=2181%:%
%:%5795=2182%:%
%:%5797=2185%:%
%:%5798=2185%:%
%:%5799=2186%:%
%:%5800=2187%:%
%:%5801=2188%:%
%:%5802=2189%:%
%:%5803=2190%:%
%:%5804=2191%:%
%:%5807=2192%:%
%:%5811=2192%:%
%:%5812=2192%:%
%:%5813=2193%:%
%:%5814=2193%:%
%:%5815=2194%:%
%:%5816=2194%:%
%:%5817=2195%:%
%:%5818=2195%:%
%:%5819=2196%:%
%:%5820=2196%:%
%:%5821=2197%:%
%:%5822=2197%:%
%:%5823=2197%:%
%:%5824=2198%:%
%:%5825=2198%:%
%:%5826=2199%:%
%:%5827=2199%:%
%:%5828=2200%:%
%:%5829=2200%:%
%:%5830=2200%:%
%:%5831=2201%:%
%:%5832=2201%:%
%:%5833=2202%:%
%:%5834=2202%:%
%:%5835=2203%:%
%:%5836=2203%:%
%:%5837=2203%:%
%:%5838=2204%:%
%:%5839=2204%:%
%:%5840=2205%:%
%:%5841=2205%:%
%:%5842=2206%:%
%:%5843=2206%:%
%:%5844=2206%:%
%:%5845=2207%:%
%:%5846=2207%:%
%:%5847=2208%:%
%:%5848=2208%:%
%:%5849=2208%:%
%:%5850=2209%:%
%:%5851=2209%:%
%:%5852=2210%:%
%:%5853=2210%:%
%:%5854=2211%:%
%:%5855=2211%:%
%:%5856=2212%:%
%:%5857=2212%:%
%:%5858=2213%:%
%:%5859=2214%:%
%:%5860=2215%:%
%:%5861=2215%:%
%:%5862=2216%:%
%:%5863=2216%:%
%:%5864=2216%:%
%:%5865=2217%:%
%:%5866=2217%:%
%:%5867=2218%:%
%:%5868=2218%:%
%:%5869=2219%:%
%:%5870=2219%:%
%:%5871=2220%:%
%:%5872=2220%:%
%:%5873=2221%:%
%:%5874=2221%:%
%:%5875=2222%:%
%:%5876=2222%:%
%:%5877=2223%:%
%:%5878=2223%:%
%:%5879=2224%:%
%:%5880=2224%:%
%:%5881=2225%:%
%:%5882=2225%:%
%:%5883=2226%:%
%:%5884=2226%:%
%:%5885=2227%:%
%:%5886=2227%:%
%:%5887=2228%:%
%:%5888=2228%:%
%:%5889=2229%:%
%:%5890=2229%:%
%:%5891=2230%:%
%:%5892=2230%:%
%:%5893=2231%:%
%:%5894=2231%:%
%:%5895=2232%:%
%:%5896=2232%:%
%:%5897=2233%:%
%:%5898=2233%:%
%:%5899=2234%:%
%:%5900=2234%:%
%:%5901=2235%:%
%:%5902=2235%:%
%:%5903=2236%:%
%:%5904=2236%:%
%:%5905=2237%:%
%:%5906=2237%:%
%:%5907=2238%:%
%:%5908=2238%:%
%:%5909=2239%:%
%:%5910=2239%:%
%:%5911=2240%:%
%:%5912=2240%:%
%:%5913=2241%:%
%:%5914=2241%:%
%:%5915=2242%:%
%:%5916=2242%:%
%:%5917=2243%:%
%:%5918=2243%:%
%:%5919=2243%:%
%:%5920=2244%:%
%:%5921=2244%:%
%:%5922=2245%:%
%:%5923=2245%:%
%:%5924=2246%:%
%:%5925=2246%:%
%:%5926=2246%:%
%:%5927=2247%:%
%:%5928=2247%:%
%:%5929=2248%:%
%:%5930=2248%:%
%:%5931=2249%:%
%:%5932=2249%:%
%:%5933=2250%:%
%:%5934=2250%:%
%:%5935=2250%:%
%:%5936=2251%:%
%:%5937=2251%:%
%:%5938=2252%:%
%:%5939=2252%:%
%:%5940=2253%:%
%:%5941=2253%:%
%:%5942=2253%:%
%:%5943=2254%:%
%:%5944=2254%:%
%:%5945=2255%:%
%:%5946=2255%:%
%:%5947=2256%:%
%:%5948=2256%:%
%:%5949=2257%:%
%:%5950=2257%:%
%:%5951=2257%:%
%:%5952=2258%:%
%:%5953=2258%:%
%:%5954=2259%:%
%:%5955=2259%:%
%:%5956=2259%:%
%:%5957=2260%:%
%:%5958=2260%:%
%:%5959=2261%:%
%:%5960=2261%:%
%:%5965=2261%:%
%:%5970=2262%:%
%:%5975=2263%:%
%:%5976=2263%:%
%:%5977=2264%:%
%:%5982=2264%:%
%:%5987=2265%:%
%:%5991=2265%:%
%:%5992=2265%:%
%:%5993=2266%:%
%:%5994=2266%:%
%:%5999=2266%:%
%:%6004=2267%:%
%:%6009=2268%:%
%:%6010=2268%:%
%:%6011=2269%:%
%:%6016=2269%:%
%:%6025=2270%:%
%:%6026=2270%:%
%:%6027=2271%:%
%:%6028=2271%:%
%:%6029=2272%:%
%:%6030=2272%:%
%:%6031=2273%:%
%:%6032=2273%:%
%:%6033=2274%:%
%:%6034=2274%:%
%:%6035=2275%:%
%:%6036=2275%:%
%:%6037=2276%:%
%:%6038=2276%:%
%:%6039=2276%:%
%:%6040=2277%:%
%:%6041=2277%:%
%:%6042=2278%:%
%:%6043=2278%:%
%:%6044=2279%:%
%:%6045=2279%:%
%:%6046=2280%:%
%:%6047=2280%:%
%:%6048=2281%:%
%:%6049=2281%:%
%:%6050=2282%:%
%:%6051=2282%:%
%:%6052=2283%:%
%:%6053=2283%:%
%:%6054=2284%:%
%:%6055=2284%:%
%:%6056=2285%:%
%:%6057=2285%:%
%:%6058=2286%:%
%:%6059=2286%:%
%:%6060=2287%:%
%:%6061=2287%:%
%:%6062=2288%:%
%:%6063=2288%:%
%:%6064=2288%:%
%:%6065=2289%:%
%:%6066=2289%:%
%:%6067=2290%:%
%:%6068=2290%:%
%:%6069=2291%:%
%:%6070=2291%:%
%:%6071=2291%:%
%:%6072=2292%:%
%:%6073=2292%:%
%:%6074=2293%:%
%:%6075=2293%:%
%:%6076=2294%:%
%:%6077=2294%:%
%:%6078=2295%:%
%:%6079=2295%:%
%:%6080=2296%:%
%:%6081=2296%:%
%:%6082=2297%:%
%:%6083=2297%:%
%:%6084=2298%:%
%:%6085=2298%:%
%:%6086=2299%:%
%:%6087=2299%:%
%:%6088=2300%:%
%:%6089=2300%:%
%:%6090=2301%:%
%:%6091=2301%:%
%:%6092=2302%:%
%:%6093=2302%:%
%:%6094=2303%:%
%:%6095=2303%:%
%:%6096=2304%:%
%:%6097=2304%:%
%:%6098=2305%:%
%:%6099=2305%:%
%:%6100=2306%:%
%:%6101=2306%:%
%:%6102=2307%:%
%:%6103=2307%:%
%:%6104=2308%:%
%:%6105=2308%:%
%:%6106=2309%:%
%:%6107=2309%:%
%:%6108=2309%:%
%:%6109=2310%:%
%:%6110=2310%:%
%:%6111=2311%:%
%:%6112=2311%:%
%:%6113=2312%:%
%:%6123=2315%:%
%:%6124=2316%:%
%:%6126=2319%:%
%:%6127=2319%:%
%:%6128=2320%:%
%:%6135=2321%:%
%:%6136=2321%:%
%:%6137=2322%:%
%:%6138=2322%:%
%:%6139=2323%:%
%:%6140=2323%:%
%:%6141=2324%:%
%:%6142=2324%:%
%:%6143=2325%:%
%:%6144=2325%:%
%:%6145=2326%:%
%:%6146=2326%:%
%:%6147=2327%:%
%:%6148=2327%:%
%:%6149=2328%:%
%:%6150=2328%:%
%:%6151=2329%:%
%:%6152=2329%:%
%:%6153=2330%:%
%:%6154=2330%:%
%:%6155=2331%:%
%:%6156=2331%:%
%:%6157=2332%:%
%:%6158=2332%:%
%:%6159=2333%:%
%:%6160=2333%:%
%:%6161=2334%:%
%:%6162=2334%:%
%:%6163=2335%:%
%:%6164=2335%:%
%:%6165=2336%:%
%:%6166=2336%:%
%:%6167=2337%:%
%:%6168=2337%:%
%:%6169=2338%:%
%:%6170=2338%:%
%:%6171=2339%:%
%:%6172=2339%:%
%:%6173=2340%:%
%:%6174=2340%:%
%:%6175=2341%:%
%:%6176=2341%:%
%:%6177=2342%:%
%:%6178=2342%:%
%:%6179=2343%:%
%:%6180=2343%:%
%:%6181=2344%:%
%:%6182=2344%:%
%:%6183=2345%:%
%:%6184=2345%:%
%:%6185=2346%:%
%:%6191=2346%:%
%:%6194=2347%:%
%:%6197=2348%:%
%:%6202=2349%:%
%:%6203=2349%:%
%:%6204=2350%:%
%:%6205=2351%:%
%:%6206=2352%:%
%:%6207=2353%:%
%:%6208=2354%:%
%:%6209=2355%:%
%:%6210=2356%:%
%:%6215=2356%:%
%:%6224=2357%:%
%:%6225=2357%:%
%:%6226=2358%:%
%:%6227=2358%:%
%:%6228=2359%:%
%:%6229=2359%:%
%:%6230=2360%:%
%:%6231=2360%:%
%:%6232=2361%:%
%:%6233=2361%:%
%:%6234=2362%:%
%:%6235=2362%:%
%:%6236=2363%:%
%:%6237=2363%:%
%:%6238=2364%:%
%:%6239=2364%:%
%:%6240=2365%:%
%:%6241=2365%:%
%:%6242=2366%:%
%:%6243=2366%:%
%:%6244=2367%:%
%:%6259=2369%:%
%:%6271=2372%:%
%:%6272=2373%:%
%:%6273=2374%:%
%:%6275=2377%:%
%:%6276=2377%:%
%:%6277=2378%:%
%:%6278=2379%:%
%:%6281=2380%:%
%:%6285=2380%:%
%:%6286=2380%:%
%:%6291=2380%:%
%:%6300=2381%:%
%:%6301=2381%:%
%:%6302=2382%:%
%:%6303=2382%:%
%:%6304=2383%:%
%:%6305=2383%:%
%:%6306=2384%:%
%:%6307=2384%:%
%:%6308=2385%:%
%:%6309=2385%:%
%:%6310=2386%:%
%:%6311=2386%:%
%:%6312=2387%:%
%:%6313=2387%:%
%:%6314=2388%:%
%:%6315=2388%:%
%:%6316=2389%:%
%:%6317=2389%:%
%:%6318=2390%:%
%:%6319=2390%:%
%:%6320=2391%:%
%:%6321=2391%:%
%:%6322=2392%:%
%:%6323=2392%:%
%:%6324=2393%:%
%:%6325=2393%:%
%:%6326=2394%:%
%:%6327=2394%:%
%:%6328=2395%:%
%:%6329=2395%:%
%:%6330=2396%:%
%:%6331=2396%:%
%:%6332=2397%:%
%:%6333=2397%:%
%:%6334=2398%:%
%:%6335=2398%:%
%:%6336=2399%:%
%:%6337=2399%:%
%:%6338=2400%:%
%:%6339=2400%:%
%:%6340=2401%:%
%:%6341=2401%:%
%:%6342=2402%:%
%:%6343=2402%:%
%:%6344=2403%:%
%:%6345=2403%:%
%:%6346=2404%:%
%:%6347=2404%:%
%:%6348=2405%:%
%:%6349=2405%:%
%:%6350=2406%:%
%:%6351=2406%:%
%:%6352=2407%:%
%:%6353=2407%:%
%:%6354=2408%:%
%:%6355=2408%:%
%:%6356=2409%:%
%:%6357=2409%:%
%:%6358=2410%:%
%:%6359=2410%:%
%:%6360=2411%:%
%:%6361=2411%:%
%:%6362=2412%:%
%:%6363=2412%:%
%:%6364=2413%:%
%:%6365=2413%:%
%:%6366=2414%:%
%:%6367=2414%:%
%:%6368=2415%:%
%:%6369=2415%:%
%:%6370=2416%:%
%:%6371=2416%:%
%:%6376=2416%:%
%:%6381=2417%:%
%:%6385=2417%:%
%:%6386=2417%:%
%:%6387=2418%:%
%:%6388=2418%:%
%:%6389=2419%:%
%:%6390=2419%:%
%:%6391=2420%:%
%:%6392=2420%:%
%:%6393=2421%:%
%:%6394=2422%:%
%:%6395=2423%:%
%:%6396=2424%:%
%:%6397=2424%:%
%:%6398=2424%:%
%:%6399=2425%:%
%:%6400=2425%:%
%:%6401=2426%:%
%:%6402=2426%:%
%:%6403=2427%:%
%:%6404=2428%:%
%:%6405=2429%:%
%:%6406=2429%:%
%:%6407=2430%:%
%:%6408=2430%:%
%:%6409=2431%:%
%:%6410=2431%:%
%:%6411=2431%:%
%:%6412=2432%:%
%:%6413=2433%:%
%:%6414=2434%:%
%:%6415=2434%:%
%:%6416=2435%:%
%:%6417=2435%:%
%:%6418=2436%:%
%:%6419=2436%:%
%:%6420=2436%:%
%:%6421=2437%:%
%:%6422=2437%:%
%:%6423=2438%:%
%:%6424=2438%:%
%:%6425=2439%:%
%:%6426=2439%:%
%:%6427=2440%:%
%:%6428=2440%:%
%:%6429=2440%:%
%:%6430=2441%:%
%:%6431=2441%:%
%:%6432=2442%:%
%:%6433=2442%:%
%:%6434=2443%:%
%:%6435=2443%:%
%:%6436=2443%:%
%:%6437=2444%:%
%:%6438=2444%:%
%:%6439=2445%:%
%:%6445=2445%:%
%:%6450=2446%:%
%:%6454=2446%:%
%:%6455=2446%:%
%:%6456=2446%:%
%:%6461=2446%:%
%:%6466=2447%:%
%:%6470=2447%:%
%:%6471=2447%:%
%:%6472=2448%:%
%:%6473=2448%:%
%:%6474=2449%:%
%:%6475=2449%:%
%:%6476=2450%:%
%:%6477=2450%:%
%:%6478=2451%:%
%:%6479=2451%:%
%:%6480=2452%:%
%:%6481=2452%:%
%:%6482=2453%:%
%:%6483=2453%:%
%:%6484=2454%:%
%:%6485=2454%:%
%:%6486=2455%:%
%:%6487=2455%:%
%:%6488=2456%:%
%:%6489=2456%:%
%:%6490=2457%:%
%:%6491=2457%:%
%:%6492=2458%:%
%:%6493=2458%:%
%:%6494=2459%:%
%:%6495=2459%:%
%:%6496=2460%:%
%:%6497=2460%:%
%:%6498=2461%:%
%:%6499=2461%:%
%:%6500=2462%:%
%:%6501=2462%:%
%:%6502=2463%:%
%:%6503=2463%:%
%:%6504=2464%:%
%:%6505=2464%:%
%:%6506=2465%:%
%:%6507=2465%:%
%:%6508=2466%:%
%:%6509=2466%:%
%:%6510=2467%:%
%:%6511=2467%:%
%:%6512=2468%:%
%:%6513=2468%:%
%:%6514=2469%:%
%:%6515=2469%:%
%:%6516=2470%:%
%:%6517=2470%:%
%:%6518=2471%:%
%:%6519=2471%:%
%:%6520=2472%:%
%:%6521=2472%:%
%:%6522=2473%:%
%:%6523=2473%:%
%:%6524=2474%:%
%:%6525=2474%:%
%:%6526=2475%:%
%:%6527=2475%:%
%:%6528=2476%:%
%:%6529=2476%:%
%:%6530=2477%:%
%:%6531=2477%:%
%:%6532=2478%:%
%:%6533=2478%:%
%:%6534=2479%:%
%:%6535=2479%:%
%:%6536=2480%:%
%:%6537=2480%:%
%:%6538=2481%:%
%:%6539=2481%:%
%:%6540=2482%:%
%:%6541=2482%:%
%:%6542=2483%:%
%:%6548=2483%:%
%:%6553=2484%:%
%:%6557=2484%:%
%:%6558=2484%:%
%:%6559=2484%:%
%:%6560=2485%:%
%:%6561=2485%:%
%:%6562=2486%:%
%:%6563=2486%:%
%:%6564=2487%:%
%:%6565=2487%:%
%:%6566=2488%:%
%:%6567=2488%:%
%:%6568=2489%:%
%:%6569=2489%:%
%:%6570=2490%:%
%:%6571=2490%:%
%:%6572=2491%:%
%:%6573=2491%:%
%:%6574=2492%:%
%:%6575=2492%:%
%:%6576=2493%:%
%:%6577=2493%:%
%:%6578=2494%:%
%:%6579=2494%:%
%:%6580=2495%:%
%:%6586=2495%:%
%:%6591=2496%:%
%:%6596=2497%:%
%:%6597=2497%:%
%:%6598=2498%:%
%:%6603=2498%:%
%:%6608=2499%:%
%:%6612=2499%:%
%:%6613=2499%:%
%:%6614=2500%:%
%:%6615=2500%:%
%:%6620=2500%:%
%:%6625=2501%:%
%:%6630=2502%:%
%:%6631=2502%:%
%:%6632=2503%:%
%:%6633=2504%:%
%:%6641=2507%:%
%:%6650=2508%:%
%:%6651=2508%:%
%:%6652=2509%:%
%:%6653=2509%:%
%:%6654=2510%:%
%:%6655=2510%:%
%:%6656=2511%:%
%:%6657=2511%:%
%:%6658=2512%:%
%:%6659=2512%:%
%:%6660=2513%:%
%:%6661=2513%:%
%:%6662=2514%:%
%:%6663=2514%:%
%:%6664=2515%:%
%:%6665=2515%:%
%:%6666=2516%:%
%:%6667=2516%:%
%:%6668=2517%:%
%:%6669=2517%:%
%:%6670=2518%:%
%:%6676=2518%:%
%:%6681=2519%:%
%:%6686=2520%:%
%:%6687=2520%:%
%:%6688=2521%:%
%:%6693=2521%:%
%:%6698=2522%:%
%:%6702=2522%:%
%:%6703=2522%:%
%:%6704=2523%:%
%:%6705=2523%:%
%:%6710=2523%:%
%:%6715=2524%:%
%:%6720=2525%:%
%:%6721=2525%:%
%:%6722=2526%:%
%:%6723=2527%:%
%:%6724=2528%:%
%:%6728=2532%:%
%:%6729=2533%:%
%:%6734=2533%:%
%:%6743=2534%:%
%:%6744=2534%:%
%:%6745=2535%:%
%:%6746=2535%:%
%:%6747=2536%:%
%:%6748=2536%:%
%:%6749=2537%:%
%:%6750=2537%:%
%:%6751=2538%:%
%:%6752=2538%:%
%:%6753=2539%:%
%:%6754=2539%:%
%:%6755=2540%:%
%:%6756=2540%:%
%:%6757=2541%:%
%:%6758=2541%:%
%:%6759=2542%:%
%:%6760=2542%:%
%:%6761=2543%:%
%:%6762=2543%:%
%:%6763=2544%:%
%:%6764=2544%:%
%:%6765=2545%:%
%:%6766=2545%:%
%:%6767=2546%:%
%:%6768=2546%:%
%:%6769=2547%:%
%:%6770=2547%:%
%:%6771=2548%:%
%:%6772=2548%:%
%:%6773=2549%:%
%:%6774=2549%:%
%:%6775=2550%:%
%:%6790=2552%:%
%:%6802=2555%:%
%:%6803=2556%:%
%:%6804=2557%:%
%:%6806=2560%:%
%:%6807=2560%:%
%:%6808=2561%:%
%:%6809=2562%:%
%:%6810=2563%:%
%:%6811=2563%:%
%:%6812=2564%:%
%:%6813=2565%:%
%:%6814=2566%:%
%:%6815=2567%:%
%:%6816=2568%:%
%:%6817=2569%:%
%:%6818=2570%:%
%:%6821=2571%:%
%:%6826=2572%:%
%:%6827=2572%:%
%:%6828=2573%:%
%:%6836=2581%:%
%:%6837=2582%:%
%:%6838=2583%:%
%:%6839=2583%:%
%:%6840=2584%:%
%:%6841=2585%:%
%:%6842=2586%:%
%:%6843=2586%:%
%:%6844=2587%:%
%:%6845=2588%:%
%:%6846=2589%:%
%:%6851=2589%:%
%:%6856=2590%:%
%:%6860=2590%:%
%:%6861=2590%:%
%:%6862=2591%:%
%:%6863=2591%:%
%:%6868=2591%:%
%:%6873=2592%:%
%:%6878=2593%:%
%:%6879=2593%:%
%:%6880=2594%:%
%:%6885=2594%:%
%:%6890=2595%:%
%:%6894=2595%:%
%:%6895=2595%:%
%:%6896=2596%:%
%:%6897=2596%:%
%:%6902=2596%:%
%:%6905=2597%:%
%:%6906=2598%:%
%:%6907=2598%:%
%:%6908=2599%:%
%:%6915=2600%:%
%:%6916=2600%:%
%:%6917=2601%:%
%:%6918=2601%:%
%:%6919=2601%:%
%:%6920=2602%:%
%:%6921=2602%:%
%:%6922=2603%:%
%:%6923=2603%:%
%:%6924=2604%:%
%:%6925=2605%:%
%:%6926=2605%:%
%:%6927=2606%:%
%:%6928=2606%:%
%:%6929=2607%:%
%:%6930=2607%:%
%:%6931=2608%:%
%:%6932=2608%:%
%:%6933=2609%:%
%:%6934=2609%:%
%:%6935=2610%:%
%:%6936=2610%:%
%:%6937=2611%:%
%:%6938=2611%:%
%:%6939=2612%:%
%:%6940=2612%:%
%:%6941=2613%:%
%:%6942=2613%:%
%:%6943=2614%:%
%:%6944=2614%:%
%:%6945=2615%:%
%:%6946=2615%:%
%:%6947=2616%:%
%:%6948=2616%:%
%:%6949=2617%:%
%:%6950=2617%:%
%:%6951=2618%:%
%:%6952=2618%:%
%:%6953=2619%:%
%:%6954=2620%:%
%:%6955=2621%:%
%:%6956=2621%:%
%:%6957=2622%:%
%:%6958=2622%:%
%:%6959=2623%:%
%:%6960=2623%:%
%:%6961=2624%:%
%:%6962=2625%:%
%:%6963=2626%:%
%:%6964=2626%:%
%:%6965=2627%:%
%:%6966=2627%:%
%:%6967=2628%:%
%:%6968=2628%:%
%:%6969=2629%:%
%:%6970=2629%:%
%:%6971=2630%:%
%:%6972=2630%:%
%:%6973=2631%:%
%:%6974=2631%:%
%:%6975=2632%:%
%:%6976=2632%:%
%:%6977=2633%:%
%:%6978=2633%:%
%:%6979=2634%:%
%:%6980=2634%:%
%:%6981=2635%:%
%:%6982=2635%:%
%:%6983=2636%:%
%:%6984=2636%:%
%:%6985=2637%:%
%:%6986=2637%:%
%:%6987=2638%:%
%:%6988=2638%:%
%:%6989=2639%:%
%:%6990=2639%:%
%:%6991=2639%:%
%:%6992=2640%:%
%:%6993=2640%:%
%:%6994=2641%:%
%:%6995=2641%:%
%:%6996=2642%:%
%:%6997=2642%:%
%:%6998=2642%:%
%:%6999=2643%:%
%:%7000=2643%:%
%:%7001=2644%:%
%:%7002=2644%:%
%:%7003=2645%:%
%:%7004=2645%:%
%:%7005=2646%:%
%:%7006=2646%:%
%:%7007=2647%:%
%:%7008=2647%:%
%:%7009=2648%:%
%:%7010=2648%:%
%:%7011=2649%:%
%:%7012=2649%:%
%:%7013=2650%:%
%:%7014=2650%:%
%:%7015=2651%:%
%:%7016=2651%:%
%:%7017=2652%:%
%:%7018=2652%:%
%:%7019=2653%:%
%:%7020=2653%:%
%:%7021=2654%:%
%:%7022=2655%:%
%:%7023=2656%:%
%:%7024=2656%:%
%:%7025=2657%:%
%:%7026=2657%:%
%:%7027=2658%:%
%:%7028=2658%:%
%:%7029=2659%:%
%:%7030=2659%:%
%:%7031=2660%:%
%:%7032=2660%:%
%:%7033=2661%:%
%:%7034=2661%:%
%:%7035=2662%:%
%:%7036=2662%:%
%:%7037=2663%:%
%:%7038=2663%:%
%:%7039=2664%:%
%:%7040=2664%:%
%:%7041=2665%:%
%:%7042=2665%:%
%:%7043=2666%:%
%:%7044=2666%:%
%:%7045=2667%:%
%:%7046=2667%:%
%:%7047=2668%:%
%:%7048=2668%:%
%:%7049=2669%:%
%:%7050=2669%:%
%:%7051=2670%:%
%:%7052=2670%:%
%:%7053=2671%:%
%:%7054=2671%:%
%:%7055=2672%:%
%:%7056=2672%:%
%:%7057=2672%:%
%:%7058=2673%:%
%:%7059=2673%:%
%:%7060=2674%:%
%:%7061=2674%:%
%:%7062=2675%:%
%:%7063=2675%:%
%:%7064=2675%:%
%:%7065=2676%:%
%:%7066=2676%:%
%:%7067=2677%:%
%:%7068=2677%:%
%:%7069=2678%:%
%:%7070=2678%:%
%:%7071=2679%:%
%:%7072=2679%:%
%:%7073=2680%:%
%:%7074=2680%:%
%:%7075=2681%:%
%:%7076=2681%:%
%:%7077=2682%:%
%:%7078=2682%:%
%:%7079=2683%:%
%:%7080=2683%:%
%:%7081=2684%:%
%:%7082=2684%:%
%:%7083=2685%:%
%:%7084=2685%:%
%:%7085=2686%:%
%:%7086=2686%:%
%:%7087=2687%:%
%:%7088=2688%:%
%:%7089=2689%:%
%:%7090=2689%:%
%:%7091=2690%:%
%:%7092=2690%:%
%:%7093=2691%:%
%:%7094=2691%:%
%:%7095=2692%:%
%:%7096=2692%:%
%:%7097=2693%:%
%:%7098=2693%:%
%:%7099=2694%:%
%:%7100=2694%:%
%:%7101=2694%:%
%:%7102=2695%:%
%:%7103=2695%:%
%:%7104=2696%:%
%:%7105=2696%:%
%:%7106=2697%:%
%:%7107=2697%:%
%:%7108=2698%:%
%:%7114=2698%:%
%:%7117=2699%:%
%:%7118=2700%:%
%:%7119=2700%:%
%:%7120=2701%:%
%:%7121=2702%:%
%:%7122=2703%:%
%:%7123=2704%:%
%:%7124=2705%:%
%:%7125=2706%:%
%:%7126=2707%:%
%:%7129=2708%:%
%:%7134=2709%:%
%:%7135=2709%:%
%:%7136=2710%:%
%:%7144=2718%:%
%:%7145=2719%:%
%:%7146=2720%:%
%:%7147=2720%:%
%:%7148=2721%:%
%:%7149=2722%:%
%:%7150=2723%:%
%:%7151=2723%:%
%:%7152=2724%:%
%:%7153=2725%:%
%:%7154=2726%:%
%:%7159=2726%:%
%:%7164=2727%:%
%:%7168=2727%:%
%:%7169=2727%:%
%:%7170=2728%:%
%:%7171=2728%:%
%:%7176=2728%:%
%:%7181=2729%:%
%:%7186=2730%:%
%:%7187=2730%:%
%:%7188=2731%:%
%:%7189=2732%:%
%:%7190=2733%:%
%:%7191=2734%:%
%:%7196=2734%:%
%:%7201=2735%:%
%:%7205=2735%:%
%:%7206=2735%:%
%:%7207=2736%:%
%:%7208=2736%:%
%:%7209=2737%:%
%:%7210=2738%:%
%:%7211=2739%:%
%:%7216=2739%:%
%:%7221=2740%:%
%:%7226=2741%:%
%:%7227=2741%:%
%:%7228=2742%:%
%:%7233=2742%:%
%:%7238=2743%:%
%:%7242=2743%:%
%:%7243=2743%:%
%:%7244=2744%:%
%:%7245=2744%:%
%:%7250=2744%:%
%:%7253=2745%:%
%:%7254=2746%:%
%:%7255=2746%:%
%:%7256=2747%:%
%:%7263=2748%:%
%:%7264=2748%:%
%:%7265=2749%:%
%:%7266=2749%:%
%:%7267=2749%:%
%:%7268=2750%:%
%:%7269=2750%:%
%:%7270=2751%:%
%:%7271=2751%:%
%:%7272=2752%:%
%:%7273=2752%:%
%:%7274=2753%:%
%:%7275=2753%:%
%:%7276=2754%:%
%:%7277=2754%:%
%:%7278=2755%:%
%:%7279=2756%:%
%:%7280=2756%:%
%:%7281=2757%:%
%:%7282=2757%:%
%:%7283=2758%:%
%:%7284=2758%:%
%:%7285=2759%:%
%:%7286=2759%:%
%:%7287=2760%:%
%:%7288=2760%:%
%:%7289=2761%:%
%:%7290=2761%:%
%:%7291=2762%:%
%:%7292=2762%:%
%:%7293=2763%:%
%:%7294=2763%:%
%:%7295=2764%:%
%:%7296=2764%:%
%:%7297=2765%:%
%:%7298=2765%:%
%:%7299=2766%:%
%:%7300=2766%:%
%:%7301=2767%:%
%:%7302=2767%:%
%:%7303=2768%:%
%:%7304=2768%:%
%:%7305=2769%:%
%:%7306=2769%:%
%:%7307=2770%:%
%:%7308=2771%:%
%:%7309=2772%:%
%:%7310=2772%:%
%:%7311=2773%:%
%:%7312=2773%:%
%:%7313=2774%:%
%:%7314=2774%:%
%:%7315=2775%:%
%:%7316=2776%:%
%:%7317=2777%:%
%:%7318=2777%:%
%:%7319=2778%:%
%:%7320=2778%:%
%:%7321=2779%:%
%:%7322=2779%:%
%:%7323=2780%:%
%:%7324=2780%:%
%:%7325=2781%:%
%:%7326=2781%:%
%:%7327=2782%:%
%:%7328=2782%:%
%:%7329=2783%:%
%:%7330=2784%:%
%:%7331=2785%:%
%:%7332=2786%:%
%:%7333=2786%:%
%:%7334=2787%:%
%:%7335=2787%:%
%:%7336=2788%:%
%:%7337=2788%:%
%:%7338=2789%:%
%:%7339=2789%:%
%:%7340=2790%:%
%:%7341=2790%:%
%:%7342=2791%:%
%:%7343=2791%:%
%:%7344=2792%:%
%:%7345=2792%:%
%:%7346=2793%:%
%:%7347=2793%:%
%:%7348=2793%:%
%:%7349=2794%:%
%:%7350=2794%:%
%:%7351=2795%:%
%:%7352=2795%:%
%:%7353=2796%:%
%:%7354=2796%:%
%:%7355=2796%:%
%:%7356=2797%:%
%:%7357=2797%:%
%:%7358=2798%:%
%:%7359=2798%:%
%:%7360=2799%:%
%:%7361=2799%:%
%:%7362=2800%:%
%:%7363=2800%:%
%:%7364=2801%:%
%:%7365=2801%:%
%:%7366=2802%:%
%:%7367=2802%:%
%:%7368=2803%:%
%:%7369=2803%:%
%:%7370=2804%:%
%:%7371=2804%:%
%:%7372=2805%:%
%:%7373=2805%:%
%:%7374=2806%:%
%:%7375=2806%:%
%:%7376=2807%:%
%:%7377=2807%:%
%:%7378=2808%:%
%:%7379=2809%:%
%:%7380=2810%:%
%:%7381=2810%:%
%:%7382=2811%:%
%:%7383=2811%:%
%:%7384=2812%:%
%:%7385=2812%:%
%:%7386=2813%:%
%:%7387=2813%:%
%:%7388=2814%:%
%:%7389=2814%:%
%:%7390=2815%:%
%:%7391=2815%:%
%:%7392=2816%:%
%:%7393=2816%:%
%:%7394=2817%:%
%:%7395=2817%:%
%:%7396=2818%:%
%:%7397=2818%:%
%:%7398=2819%:%
%:%7399=2819%:%
%:%7400=2820%:%
%:%7401=2820%:%
%:%7402=2821%:%
%:%7403=2821%:%
%:%7404=2822%:%
%:%7405=2822%:%
%:%7406=2823%:%
%:%7407=2823%:%
%:%7408=2824%:%
%:%7409=2824%:%
%:%7410=2825%:%
%:%7411=2825%:%
%:%7412=2826%:%
%:%7413=2826%:%
%:%7414=2826%:%
%:%7415=2827%:%
%:%7416=2827%:%
%:%7417=2828%:%
%:%7418=2828%:%
%:%7419=2829%:%
%:%7420=2829%:%
%:%7421=2829%:%
%:%7422=2830%:%
%:%7423=2830%:%
%:%7424=2831%:%
%:%7425=2831%:%
%:%7426=2832%:%
%:%7427=2832%:%
%:%7428=2833%:%
%:%7429=2833%:%
%:%7430=2834%:%
%:%7431=2834%:%
%:%7432=2835%:%
%:%7433=2835%:%
%:%7434=2836%:%
%:%7435=2836%:%
%:%7436=2837%:%
%:%7437=2837%:%
%:%7438=2838%:%
%:%7439=2838%:%
%:%7440=2839%:%
%:%7441=2839%:%
%:%7442=2840%:%
%:%7443=2840%:%
%:%7444=2841%:%
%:%7445=2842%:%
%:%7446=2843%:%
%:%7447=2843%:%
%:%7448=2844%:%
%:%7449=2844%:%
%:%7450=2845%:%
%:%7451=2845%:%
%:%7452=2846%:%
%:%7453=2847%:%
%:%7454=2848%:%
%:%7455=2848%:%
%:%7456=2849%:%
%:%7457=2849%:%
%:%7458=2850%:%
%:%7459=2850%:%
%:%7460=2851%:%
%:%7461=2851%:%
%:%7462=2852%:%
%:%7463=2852%:%
%:%7464=2853%:%
%:%7465=2853%:%
%:%7466=2854%:%
%:%7467=2854%:%
%:%7468=2855%:%
%:%7469=2855%:%
%:%7470=2856%:%
%:%7471=2856%:%
%:%7472=2857%:%
%:%7473=2857%:%
%:%7474=2858%:%
%:%7475=2858%:%
%:%7476=2859%:%
%:%7477=2859%:%
%:%7478=2860%:%
%:%7479=2861%:%
%:%7480=2862%:%
%:%7481=2862%:%
%:%7482=2863%:%
%:%7483=2863%:%
%:%7484=2864%:%
%:%7485=2864%:%
%:%7486=2865%:%
%:%7487=2865%:%
%:%7488=2866%:%
%:%7489=2866%:%
%:%7490=2867%:%
%:%7491=2867%:%
%:%7492=2868%:%
%:%7493=2868%:%
%:%7494=2869%:%
%:%7495=2869%:%
%:%7496=2870%:%
%:%7497=2870%:%
%:%7498=2871%:%
%:%7499=2871%:%
%:%7500=2872%:%
%:%7501=2872%:%
%:%7502=2873%:%
%:%7503=2873%:%
%:%7504=2874%:%
%:%7505=2874%:%
%:%7506=2875%:%
%:%7507=2875%:%
%:%7508=2876%:%
%:%7509=2876%:%
%:%7510=2877%:%
%:%7511=2877%:%
%:%7512=2878%:%
%:%7513=2878%:%
%:%7514=2879%:%
%:%7515=2879%:%
%:%7516=2880%:%
%:%7517=2880%:%
%:%7518=2881%:%
%:%7519=2881%:%
%:%7520=2882%:%
%:%7521=2882%:%
%:%7522=2883%:%
%:%7523=2883%:%
%:%7524=2884%:%
%:%7525=2884%:%
%:%7526=2885%:%
%:%7527=2885%:%
%:%7528=2886%:%
%:%7529=2886%:%
%:%7530=2887%:%
%:%7531=2887%:%
%:%7532=2888%:%
%:%7533=2888%:%
%:%7534=2889%:%
%:%7535=2889%:%
%:%7536=2890%:%
%:%7537=2890%:%
%:%7538=2891%:%
%:%7539=2891%:%
%:%7540=2892%:%
%:%7541=2892%:%
%:%7542=2893%:%
%:%7543=2893%:%
%:%7544=2894%:%
%:%7545=2894%:%
%:%7546=2895%:%
%:%7547=2895%:%
%:%7548=2896%:%
%:%7549=2896%:%
%:%7550=2897%:%
%:%7551=2897%:%
%:%7552=2898%:%
%:%7553=2898%:%
%:%7554=2899%:%
%:%7555=2899%:%
%:%7556=2900%:%
%:%7557=2900%:%
%:%7558=2901%:%
%:%7559=2901%:%
%:%7560=2902%:%
%:%7561=2902%:%
%:%7562=2903%:%
%:%7563=2903%:%
%:%7564=2904%:%
%:%7565=2904%:%
%:%7566=2905%:%
%:%7567=2905%:%
%:%7568=2906%:%
%:%7569=2906%:%
%:%7570=2907%:%
%:%7571=2907%:%
%:%7572=2908%:%
%:%7573=2908%:%
%:%7574=2909%:%
%:%7575=2909%:%
%:%7576=2910%:%
%:%7577=2910%:%
%:%7578=2911%:%
%:%7579=2911%:%
%:%7580=2912%:%
%:%7581=2912%:%
%:%7582=2913%:%
%:%7583=2913%:%
%:%7584=2914%:%
%:%7585=2914%:%
%:%7586=2915%:%
%:%7587=2915%:%
%:%7588=2916%:%
%:%7589=2916%:%
%:%7590=2917%:%
%:%7591=2917%:%
%:%7592=2918%:%
%:%7593=2918%:%
%:%7594=2919%:%
%:%7595=2919%:%
%:%7596=2920%:%
%:%7597=2920%:%
%:%7598=2921%:%
%:%7599=2921%:%
%:%7600=2922%:%
%:%7601=2922%:%
%:%7602=2923%:%
%:%7603=2923%:%
%:%7604=2923%:%
%:%7605=2924%:%
%:%7606=2924%:%
%:%7607=2925%:%
%:%7608=2925%:%
%:%7609=2926%:%
%:%7610=2926%:%
%:%7611=2927%:%
%:%7621=2930%:%
%:%7622=2931%:%
%:%7623=2932%:%
%:%7625=2935%:%
%:%7626=2935%:%
%:%7627=2936%:%
%:%7628=2937%:%
%:%7631=2938%:%
%:%7635=2938%:%
%:%7636=2938%:%
%:%7641=2938%:%
%:%7650=2939%:%
%:%7651=2939%:%
%:%7652=2940%:%
%:%7653=2940%:%
%:%7654=2941%:%
%:%7655=2941%:%
%:%7656=2942%:%
%:%7657=2942%:%
%:%7658=2943%:%
%:%7659=2943%:%
%:%7660=2944%:%
%:%7661=2944%:%
%:%7662=2945%:%
%:%7663=2945%:%
%:%7664=2946%:%
%:%7665=2946%:%
%:%7666=2947%:%
%:%7667=2947%:%
%:%7668=2948%:%
%:%7669=2948%:%
%:%7670=2949%:%
%:%7671=2950%:%
%:%7672=2951%:%
%:%7673=2951%:%
%:%7674=2952%:%
%:%7675=2952%:%
%:%7676=2953%:%
%:%7677=2953%:%
%:%7678=2954%:%
%:%7679=2954%:%
%:%7680=2955%:%
%:%7681=2955%:%
%:%7682=2956%:%
%:%7683=2956%:%
%:%7684=2957%:%
%:%7685=2957%:%
%:%7686=2958%:%
%:%7687=2958%:%
%:%7688=2959%:%
%:%7689=2959%:%
%:%7690=2960%:%
%:%7691=2960%:%
%:%7692=2961%:%
%:%7693=2962%:%
%:%7694=2963%:%
%:%7695=2963%:%
%:%7696=2964%:%
%:%7697=2964%:%
%:%7698=2965%:%
%:%7699=2965%:%
%:%7700=2966%:%
%:%7701=2966%:%
%:%7702=2967%:%
%:%7703=2967%:%
%:%7704=2968%:%
%:%7705=2968%:%
%:%7706=2969%:%
%:%7707=2969%:%
%:%7708=2970%:%
%:%7709=2970%:%
%:%7710=2971%:%
%:%7711=2972%:%
%:%7712=2973%:%
%:%7713=2974%:%
%:%7714=2975%:%
%:%7715=2975%:%
%:%7716=2976%:%
%:%7717=2976%:%
%:%7718=2977%:%
%:%7728=2980%:%
%:%7729=2981%:%
%:%7731=2984%:%
%:%7732=2984%:%
%:%7733=2985%:%
%:%7736=2986%:%
%:%7740=2986%:%
%:%7741=2986%:%
%:%7742=2987%:%
%:%7743=2987%:%
%:%7744=2988%:%
%:%7745=2988%:%
%:%7750=2988%:%
%:%7753=2989%:%
%:%7754=2990%:%
%:%7755=2990%:%
%:%7756=2991%:%
%:%7757=2992%:%
%:%7760=2993%:%
%:%7764=2993%:%
%:%7765=2993%:%
%:%7766=2994%:%
%:%7767=2994%:%
%:%7772=2994%:%
%:%7777=2995%:%
%:%7782=2996%:%