%
\begin{isabellebody}%
\setisabellecontext{BFS}%
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsection{BFS%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\begin{isamarkuptext}%
This section specifies and verifies breadth-first search (BFS). More specifically, we verify that
given a directed graph $G$ and a source vertex $s$, the output of the algorithm induces a
breadth-first tree $T$ of $G$ w.r.t.\ $s$, that is, $T$ consists of the vertices reachable from $s$
in $G$, and for every vertex $v$ in $T$, $T$ contains a unique simple path from $s$ to $v$ that is
also a shortest path from $s$ to $v$ in $G$.%
\end{isamarkuptext}\isamarkuptrue%
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
\isacommand{theory}\isamarkupfalse%
\ BFS\isanewline
\ \ \isakeyword{imports}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharslash}{\kern0pt}Graph{\isacharslash}{\kern0pt}Adjacency{\isacharslash}{\kern0pt}Directed{\isacharunderscore}{\kern0pt}Adjacency{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharslash}{\kern0pt}Graph{\isacharslash}{\kern0pt}Directed{\isacharunderscore}{\kern0pt}Graph{\isacharslash}{\kern0pt}Directed{\isacharunderscore}{\kern0pt}Graph{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharslash}{\kern0pt}Map{\isacharslash}{\kern0pt}Map{\isacharunderscore}{\kern0pt}Specs{\isacharunderscore}{\kern0pt}Ext{\isachardoublequoteclose}\isanewline
\ \ \ \ Parent{\isacharunderscore}{\kern0pt}Relation\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharslash}{\kern0pt}Queue{\isacharslash}{\kern0pt}Queue{\isacharunderscore}{\kern0pt}Specs{\isachardoublequoteclose}\isanewline
\isakeyword{begin}%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Specification of the algorithm%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{record}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}q{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}m{\isacharparenright}{\kern0pt}\ state\ {\isacharequal}{\kern0pt}\isanewline
\ \ queue\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacharprime}{\kern0pt}q\isanewline
\ \ parent\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}m{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{locale}\isamarkupfalse%
\ bfs\ {\isacharequal}{\kern0pt}\isanewline
\ \ G{\isacharcolon}{\kern0pt}\ adjacency\ \isakeyword{where}\ Map{\isacharunderscore}{\kern0pt}update\ {\isacharequal}{\kern0pt}\ Map{\isacharunderscore}{\kern0pt}update\ {\isacharplus}{\kern0pt}\isanewline
\ \ P{\isacharcolon}{\kern0pt}\ Map\ \isakeyword{where}\isanewline
\ \ empty\ {\isacharequal}{\kern0pt}\ P{\isacharunderscore}{\kern0pt}empty\ \isakeyword{and}\isanewline
\ \ update\ {\isacharequal}{\kern0pt}\ P{\isacharunderscore}{\kern0pt}update\ \isakeyword{and}\isanewline
\ \ delete\ {\isacharequal}{\kern0pt}\ P{\isacharunderscore}{\kern0pt}delete\ \isakeyword{and}\isanewline
\ \ lookup\ {\isacharequal}{\kern0pt}\ P{\isacharunderscore}{\kern0pt}lookup\ \isakeyword{and}\isanewline
\ \ invar\ {\isacharequal}{\kern0pt}\ P{\isacharunderscore}{\kern0pt}invar\ {\isacharplus}{\kern0pt}\isanewline
\ \ Q{\isacharcolon}{\kern0pt}\ Queue\ \isakeyword{where}\isanewline
\ \ empty\ {\isacharequal}{\kern0pt}\ Q{\isacharunderscore}{\kern0pt}empty\ \isakeyword{and}\isanewline
\ \ is{\isacharunderscore}{\kern0pt}empty\ {\isacharequal}{\kern0pt}\ Q{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ \isakeyword{and}\isanewline
\ \ snoc\ {\isacharequal}{\kern0pt}\ Q{\isacharunderscore}{\kern0pt}snoc\ \isakeyword{and}\isanewline
\ \ head\ {\isacharequal}{\kern0pt}\ Q{\isacharunderscore}{\kern0pt}head\ \isakeyword{and}\isanewline
\ \ tail\ {\isacharequal}{\kern0pt}\ Q{\isacharunderscore}{\kern0pt}tail\ \isakeyword{and}\isanewline
\ \ invar\ {\isacharequal}{\kern0pt}\ Q{\isacharunderscore}{\kern0pt}invar\ \isakeyword{and}\isanewline
\ \ list\ {\isacharequal}{\kern0pt}\ Q{\isacharunderscore}{\kern0pt}list\ \isakeyword{for}\isanewline
\ \ Map{\isacharunderscore}{\kern0pt}update\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}linorder\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}s\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}n\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}n{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ P{\isacharunderscore}{\kern0pt}empty\ \isakeyword{and}\isanewline
\ \ P{\isacharunderscore}{\kern0pt}update\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ P{\isacharunderscore}{\kern0pt}delete\ \isakeyword{and}\isanewline
\ \ P{\isacharunderscore}{\kern0pt}lookup\ \isakeyword{and}\isanewline
\ \ P{\isacharunderscore}{\kern0pt}invar\ \isakeyword{and}\isanewline
\ \ Q{\isacharunderscore}{\kern0pt}empty\ \isakeyword{and}\isanewline
\ \ Q{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ \isakeyword{and}\isanewline
\ \ Q{\isacharunderscore}{\kern0pt}snoc\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}q\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}q{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ Q{\isacharunderscore}{\kern0pt}head\ \isakeyword{and}\isanewline
\ \ Q{\isacharunderscore}{\kern0pt}tail\ \isakeyword{and}\isanewline
\ \ Q{\isacharunderscore}{\kern0pt}invar\ \isakeyword{and}\isanewline
\ \ Q{\isacharunderscore}{\kern0pt}list\isanewline
\isakeyword{begin}%
\begin{isamarkuptext}%
Our specification of BFS maintains a first-in first-out queue, initialized to contain the source
vertex \isa{src}, and a parent map, initialized to the empty map. As long as the queue is not
empty, the algorithm pops the head \isa{u} of the queue, and for every adjacent vertex \isa{v},
discovers \isa{v} if it hasn't been discovered yet, where discovering \isa{v} entails adding
\isa{v} to the queue as well as setting \isa{v}'s parent to \isa{u}.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{definition}\isamarkupfalse%
\ init\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}q{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}m{\isacharparenright}{\kern0pt}\ state{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}init\ src\ {\isasymequiv}\isanewline
\ \ \ {\isasymlparr}queue\ {\isacharequal}{\kern0pt}\ Q{\isacharunderscore}{\kern0pt}snoc\ Q{\isacharunderscore}{\kern0pt}empty\ src{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ parent\ {\isacharequal}{\kern0pt}\ P{\isacharunderscore}{\kern0pt}empty{\isasymrparr}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ DONE\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}q{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}m{\isacharparenright}{\kern0pt}\ state\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}DONE\ s\ {\isasymlongleftrightarrow}\ Q{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}discovered\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}discovered\ src\ m\ v\ {\isasymlongleftrightarrow}\ v\ {\isacharequal}{\kern0pt}\ src\ {\isasymor}\ P{\isacharunderscore}{\kern0pt}lookup\ m\ v\ {\isasymnoteq}\ None{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ discover\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}q{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}m{\isacharparenright}{\kern0pt}\ state\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}q{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}m{\isacharparenright}{\kern0pt}\ state{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}discover\ u\ v\ s\ {\isasymequiv}\isanewline
\ \ \ {\isasymlparr}queue\ {\isacharequal}{\kern0pt}\ Q{\isacharunderscore}{\kern0pt}snoc\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}\ v{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ parent\ {\isacharequal}{\kern0pt}\ P{\isacharunderscore}{\kern0pt}update\ v\ u\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isasymrparr}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ traverse{\isacharunderscore}{\kern0pt}edge\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}q{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}m{\isacharparenright}{\kern0pt}\ state\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}q{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}m{\isacharparenright}{\kern0pt}\ state{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u\ v\ s\ {\isasymequiv}\isanewline
\ \ \ if\ {\isasymnot}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v\ then\ discover\ u\ v\ s\isanewline
\ \ \ else\ s{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{function}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}domintros{\isacharparenright}{\kern0pt}\ loop\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}n\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}q{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}m{\isacharparenright}{\kern0pt}\ state\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}q{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}m{\isacharparenright}{\kern0pt}\ state{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}loop\ G\ src\ s\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ {\isacharparenleft}{\kern0pt}if\ {\isasymnot}\ DONE\ s\isanewline
\ \ \ \ then\ let\isanewline
\ \ \ \ \ \ \ \ \ \ u\ {\isacharequal}{\kern0pt}\ Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharsemicolon}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ q\ {\isacharequal}{\kern0pt}\ Q{\isacharunderscore}{\kern0pt}tail\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ in\ loop\ G\ src\ {\isacharparenleft}{\kern0pt}fold\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ u{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}s{\isasymlparr}queue\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ q{\isasymrparr}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ else\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ pat{\isacharunderscore}{\kern0pt}completeness\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ bfs\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}n\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}bfs\ G\ src\ {\isasymequiv}\ parent\ {\isacharparenleft}{\kern0pt}loop\ G\ src\ {\isacharparenleft}{\kern0pt}init\ src{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\ fold\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}n\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}q{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}m{\isacharparenright}{\kern0pt}\ state\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}q{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}m{\isacharparenright}{\kern0pt}\ state{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}fold\ G\ src\ s\ {\isasymequiv}\isanewline
\ \ \ List{\isachardot}{\kern0pt}fold\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}s{\isasymlparr}queue\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ Q{\isacharunderscore}{\kern0pt}tail\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isasymrparr}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\ T\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ dgraph{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}T\ m\ {\isasymequiv}\ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ P{\isacharunderscore}{\kern0pt}lookup\ m\ v\ {\isacharequal}{\kern0pt}\ Some\ u{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{end}\isamarkupfalse%
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Verification of the correctness of the algorithm%
}
\isamarkuptrue%
%
\isamarkupsubsubsection{Assumptions on the input%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\begin{isamarkuptext}%
Algorithm \isa{bfs{\isachardot}{\kern0pt}bfs} expects a directed graph \isa{G} and a source vertex \isa{src} in
\isa{G} as input, and the correctness theorem will assume such an input. We remark that the
assumption that \isa{src} is indeed a vertex in \isa{G} is for the purpose of convenience. Let
us formally specify these assumptions.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{locale}\isamarkupfalse%
\ bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input\ {\isacharequal}{\kern0pt}\ bfs\ \isakeyword{where}\isanewline
\ \ Map{\isacharunderscore}{\kern0pt}update\ {\isacharequal}{\kern0pt}\ Map{\isacharunderscore}{\kern0pt}update\ \isakeyword{and}\isanewline
\ \ P{\isacharunderscore}{\kern0pt}update\ {\isacharequal}{\kern0pt}\ P{\isacharunderscore}{\kern0pt}update\ \isakeyword{and}\isanewline
\ \ Q{\isacharunderscore}{\kern0pt}snoc\ {\isacharequal}{\kern0pt}\ Q{\isacharunderscore}{\kern0pt}snoc\ \isakeyword{for}\isanewline
\ \ Map{\isacharunderscore}{\kern0pt}update\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}linorder\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}s\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}n\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}n{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ P{\isacharunderscore}{\kern0pt}update\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ Q{\isacharunderscore}{\kern0pt}snoc\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}q\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}q{\isachardoublequoteclose}\ {\isacharplus}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ G\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacharprime}{\kern0pt}n\isanewline
\ \ \isakeyword{fixes}\ src\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacharprime}{\kern0pt}a\isanewline
\ \ \isakeyword{assumes}\ invar{\isacharunderscore}{\kern0pt}G{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ src{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}dV{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}src\ {\isasymin}\ G{\isachardot}{\kern0pt}dV\ G{\isachardoublequoteclose}\isanewline
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{abbreviation}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharprime}{\kern0pt}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}n\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharprime}{\kern0pt}\ G\ src\ {\isasymequiv}\isanewline
\ \ \ bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input\isanewline
\ \ \ \ Map{\isacharunderscore}{\kern0pt}empty\ Map{\isacharunderscore}{\kern0pt}delete\ Map{\isacharunderscore}{\kern0pt}lookup\ Map{\isacharunderscore}{\kern0pt}inorder\ Map{\isacharunderscore}{\kern0pt}inv\isanewline
\ \ \ \ Set{\isacharunderscore}{\kern0pt}empty\ Set{\isacharunderscore}{\kern0pt}insert\ Set{\isacharunderscore}{\kern0pt}delete\ Set{\isacharunderscore}{\kern0pt}isin\ Set{\isacharunderscore}{\kern0pt}inorder\ Set{\isacharunderscore}{\kern0pt}inv\isanewline
\ \ \ \ P{\isacharunderscore}{\kern0pt}empty\ P{\isacharunderscore}{\kern0pt}delete\ P{\isacharunderscore}{\kern0pt}lookup\ P{\isacharunderscore}{\kern0pt}invar\isanewline
\ \ \ \ Q{\isacharunderscore}{\kern0pt}empty\ Q{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ Q{\isacharunderscore}{\kern0pt}head\ Q{\isacharunderscore}{\kern0pt}tail\ Q{\isacharunderscore}{\kern0pt}invar\ Q{\isacharunderscore}{\kern0pt}list\isanewline
\ \ \ \ Map{\isacharunderscore}{\kern0pt}update\ P{\isacharunderscore}{\kern0pt}update\ Q{\isacharunderscore}{\kern0pt}snoc\ G\ src{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
%
\endisadeliminvisible
%
\begin{isamarkuptext}%
Graph \isa{G} is represented as an \isa{adjacency}, that is, as a \isa{Map{\isacharunderscore}{\kern0pt}by{\isacharunderscore}{\kern0pt}Ordered}
mapping a vertex to its adjacency, which is represented as a \isa{Set{\isacharunderscore}{\kern0pt}by{\isacharunderscore}{\kern0pt}Ordered}.%
\end{isamarkuptext}\isamarkuptrue%
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsubsection{Loop invariants%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\begin{isamarkuptext}%
Unfolding the definition of algorithm \isa{bfs{\isachardot}{\kern0pt}bfs}, we see that recursive function
\isa{bfs{\isachardot}{\kern0pt}loop} lies at the heart of the algorithm. It expects an input
$\langle \isa{G},\isa{src},\isa{s}\rangle$, which constitutes the program state, such that

%
\begin{itemize}%
\item \isa{G}, \isa{src} satisfy the assumptions specified above, and

\item \isa{s} comprises a queue and a parent map satisfying the assumptions stated below.%
\end{itemize}


As \isa{s} is the only state variable that is subject to change from one iteration to the next,
the following assumptions constitute the (non-trivial) loop invariants of \isa{bfs{\isachardot}{\kern0pt}loop}.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{abbreviation}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ white\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}q{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}m{\isacharparenright}{\kern0pt}\ state\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}white\ s\ v\ {\isasymequiv}\ {\isasymnot}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ gray\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}q{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}m{\isacharparenright}{\kern0pt}\ state\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}gray\ s\ v\ {\isasymequiv}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v\ {\isasymand}\ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ black\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}q{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}m{\isacharparenright}{\kern0pt}\ state\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}black\ s\ v\ {\isasymequiv}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v\ {\isasymand}\ v\ {\isasymnotin}\ set\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ rev{\isacharunderscore}{\kern0pt}follow\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ dpath{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}rev{\isacharunderscore}{\kern0pt}follow\ m\ v\ {\isasymequiv}\ rev\ {\isacharparenleft}{\kern0pt}parent{\isachardot}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ m{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ d\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ nat{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}d\ m\ v\ {\isasymequiv}\ dpath{\isacharunderscore}{\kern0pt}length\ {\isacharparenleft}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow\ m\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{locale}\isamarkupfalse%
\ bfs{\isacharunderscore}{\kern0pt}invar\ {\isacharequal}{\kern0pt}\isanewline
\ \ bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input\ \isakeyword{where}\ P{\isacharunderscore}{\kern0pt}update\ {\isacharequal}{\kern0pt}\ P{\isacharunderscore}{\kern0pt}update\ \isakeyword{and}\ Q{\isacharunderscore}{\kern0pt}snoc\ {\isacharequal}{\kern0pt}\ Q{\isacharunderscore}{\kern0pt}snoc\ {\isacharplus}{\kern0pt}\isanewline
\ \ parent\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{for}\isanewline
\ \ P{\isacharunderscore}{\kern0pt}update\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}linorder\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ Q{\isacharunderscore}{\kern0pt}snoc\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}q\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}q{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ s\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}q{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}m{\isacharparenright}{\kern0pt}\ state{\isachardoublequoteclose}\ {\isacharplus}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ invar{\isacharunderscore}{\kern0pt}queue{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ invar{\isacharunderscore}{\kern0pt}parent{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ parent{\isacharunderscore}{\kern0pt}src{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ src\ {\isacharequal}{\kern0pt}\ None{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ parent{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}edge{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ Some\ u\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isasymin}\ G{\isachardot}{\kern0pt}dE\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}queue{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ {\isasymnot}\ white\ s\ v{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}parent{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ Some\ u\ {\isasymLongrightarrow}\ {\isasymnot}\ white\ s\ u{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ black{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymlbrakk}\ {\isacharparenleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isasymin}\ G{\isachardot}{\kern0pt}dE\ G{\isacharsemicolon}{\kern0pt}\ black\ s\ u\ {\isasymrbrakk}\ {\isasymLongrightarrow}\ {\isasymnot}\ white\ s\ v{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ queue{\isacharunderscore}{\kern0pt}sorted{\isacharunderscore}{\kern0pt}wrt{\isacharunderscore}{\kern0pt}d{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}wrt\ {\isacharparenleft}{\kern0pt}{\isasymlambda}u\ v{\isachardot}{\kern0pt}\ d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ u\ {\isasymle}\ d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ d{\isacharunderscore}{\kern0pt}last{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}le{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymnot}\ Q{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}last\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\ d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ d{\isacharunderscore}{\kern0pt}triangle{\isacharunderscore}{\kern0pt}inequality{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymlbrakk}\ dpath{\isacharunderscore}{\kern0pt}bet\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}dE\ G{\isacharparenright}{\kern0pt}\ p\ u\ v{\isacharsemicolon}{\kern0pt}\ {\isasymnot}\ white\ s\ u{\isacharsemicolon}{\kern0pt}\ {\isasymnot}\ white\ s\ v\ {\isasymrbrakk}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v\ {\isasymle}\ d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ u\ {\isacharplus}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}length\ p{\isachardoublequoteclose}\isanewline
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{abbreviation}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharprime}{\kern0pt}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}n\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}q{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}m{\isacharparenright}{\kern0pt}\ state\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}bfs{\isacharunderscore}{\kern0pt}invar{\isacharprime}{\kern0pt}\ G\ src\ s\ {\isasymequiv}\isanewline
\ \ \ bfs{\isacharunderscore}{\kern0pt}invar\isanewline
\ \ \ \ Map{\isacharunderscore}{\kern0pt}empty\ Map{\isacharunderscore}{\kern0pt}delete\ Map{\isacharunderscore}{\kern0pt}lookup\ Map{\isacharunderscore}{\kern0pt}inorder\ Map{\isacharunderscore}{\kern0pt}inv\isanewline
\ \ \ \ Set{\isacharunderscore}{\kern0pt}empty\ Set{\isacharunderscore}{\kern0pt}insert\ Set{\isacharunderscore}{\kern0pt}delete\ Set{\isacharunderscore}{\kern0pt}isin\ Set{\isacharunderscore}{\kern0pt}inorder\ Set{\isacharunderscore}{\kern0pt}inv\isanewline
\ \ \ \ P{\isacharunderscore}{\kern0pt}empty\ P{\isacharunderscore}{\kern0pt}delete\ P{\isacharunderscore}{\kern0pt}lookup\ P{\isacharunderscore}{\kern0pt}invar\isanewline
\ \ \ \ Q{\isacharunderscore}{\kern0pt}empty\ Q{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ Q{\isacharunderscore}{\kern0pt}head\ Q{\isacharunderscore}{\kern0pt}tail\ Q{\isacharunderscore}{\kern0pt}invar\ Q{\isacharunderscore}{\kern0pt}list\isanewline
\ \ \ \ Map{\isacharunderscore}{\kern0pt}update\ G\ src\ P{\isacharunderscore}{\kern0pt}update\ Q{\isacharunderscore}{\kern0pt}snoc\ s{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}q{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}m{\isacharparenright}{\kern0pt}\ state\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}bfs{\isacharunderscore}{\kern0pt}invar{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ {\isasymequiv}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharprime}{\kern0pt}\ G\ src{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ follow{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}init{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}follow{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}init\ src{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ wf{\isacharunderscore}{\kern0pt}empty\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ init{\isacharunderscore}{\kern0pt}def\ P{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}empty\ follow{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}init{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}init\ src{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ Q{\isachardot}{\kern0pt}invar{\isacharunderscore}{\kern0pt}empty\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ init{\isacharunderscore}{\kern0pt}def\ intro{\isacharcolon}{\kern0pt}\ Q{\isachardot}{\kern0pt}invar{\isacharunderscore}{\kern0pt}snoc{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}init{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}init\ src{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ P{\isachardot}{\kern0pt}invar{\isacharunderscore}{\kern0pt}empty\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ init{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ parent{\isacharunderscore}{\kern0pt}src{\isacharunderscore}{\kern0pt}init{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}init\ src{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ src\ {\isacharequal}{\kern0pt}\ None{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ init{\isacharunderscore}{\kern0pt}def\ P{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}empty{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ parent{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}edge{\isacharunderscore}{\kern0pt}init{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}init\ src{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ Some\ u{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isasymin}\ G{\isachardot}{\kern0pt}dE\ G{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ init{\isacharunderscore}{\kern0pt}def\ P{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}empty{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}init{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}init\ src{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymnot}\ white\ {\isacharparenleft}{\kern0pt}init\ src{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ Q{\isachardot}{\kern0pt}invar{\isacharunderscore}{\kern0pt}empty\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ init{\isacharunderscore}{\kern0pt}def\ Q{\isachardot}{\kern0pt}list{\isacharunderscore}{\kern0pt}snoc\ Q{\isachardot}{\kern0pt}list{\isacharunderscore}{\kern0pt}empty\ is{\isacharunderscore}{\kern0pt}discovered{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}init{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}init\ src{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ Some\ u{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymnot}\ white\ {\isacharparenleft}{\kern0pt}init\ src{\isacharparenright}{\kern0pt}\ u{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ init{\isacharunderscore}{\kern0pt}def\ P{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}empty{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ black{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}init{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}black\ {\isacharparenleft}{\kern0pt}init\ src{\isacharparenright}{\kern0pt}\ u{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isasymin}\ G{\isachardot}{\kern0pt}dE\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymnot}\ white\ s\ v{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}u\ {\isacharequal}{\kern0pt}\ src{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}discovered{\isacharunderscore}{\kern0pt}def\ init{\isacharunderscore}{\kern0pt}def\ P{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}empty{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ Q{\isachardot}{\kern0pt}invar{\isacharunderscore}{\kern0pt}empty\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ init{\isacharunderscore}{\kern0pt}def\ Q{\isachardot}{\kern0pt}list{\isacharunderscore}{\kern0pt}snoc{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ queue{\isacharunderscore}{\kern0pt}sorted{\isacharunderscore}{\kern0pt}wrt{\isacharunderscore}{\kern0pt}d{\isacharunderscore}{\kern0pt}init{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}wrt\ {\isacharparenleft}{\kern0pt}{\isasymlambda}u\ v{\isachardot}{\kern0pt}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}init\ src{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ u\ {\isasymle}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}init\ src{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}init\ src{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ Q{\isachardot}{\kern0pt}invar{\isacharunderscore}{\kern0pt}empty\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ init{\isacharunderscore}{\kern0pt}def\ Q{\isachardot}{\kern0pt}list{\isacharunderscore}{\kern0pt}snoc\ Q{\isachardot}{\kern0pt}list{\isacharunderscore}{\kern0pt}empty{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ d{\isacharunderscore}{\kern0pt}last{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}init{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymnot}\ Q{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}init\ src{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}init\ src{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}last\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}init\ src{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\isanewline
\ \ \ \ \ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}init\ src{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}init\ src{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ Q{\isachardot}{\kern0pt}invar{\isacharunderscore}{\kern0pt}empty\ invar{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}init\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ init{\isacharunderscore}{\kern0pt}def\ Q{\isachardot}{\kern0pt}list{\isacharunderscore}{\kern0pt}snoc\ Q{\isachardot}{\kern0pt}list{\isacharunderscore}{\kern0pt}empty\ Q{\isachardot}{\kern0pt}list{\isacharunderscore}{\kern0pt}head{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ d{\isacharunderscore}{\kern0pt}triangle{\isacharunderscore}{\kern0pt}inequality{\isacharunderscore}{\kern0pt}init{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}dpath{\isacharunderscore}{\kern0pt}bet\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}dE\ G{\isacharparenright}{\kern0pt}\ p\ u\ v{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymnot}\ white\ {\isacharparenleft}{\kern0pt}init\ src{\isacharparenright}{\kern0pt}\ u{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymnot}\ white\ {\isacharparenleft}{\kern0pt}init\ src{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}init\ src{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v\ {\isasymle}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}init\ src{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ u\ {\isacharplus}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}length\ p{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}discovered{\isacharunderscore}{\kern0pt}def\ init{\isacharunderscore}{\kern0pt}def\ P{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}empty{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
As mentioned above, state \isa{s} comprises a queue, represented as a \isa{Queue}, and a map,
represented as a \isa{Map}.%
\end{isamarkuptext}\isamarkuptrue%
%
\begin{isamarkuptext}%
Invariant \isa{bfs{\isacharunderscore}{\kern0pt}invar{\isachardot}{\kern0pt}black{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white} says that all vertices adjacent to a black
vertex have been discovered.%
\end{isamarkuptext}\isamarkuptrue%
%
\begin{isamarkuptext}%
For a vertex \isa{v}, let $d(\isa{v})=\isa{d\ {\isacharparenleft}{\kern0pt}state{\isachardot}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v}$ denote the distance from the
source \isa{src} to \isa{v} induced by the current state \isa{s}.%
\end{isamarkuptext}\isamarkuptrue%
%
\begin{isamarkuptext}%
Let $\langle v_1,\dots,v_k\rangle$ be the contents of the queue, where $v_1$ is the head. Then
invariant \isa{bfs{\isacharunderscore}{\kern0pt}invar{\isachardot}{\kern0pt}queue{\isacharunderscore}{\kern0pt}sorted{\isacharunderscore}{\kern0pt}wrt{\isacharunderscore}{\kern0pt}d} says that $d(v_i)\leq d(v_{i+1})$ for all $i<k$. And
invariant \isa{bfs{\isacharunderscore}{\kern0pt}invar{\isachardot}{\kern0pt}d{\isacharunderscore}{\kern0pt}last{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}le} says that $d(v_k)\leq d(v_1)+1$. That is, the current
queue holds at most two distinct $d$ values.%
\end{isamarkuptext}\isamarkuptrue%
%
\begin{isamarkuptext}%
Finally, invariant \isa{bfs{\isacharunderscore}{\kern0pt}invar{\isachardot}{\kern0pt}d{\isacharunderscore}{\kern0pt}triangle{\isacharunderscore}{\kern0pt}inequality} says that \isa{d} satisfies a variant of
the triangle inequality. More specifically, if there is a path in \isa{G} between two vertices
\isa{u}, \isa{v} that both have been discovered by the algorithm, then their \isa{d} values
differ by at most the length of that path.%
\end{isamarkuptext}\isamarkuptrue%
%
\begin{isamarkuptext}%
To verify the correctness of loop \isa{bfs{\isachardot}{\kern0pt}loop}, we need to show that

%
\begin{enumerate}%
\item the loop invariants are satisfied prior to the first iteration of the loop, and that

\item the loop invariants are maintained.%
\end{enumerate}


Let us start with the former, that is, let us prove that the initial configurations of the
queue--containing only the source vertex \isa{src}--and parent map--the empty map--satisfy the
loop invariants.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}init{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}bfs{\isacharunderscore}{\kern0pt}invar{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}init\ src{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}standard{\isacharcomma}{\kern0pt}\ goal{\isacharunderscore}{\kern0pt}cases{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{1}}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{using}\isamarkupfalse%
\ follow{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}init\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{2}}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}init\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{3}}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}init\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{4}}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{using}\isamarkupfalse%
\ parent{\isacharunderscore}{\kern0pt}src{\isacharunderscore}{\kern0pt}init\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{5}}\ v\ u{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ parent{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}edge{\isacharunderscore}{\kern0pt}init{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{6}}\ v{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}init{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{7}}\ v\ u{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}init{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{8}}\ u\ v{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ black{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}init{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{9}}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{using}\isamarkupfalse%
\ queue{\isacharunderscore}{\kern0pt}sorted{\isacharunderscore}{\kern0pt}wrt{\isacharunderscore}{\kern0pt}d{\isacharunderscore}{\kern0pt}init\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{1}}{\isadigit{0}}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ d{\isacharunderscore}{\kern0pt}last{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}init{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{1}}\ p\ u\ v{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ d{\isacharunderscore}{\kern0pt}triangle{\isacharunderscore}{\kern0pt}inequality{\isacharunderscore}{\kern0pt}init{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
Let us now verify that the loop invariants are maintained, that is, if they hold at the start of an
iteration of loop \isa{bfs{\isachardot}{\kern0pt}loop}, then they will also hold at the end. For this, let us first look
at how the different subroutines change the queue and parent map.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ queue{\isacharunderscore}{\kern0pt}discover{\isacharunderscore}{\kern0pt}cong\ {\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}queue\ {\isacharparenleft}{\kern0pt}discover\ u\ v\ s{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Q{\isacharunderscore}{\kern0pt}snoc\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ discover{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ parent{\isacharunderscore}{\kern0pt}discover{\isacharunderscore}{\kern0pt}cong\ {\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}parent\ {\isacharparenleft}{\kern0pt}discover\ u\ v\ s{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ P{\isacharunderscore}{\kern0pt}update\ v\ u\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ discover{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ queue{\isacharunderscore}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}queue\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u\ v\ s{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}if\ {\isasymnot}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v\ then\ Q{\isacharunderscore}{\kern0pt}snoc\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}\ v\ else\ queue\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ traverse{\isacharunderscore}{\kern0pt}edge{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u\ v\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ Q{\isachardot}{\kern0pt}invar{\isacharunderscore}{\kern0pt}snoc\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ queue{\isacharunderscore}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u\ v\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}\ {\isacharat}{\kern0pt}\ {\isacharparenleft}{\kern0pt}if\ {\isasymnot}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v\ then\ {\isacharbrackleft}{\kern0pt}v{\isacharbrackright}{\kern0pt}\ else\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ queue{\isacharunderscore}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge{\isacharunderscore}{\kern0pt}cong\ Q{\isachardot}{\kern0pt}list{\isacharunderscore}{\kern0pt}snoc{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u\ v\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ P{\isachardot}{\kern0pt}invar{\isacharunderscore}{\kern0pt}update\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ traverse{\isacharunderscore}{\kern0pt}edge{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ lookup{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u\ v\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ override{\isacharunderscore}{\kern0pt}on\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharunderscore}{\kern0pt}{\isachardot}{\kern0pt}\ Some\ u{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}if\ {\isasymnot}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v\ then\ {\isacharbraceleft}{\kern0pt}v{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ traverse{\isacharunderscore}{\kern0pt}edge{\isacharunderscore}{\kern0pt}def\ P{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}update\ override{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}insert{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ T{\isacharunderscore}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}T\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u\ v\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ T\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}if\ {\isasymnot}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v\ then\ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ lookup{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge{\isacharunderscore}{\kern0pt}cong\ override{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ is{\isacharunderscore}{\kern0pt}discovered{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharunderscore}{\kern0pt}aux{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}distinct\ {\isacharparenleft}{\kern0pt}v\ {\isacharhash}{\kern0pt}\ vs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}filter\ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u\ v\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ vs\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ vs{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ filter{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ w\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}w\ {\isasymin}\ set\ vs{\isachardoublequoteclose}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u\ v\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ w\ {\isacharequal}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ w{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}discovered{\isacharunderscore}{\kern0pt}def\ lookup{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge{\isacharunderscore}{\kern0pt}cong\ override{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}insert{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u\ v\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ w\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ w{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}distinct\ l{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}List{\isachardot}{\kern0pt}fold\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u{\isacharparenright}{\kern0pt}\ l\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}\ {\isacharat}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ l{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ l\ arbitrary{\isacharcolon}{\kern0pt}\ s{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Nil\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Cons\ v\ vs{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}List{\isachardot}{\kern0pt}fold\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}v\ {\isacharhash}{\kern0pt}\ vs{\isacharparenright}{\kern0pt}\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}List{\isachardot}{\kern0pt}fold\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u{\isacharparenright}{\kern0pt}\ vs\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u\ v\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u\ v\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharat}{\kern0pt}\isanewline
\ \ \ \ \ filter\ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u\ v\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ vs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isachardot}{\kern0pt}prems\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ invar{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ Cons{\isachardot}{\kern0pt}hyps{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}\ {\isacharat}{\kern0pt}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}if\ {\isasymnot}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v\ then\ {\isacharbrackleft}{\kern0pt}v{\isacharbrackright}{\kern0pt}\ else\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharat}{\kern0pt}\isanewline
\ \ \ \ \ filter\ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u\ v\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ vs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isachardot}{\kern0pt}prems{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}\ {\isacharat}{\kern0pt}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}if\ {\isasymnot}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v\ then\ {\isacharbrackleft}{\kern0pt}v{\isacharbrackright}{\kern0pt}\ else\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharat}{\kern0pt}\isanewline
\ \ \ \ \ filter\ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ vs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isachardot}{\kern0pt}prems{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}\ {\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharunderscore}{\kern0pt}aux{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}\ {\isacharat}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}v\ {\isacharhash}{\kern0pt}\ vs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}tail{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymnot}\ DONE\ s{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}s{\isasymlparr}queue\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ Q{\isacharunderscore}{\kern0pt}tail\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isasymrparr}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ Q{\isachardot}{\kern0pt}invar{\isacharunderscore}{\kern0pt}tail\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ DONE{\isacharunderscore}{\kern0pt}def\ Q{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymnot}\ DONE\ s{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}tail\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharat}{\kern0pt}\isanewline
\ \ \ \ \ filter\ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}s{\isasymlparr}queue\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ Q{\isacharunderscore}{\kern0pt}tail\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isasymrparr}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharat}{\kern0pt}\isanewline
\ \ \ \ \ filter\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}s{\isasymlparr}queue\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ Q{\isacharunderscore}{\kern0pt}tail\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isasymrparr}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ invar{\isacharunderscore}{\kern0pt}tail\ G{\isachardot}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\ simp{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ comp{\isacharunderscore}{\kern0pt}apply\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}discovered{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ lookup{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}distinct\ l{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}List{\isachardot}{\kern0pt}fold\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u{\isacharparenright}{\kern0pt}\ l\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ override{\isacharunderscore}{\kern0pt}on\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharunderscore}{\kern0pt}{\isachardot}{\kern0pt}\ Some\ u{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ l{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ l\ arbitrary{\isacharcolon}{\kern0pt}\ s{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Nil\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Cons\ v\ vs{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}List{\isachardot}{\kern0pt}fold\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}v\ {\isacharhash}{\kern0pt}\ vs{\isacharparenright}{\kern0pt}\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}List{\isachardot}{\kern0pt}fold\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u{\isacharparenright}{\kern0pt}\ vs\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u\ v\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ override{\isacharunderscore}{\kern0pt}on\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u\ v\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharunderscore}{\kern0pt}{\isachardot}{\kern0pt}\ Some\ u{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u\ v\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ vs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isachardot}{\kern0pt}prems\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ intro{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ Cons{\isachardot}{\kern0pt}hyps{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ override{\isacharunderscore}{\kern0pt}on\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}override{\isacharunderscore}{\kern0pt}on\ {\isacharparenleft}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharunderscore}{\kern0pt}{\isachardot}{\kern0pt}\ Some\ u{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}if\ {\isasymnot}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v\ then\ {\isacharbraceleft}{\kern0pt}v{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharunderscore}{\kern0pt}{\isachardot}{\kern0pt}\ Some\ u{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u\ v\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ vs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isachardot}{\kern0pt}prems{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ lookup{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ override{\isacharunderscore}{\kern0pt}on\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}override{\isacharunderscore}{\kern0pt}on\ {\isacharparenleft}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharunderscore}{\kern0pt}{\isachardot}{\kern0pt}\ Some\ u{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}if\ {\isasymnot}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v\ then\ {\isacharbraceleft}{\kern0pt}v{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharunderscore}{\kern0pt}{\isachardot}{\kern0pt}\ Some\ u{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ vs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isachardot}{\kern0pt}prems\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharunderscore}{\kern0pt}aux{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ override{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}insert{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ lookup{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ override{\isacharunderscore}{\kern0pt}on\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharunderscore}{\kern0pt}{\isachardot}{\kern0pt}\ Some\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ override{\isacharunderscore}{\kern0pt}on\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}s{\isasymlparr}queue\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ Q{\isacharunderscore}{\kern0pt}tail\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isasymrparr}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharunderscore}{\kern0pt}{\isachardot}{\kern0pt}\ Some\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}s{\isasymlparr}queue\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ Q{\isacharunderscore}{\kern0pt}tail\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isasymrparr}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ G{\isachardot}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ lookup{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\ simp{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}discovered{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharparenright}{\kern0pt}\ lookup{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ override{\isacharunderscore}{\kern0pt}on\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharunderscore}{\kern0pt}{\isachardot}{\kern0pt}\ Some\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}G\ invar{\isacharunderscore}{\kern0pt}parent\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ lookup{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ T{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharunderscore}{\kern0pt}aux{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}distinct\ {\isacharparenleft}{\kern0pt}v\ {\isacharhash}{\kern0pt}\ vs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}w\ {\isasymin}\ set\ vs\ {\isasymand}\ {\isasymnot}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u\ v\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ w\ {\isasymlongleftrightarrow}\ w\ {\isasymin}\ set\ vs\ {\isasymand}\ {\isasymnot}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ w{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}discovered{\isacharunderscore}{\kern0pt}def\ lookup{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge{\isacharunderscore}{\kern0pt}cong\ override{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ T{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}distinct\ l{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}T\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}List{\isachardot}{\kern0pt}fold\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u{\isacharparenright}{\kern0pt}\ l\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ T\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isacharbar}{\kern0pt}v{\isachardot}{\kern0pt}\ v\ {\isasymin}\ set\ l\ {\isasymand}\ {\isasymnot}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ l\ arbitrary{\isacharcolon}{\kern0pt}\ s{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Nil\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Cons\ v\ vs{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}T\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}List{\isachardot}{\kern0pt}fold\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}v\ {\isacharhash}{\kern0pt}\ vs{\isacharparenright}{\kern0pt}\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ T\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}List{\isachardot}{\kern0pt}fold\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u{\isacharparenright}{\kern0pt}\ vs\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u\ v\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ T\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u\ v\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ \ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ w{\isacharparenright}{\kern0pt}\ {\isacharbar}{\kern0pt}w{\isachardot}{\kern0pt}\ w\ {\isasymin}\ set\ vs\ {\isasymand}\ {\isasymnot}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u\ v\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ w{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isachardot}{\kern0pt}prems\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ invar{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ Cons{\isachardot}{\kern0pt}hyps{\isacharparenright}{\kern0pt}\ simp{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ T\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}if\ {\isasymnot}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v\ then\ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ \ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ w{\isacharparenright}{\kern0pt}\ {\isacharbar}{\kern0pt}w{\isachardot}{\kern0pt}\ w\ {\isasymin}\ set\ vs\ {\isasymand}\ {\isasymnot}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u\ v\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ w{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ T{\isacharunderscore}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge{\isacharunderscore}{\kern0pt}cong{\isacharbrackleft}{\kern0pt}OF\ Cons{\isachardot}{\kern0pt}prems{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ T\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}if\ {\isasymnot}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v\ then\ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ \ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ w{\isacharparenright}{\kern0pt}\ {\isacharbar}{\kern0pt}w{\isachardot}{\kern0pt}\ w\ {\isasymin}\ set\ vs\ {\isasymand}\ {\isasymnot}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ w{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isachardot}{\kern0pt}prems\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ T{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharunderscore}{\kern0pt}aux{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ T\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ w{\isacharparenright}{\kern0pt}\ {\isacharbar}{\kern0pt}w{\isachardot}{\kern0pt}\ w\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}v\ {\isacharhash}{\kern0pt}\ vs{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isasymnot}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ w{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ T{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}T\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ T\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ \ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isacharbar}{\kern0pt}v{\isachardot}{\kern0pt}\ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isasymnot}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}T\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ T\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}s{\isasymlparr}queue\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ Q{\isacharunderscore}{\kern0pt}tail\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isasymrparr}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ \ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isacharbar}{\kern0pt}v{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ \ \ {\isasymnot}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}s{\isasymlparr}queue\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ Q{\isacharunderscore}{\kern0pt}tail\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isasymrparr}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ G{\isachardot}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ T{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\ simp{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}discovered{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharparenright}{\kern0pt}\ T{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}T\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ T\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ \ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isacharbar}{\kern0pt}v{\isachardot}{\kern0pt}\ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isasymnot}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}G\ invar{\isacharunderscore}{\kern0pt}parent\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ T{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
Next, we verify the maintenance of the loop invariants one by one.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{locale}\isamarkupfalse%
\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE\ {\isacharequal}{\kern0pt}\ bfs{\isacharunderscore}{\kern0pt}invar\ \isakeyword{where}\ P{\isacharunderscore}{\kern0pt}update\ {\isacharequal}{\kern0pt}\ P{\isacharunderscore}{\kern0pt}update\ \isakeyword{and}\ Q{\isacharunderscore}{\kern0pt}snoc\ {\isacharequal}{\kern0pt}\ Q{\isacharunderscore}{\kern0pt}snoc\ \isakeyword{for}\isanewline
\ \ P{\isacharunderscore}{\kern0pt}update\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}linorder\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ Q{\isacharunderscore}{\kern0pt}snoc\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}q\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}q{\isachardoublequoteclose}\ {\isacharplus}{\kern0pt}\isanewline
\isakeyword{assumes}\ not{\isacharunderscore}{\kern0pt}DONE{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymnot}\ DONE\ s{\isachardoublequoteclose}\isanewline
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{abbreviation}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharprime}{\kern0pt}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}n\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}q{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}m{\isacharparenright}{\kern0pt}\ state\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharprime}{\kern0pt}\ G\ src\ s\ {\isasymequiv}\isanewline
\ \ \ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE\isanewline
\ \ \ \ Map{\isacharunderscore}{\kern0pt}empty\ Map{\isacharunderscore}{\kern0pt}delete\ Map{\isacharunderscore}{\kern0pt}lookup\ Map{\isacharunderscore}{\kern0pt}inorder\ Map{\isacharunderscore}{\kern0pt}inv\isanewline
\ \ \ \ Set{\isacharunderscore}{\kern0pt}empty\ Set{\isacharunderscore}{\kern0pt}insert\ Set{\isacharunderscore}{\kern0pt}delete\ Set{\isacharunderscore}{\kern0pt}isin\ Set{\isacharunderscore}{\kern0pt}inorder\ Set{\isacharunderscore}{\kern0pt}inv\isanewline
\ \ \ \ P{\isacharunderscore}{\kern0pt}empty\ P{\isacharunderscore}{\kern0pt}delete\ P{\isacharunderscore}{\kern0pt}lookup\ P{\isacharunderscore}{\kern0pt}invar\isanewline
\ \ \ \ Q{\isacharunderscore}{\kern0pt}empty\ Q{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ Q{\isacharunderscore}{\kern0pt}head\ Q{\isacharunderscore}{\kern0pt}tail\ Q{\isacharunderscore}{\kern0pt}invar\ Q{\isacharunderscore}{\kern0pt}list\isanewline
\ \ \ \ Map{\isacharunderscore}{\kern0pt}update\ G\ src\ s\ P{\isacharunderscore}{\kern0pt}update\ Q{\isacharunderscore}{\kern0pt}snoc{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}q{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}m{\isacharparenright}{\kern0pt}\ state\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ {\isasymequiv}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharprime}{\kern0pt}\ G\ src{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymnot}\ DONE\ s{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}\ {\isasymnoteq}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ DONE{\isacharunderscore}{\kern0pt}def\ Q{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharparenright}{\kern0pt}\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}\ {\isasymnoteq}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}queue\ not{\isacharunderscore}{\kern0pt}DONE\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharparenright}{\kern0pt}\ head{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}queue{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}queue\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ Q{\isachardot}{\kern0pt}list{\isacharunderscore}{\kern0pt}head{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharparenright}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}head{\isacharunderscore}{\kern0pt}queue{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymnot}\ white\ s\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ head{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}queue\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}queue{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharparenright}{\kern0pt}\ follow{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}follow{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ follow{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}def\ T{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ wf{\isacharunderscore}{\kern0pt}Un{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}r\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isacharbar}{\kern0pt}v{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isasymnot}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}wf\ {\isacharparenleft}{\kern0pt}T\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ follow{\isacharunderscore}{\kern0pt}invar\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ follow{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymnot}\ white\ s\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}head{\isacharunderscore}{\kern0pt}queue\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}wf\ {\isacharquery}{\kern0pt}r{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ wf{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}Domain\ {\isacharparenleft}{\kern0pt}T\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasyminter}\ Range\ {\isacharquery}{\kern0pt}r\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}parent\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}distinct\ l{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}List{\isachardot}{\kern0pt}fold\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u{\isacharparenright}{\kern0pt}\ l\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ l\ arbitrary{\isacharcolon}{\kern0pt}\ s{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}simp{\isacharunderscore}{\kern0pt}all\ add{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymnot}\ DONE\ s{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharcolon}{\kern0pt}\ G{\isachardot}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ invar{\isacharunderscore}{\kern0pt}tail\ invar{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharparenright}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}G\ invar{\isacharunderscore}{\kern0pt}queue\ not{\isacharunderscore}{\kern0pt}DONE\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ invar{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}distinct\ l{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}List{\isachardot}{\kern0pt}fold\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u{\isacharparenright}{\kern0pt}\ l\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ l\ arbitrary{\isacharcolon}{\kern0pt}\ s{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}simp{\isacharunderscore}{\kern0pt}all\ add{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ G{\isachardot}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ invar{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharparenright}{\kern0pt}\ simp{\isacharplus}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharparenright}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}G\ invar{\isacharunderscore}{\kern0pt}parent\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ invar{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ src{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymnot}\ white\ s\ src{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}discovered{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharparenright}{\kern0pt}\ parent{\isacharunderscore}{\kern0pt}src{\isacharunderscore}{\kern0pt}fold{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ src\ {\isacharequal}{\kern0pt}\ None{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}G\ invar{\isacharunderscore}{\kern0pt}parent\ src{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ lookup{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ parent{\isacharunderscore}{\kern0pt}src{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharparenright}{\kern0pt}\ head{\isacharunderscore}{\kern0pt}queueI{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v\ {\isasymnoteq}\ Some\ u{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ Some\ u{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}u\ {\isacharequal}{\kern0pt}\ Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ lookup{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong\ override{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharparenright}{\kern0pt}\ parent{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}edge{\isacharunderscore}{\kern0pt}fold{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ Some\ u{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isasymin}\ G{\isachardot}{\kern0pt}dE\ G{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ Some\ u{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ parent{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}edge{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ head{\isacharunderscore}{\kern0pt}queueI\ G{\isachardot}{\kern0pt}mem{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}edge\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp\ add{\isacharcolon}{\kern0pt}\ lookup{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharparenright}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}fold{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymnot}\ white\ s\ v{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymnot}\ white\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}discovered{\isacharunderscore}{\kern0pt}def\ lookup{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharparenright}{\kern0pt}\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}tail\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharat}{\kern0pt}\isanewline
\ \ \ \ \ filter\ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}G\ invar{\isacharunderscore}{\kern0pt}queue\ invar{\isacharunderscore}{\kern0pt}parent\ not{\isacharunderscore}{\kern0pt}DONE\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharparenright}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymnot}\ white\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}queue\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}fold{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}v\ {\isasymnotin}\ set\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}tail\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}queue\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ Q{\isachardot}{\kern0pt}list{\isacharunderscore}{\kern0pt}tail\ intro{\isacharcolon}{\kern0pt}\ list{\isachardot}{\kern0pt}set{\isacharunderscore}{\kern0pt}sel{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isasymnot}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp\ add{\isacharcolon}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}discovered{\isacharunderscore}{\kern0pt}def\ lookup{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharparenright}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ Some\ u{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymnot}\ white\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}\ u{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ Some\ u{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}parent\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}fold{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}u\ {\isacharequal}{\kern0pt}\ Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ head{\isacharunderscore}{\kern0pt}queueI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}head{\isacharunderscore}{\kern0pt}queue\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}fold{\isacharparenright}{\kern0pt}\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ vertex{\isacharunderscore}{\kern0pt}color{\isacharunderscore}{\kern0pt}induct\ {\isacharbrackleft}{\kern0pt}case{\isacharunderscore}{\kern0pt}names\ white\ gray\ black{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}white\ s\ v\ {\isasymLongrightarrow}\ P\ s\ v{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}gray\ s\ v\ {\isasymLongrightarrow}\ P\ s\ v{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}black\ s\ v\ {\isasymLongrightarrow}\ P\ s\ v{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}P\ s\ v{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharparenright}{\kern0pt}\ whiteD{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}white\ s\ v{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymnot}\ black\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}discovered{\isacharunderscore}{\kern0pt}def\ lookup{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharparenright}{\kern0pt}\ head{\isacharunderscore}{\kern0pt}queueI{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}v\ {\isasymnotin}\ set\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}v\ {\isacharequal}{\kern0pt}\ Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}\ {\isacharhash}{\kern0pt}\ Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}tail\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}queue\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ Q{\isachardot}{\kern0pt}list{\isacharunderscore}{\kern0pt}queue{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharparenright}{\kern0pt}\ black{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}fold{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}black\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}\ u{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isasymin}\ G{\isachardot}{\kern0pt}dE\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymnot}\ white\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ s\ u\ rule{\isacharcolon}{\kern0pt}\ vertex{\isacharunderscore}{\kern0pt}color{\isacharunderscore}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ white\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ whiteD\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ gray\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}u\ {\isacharequal}{\kern0pt}\ Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ head{\isacharunderscore}{\kern0pt}queueI{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ simp{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}discovered{\isacharunderscore}{\kern0pt}def\ lookup{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong\ override{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ G{\isachardot}{\kern0pt}mem{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}edge{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ black\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ black{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}fold{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharparenright}{\kern0pt}\ parent{\isacharunderscore}{\kern0pt}fold{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}Parent{\isacharunderscore}{\kern0pt}Relation{\isachardot}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}standard{\isacharcomma}{\kern0pt}\ goal{\isacharunderscore}{\kern0pt}cases{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{1}}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ follow{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharparenright}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}lookup{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}lookup{\isacharunderscore}{\kern0pt}parent{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymnot}\ white\ s\ v{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ lookup{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharparenright}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymnot}\ white\ s\ v{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}rev{\isacharunderscore}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ rev{\isacharunderscore}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ v\ rule{\isacharcolon}{\kern0pt}\ follow{\isacharunderscore}{\kern0pt}pinduct{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ v{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}v\ {\isacharequal}{\kern0pt}\ src{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ None{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ None{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ parent{\isacharunderscore}{\kern0pt}src\ parent{\isacharunderscore}{\kern0pt}src{\isacharunderscore}{\kern0pt}fold\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}rev{\isacharunderscore}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}v{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}rev{\isacharunderscore}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}v{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{1}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ parent{\isacharunderscore}{\kern0pt}fold\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp{\isacharunderscore}{\kern0pt}all\ add{\isacharcolon}{\kern0pt}\ follow{\isacharunderscore}{\kern0pt}psimps\ parent{\isachardot}{\kern0pt}follow{\isacharunderscore}{\kern0pt}psimps{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ u\ \isakeyword{where}\ u{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ Some\ u{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isasymnot}\ white\ s\ u{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{1}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}parent\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}discovered{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ Some\ u{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{1}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}lookup{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}lookup{\isacharunderscore}{\kern0pt}parent{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}rev{\isacharunderscore}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ rev{\isacharunderscore}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ u\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}v{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}rev{\isacharunderscore}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ rev{\isacharunderscore}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ u\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}v{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{1}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ parent{\isacharunderscore}{\kern0pt}fold\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp{\isacharunderscore}{\kern0pt}all\ add{\isacharcolon}{\kern0pt}\ follow{\isacharunderscore}{\kern0pt}psimps\ parent{\isachardot}{\kern0pt}follow{\isacharunderscore}{\kern0pt}psimps{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ u\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isadigit{1}}{\isachardot}{\kern0pt}hyps{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharparenright}{\kern0pt}\ mem{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}d{\isacharunderscore}{\kern0pt}le{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v\ {\isasymle}\ d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}last\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}v\ {\isacharequal}{\kern0pt}\ last\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymnot}\ Q{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}queue\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ Q{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ queue{\isacharunderscore}{\kern0pt}sorted{\isacharunderscore}{\kern0pt}wrt{\isacharunderscore}{\kern0pt}d\ assms\ False\ sorted{\isacharunderscore}{\kern0pt}wrt{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}last\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharparenright}{\kern0pt}\ mem{\isacharunderscore}{\kern0pt}filterD{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}last\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}u\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ Some\ {\isacharquery}{\kern0pt}u{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ lookup{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}rev{\isacharunderscore}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ rev{\isacharunderscore}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}u\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}v{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ parent{\isacharunderscore}{\kern0pt}fold\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ parent{\isachardot}{\kern0pt}follow{\isacharunderscore}{\kern0pt}psimps{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ d{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ parent{\isacharunderscore}{\kern0pt}fold\ parent{\isachardot}{\kern0pt}follow{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp\ add{\isacharcolon}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}length{\isacharunderscore}{\kern0pt}snoc{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}last\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}last\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}queue\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymle}\ d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}u\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}DONE\ d{\isacharunderscore}{\kern0pt}last{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}le\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ DONE{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}u\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}head{\isacharunderscore}{\kern0pt}queue\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ d{\isacharunderscore}{\kern0pt}eq\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}last\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharparenright}{\kern0pt}\ queue{\isacharunderscore}{\kern0pt}sorted{\isacharunderscore}{\kern0pt}wrt{\isacharunderscore}{\kern0pt}d{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}aux{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ u{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}tail{\isacharunderscore}{\kern0pt}queue{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}u\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}tail\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ v{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}filter{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ u\ {\isasymle}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ u{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}queue{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}u\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ u{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}tail{\isacharunderscore}{\kern0pt}queue\ invar{\isacharunderscore}{\kern0pt}queue\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ Q{\isachardot}{\kern0pt}list{\isacharunderscore}{\kern0pt}tail\ intro{\isacharcolon}{\kern0pt}\ list{\isachardot}{\kern0pt}set{\isacharunderscore}{\kern0pt}sel{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ u\ {\isacharequal}{\kern0pt}\ d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ u{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ u{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}queue\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}queue\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymle}\ d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}last\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ u{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}queue\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ mem{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}d{\isacharunderscore}{\kern0pt}le{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}last\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}queue\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymle}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ v{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}filter\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ mem{\isacharunderscore}{\kern0pt}filterD{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharparenright}{\kern0pt}\ queue{\isacharunderscore}{\kern0pt}sorted{\isacharunderscore}{\kern0pt}wrt{\isacharunderscore}{\kern0pt}d{\isacharunderscore}{\kern0pt}fold{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}wrt\ {\isacharparenleft}{\kern0pt}{\isasymlambda}u\ v{\isachardot}{\kern0pt}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ u\ {\isasymle}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}P\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}{\isasymlambda}u\ v{\isachardot}{\kern0pt}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ u\ {\isasymle}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}wrt\ {\isacharquery}{\kern0pt}P\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ queue{\isacharunderscore}{\kern0pt}sorted{\isacharunderscore}{\kern0pt}wrt{\isacharunderscore}{\kern0pt}d\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}queue\ sorted{\isacharunderscore}{\kern0pt}wrt{\isacharunderscore}{\kern0pt}mono{\isacharunderscore}{\kern0pt}rel{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}wrt\ {\isacharquery}{\kern0pt}P\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}tail\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ Q{\isachardot}{\kern0pt}list{\isacharunderscore}{\kern0pt}queue{\isacharbrackleft}{\kern0pt}OF\ invar{\isacharunderscore}{\kern0pt}queue\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}wrt\ {\isacharquery}{\kern0pt}P\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ mem{\isacharunderscore}{\kern0pt}filterD{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ intro{\isacharcolon}{\kern0pt}\ sorted{\isacharunderscore}{\kern0pt}wrt{\isacharunderscore}{\kern0pt}if{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymforall}u{\isasymin}set\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}tail\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isasymforall}v{\isasymin}set\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ \ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ u\ {\isasymle}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}blast\ intro{\isacharcolon}{\kern0pt}\ queue{\isacharunderscore}{\kern0pt}sorted{\isacharunderscore}{\kern0pt}wrt{\isacharunderscore}{\kern0pt}d{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}aux{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong\ sorted{\isacharunderscore}{\kern0pt}wrt{\isacharunderscore}{\kern0pt}append{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharparenright}{\kern0pt}\ d{\isacharunderscore}{\kern0pt}last{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}aux{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymnot}\ Q{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}last\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}filter\ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ list{\isacharunderscore}{\kern0pt}tail{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}tail\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymnoteq}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}G\ invar{\isacharunderscore}{\kern0pt}queue\ not{\isacharunderscore}{\kern0pt}DONE\ invar{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong\ Q{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}last\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ last\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}tail\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong\ last{\isacharunderscore}{\kern0pt}appendL{\isacharbrackleft}{\kern0pt}OF\ True{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}last\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ last\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ list{\isacharunderscore}{\kern0pt}tail{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ Q{\isachardot}{\kern0pt}list{\isacharunderscore}{\kern0pt}queue{\isacharbrackleft}{\kern0pt}OF\ invar{\isacharunderscore}{\kern0pt}queue\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}last\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}last\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}queue\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymle}\ d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}queue\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty\ d{\isacharunderscore}{\kern0pt}last{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}le\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ Q{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}head{\isacharunderscore}{\kern0pt}queue\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}last\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\isanewline
\ \ \ \ \ set\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong\ last{\isacharunderscore}{\kern0pt}appendR{\isacharbrackleft}{\kern0pt}OF\ False{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ last{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}set{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ mem{\isacharunderscore}{\kern0pt}filterD{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharparenright}{\kern0pt}\ mem{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}d{\isacharunderscore}{\kern0pt}ge{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\ d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}v\ {\isacharequal}{\kern0pt}\ Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymnot}\ Q{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}queue\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ Q{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ hd\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}queue\ Q{\isachardot}{\kern0pt}list{\isacharunderscore}{\kern0pt}head\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ Q{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ queue{\isacharunderscore}{\kern0pt}sorted{\isacharunderscore}{\kern0pt}wrt{\isacharunderscore}{\kern0pt}d\ assms\ False\ sorted{\isacharunderscore}{\kern0pt}wrt{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}hd\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharparenright}{\kern0pt}\ d{\isacharunderscore}{\kern0pt}last{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}aux{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymnot}\ Q{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}tail\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ hd\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}G\ invar{\isacharunderscore}{\kern0pt}queue\ not{\isacharunderscore}{\kern0pt}DONE\ invar{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ Q{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ Q{\isachardot}{\kern0pt}list{\isacharunderscore}{\kern0pt}head{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ hd\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ True\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}filter\ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymnoteq}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}G\ invar{\isacharunderscore}{\kern0pt}queue\ not{\isacharunderscore}{\kern0pt}DONE\ invar{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ True\ Q{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ head{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}filter{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\isanewline
\ \ \ \ \ set\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ list{\isachardot}{\kern0pt}set{\isacharunderscore}{\kern0pt}sel{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}head{\isacharunderscore}{\kern0pt}queue\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymle}\ d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}last\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ head{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}queue\ mem{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}d{\isacharunderscore}{\kern0pt}le{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}last\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}queue\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymle}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ head{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}filter\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ mem{\isacharunderscore}{\kern0pt}filterD{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ hd\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}G\ invar{\isacharunderscore}{\kern0pt}queue\ not{\isacharunderscore}{\kern0pt}DONE\ invar{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ Q{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ Q{\isachardot}{\kern0pt}list{\isacharunderscore}{\kern0pt}head{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ hd\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}tail\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ head{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}queue{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ False\ invar{\isacharunderscore}{\kern0pt}queue\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ Q{\isachardot}{\kern0pt}list{\isacharunderscore}{\kern0pt}tail\ intro{\isacharcolon}{\kern0pt}\ list{\isachardot}{\kern0pt}set{\isacharunderscore}{\kern0pt}sel{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}head{\isacharunderscore}{\kern0pt}queue\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymle}\ d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ head{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}queue\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ mem{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}d{\isacharunderscore}{\kern0pt}ge{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ head{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}queue\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}queue\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharparenright}{\kern0pt}\ d{\isacharunderscore}{\kern0pt}last{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}fold{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymnot}\ Q{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}last\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}last\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ d{\isacharunderscore}{\kern0pt}last{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}aux{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymle}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharcolon}{\kern0pt}\ d{\isacharunderscore}{\kern0pt}last{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}aux{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
The last invariant, \isa{bfs{\isacharunderscore}{\kern0pt}invar{\isachardot}{\kern0pt}d{\isacharunderscore}{\kern0pt}triangle{\isacharunderscore}{\kern0pt}inequality}, is, at least in our minds, the most
interesting one. Our first attempt at this invariant was the following: If a vertex \isa{v} has
been discovered, then the path from \isa{src} to \isa{v} induced by the parent map
(\isa{{\isasymlambda}va{\isachardot}{\kern0pt}\ rev\ {\isacharparenleft}{\kern0pt}parent{\isachardot}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}state{\isachardot}{\kern0pt}parent\ s\ v{\isacharparenright}{\kern0pt}\ va{\isacharparenright}{\kern0pt}}) is a shortest path in graph \isa{G}. This invariant was so
strong, however, that it did not require using the induction hypothesis (of the induction rule given
by \isa{bfs{\isachardot}{\kern0pt}loop}) to prove one of the two implications of the correctness theorem. Indeed, the
following invariant is sufficient to prove the implication, provided that it can be maintained: If
there is an edge $(u,v)$ in graph \isa{G} such that both $u$ and $v$ have been discovered, then
$d(v)\leq d(u)+1$. However, we were not able to prove that this invariant can be maintained without
requiring an additional invariant. Therefore, we generalized the invariant from edges to arbitrary
paths in graph \isa{G}, yielding invariant \isa{bfs{\isacharunderscore}{\kern0pt}invar{\isachardot}{\kern0pt}d{\isacharunderscore}{\kern0pt}triangle{\isacharunderscore}{\kern0pt}inequality}. We realized
only recently that this generalization is strong enough to imply our first attempt, that is, we now
have an invariant that is at least as strong as an invariant we deemed too strong.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharparenright}{\kern0pt}\ white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}gray{\isacharunderscore}{\kern0pt}ancestor{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}dpath{\isacharunderscore}{\kern0pt}bet\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}dE\ G{\isacharparenright}{\kern0pt}\ p\ u\ w{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymnot}\ white\ s\ u{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}white\ s\ w{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{obtains}\ v\ \isakeyword{where}\isanewline
\ \ \ \ {\isachardoublequoteopen}v\ {\isasymin}\ set\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}gray\ s\ v{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadelimvisible
%
\endisadelimvisible
%
\isatagvisible
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ p\ arbitrary{\isacharcolon}{\kern0pt}\ w\ rule{\isacharcolon}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{1}}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{2}}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ hd{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}dpath{\isacharunderscore}{\kern0pt}bet{\isacharprime}{\kern0pt}\ last{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}dpath{\isacharunderscore}{\kern0pt}bet\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ intro{\isacharcolon}{\kern0pt}\ list{\isacharunderscore}{\kern0pt}length{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{3}}\ v\ v{\isacharprime}{\kern0pt}\ l{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ s\ v\ rule{\isacharcolon}{\kern0pt}\ vertex{\isacharunderscore}{\kern0pt}color{\isacharunderscore}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ white\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}dpath{\isacharunderscore}{\kern0pt}bet\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}dE\ G{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}l\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}v{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ u\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{3}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ dpath{\isacharunderscore}{\kern0pt}bet{\isacharunderscore}{\kern0pt}pref{\isacharparenright}{\kern0pt}\ simp\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{3}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{3}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ white\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}force\ intro{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isadigit{3}}{\isachardot}{\kern0pt}hyps{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ gray\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isadigit{3}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ black\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}v{\isacharcomma}{\kern0pt}\ w{\isacharparenright}{\kern0pt}\ {\isasymin}\ G{\isachardot}{\kern0pt}dE\ G{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{3}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}bet{\isacharunderscore}{\kern0pt}def\ intro{\isacharcolon}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}snoc{\isacharunderscore}{\kern0pt}edge{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ black\ black{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white\ {\isachardoublequoteopen}{\isadigit{3}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagvisible
{\isafoldvisible}%
%
\isadelimvisible
\isanewline
%
\endisadelimvisible
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharparenright}{\kern0pt}\ white{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}foldD{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}white\ s\ v{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymnot}\ white\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ Some\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp\ add{\isacharcolon}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}discovered{\isacharunderscore}{\kern0pt}def\ lookup{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ Some\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ lookup{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ parent{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}d{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}Parent{\isacharunderscore}{\kern0pt}Relation{\isachardot}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ Some\ u{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ u\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}rev{\isacharunderscore}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ rev{\isacharunderscore}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ u\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}v{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ parent{\isachardot}{\kern0pt}follow{\isacharunderscore}{\kern0pt}psimps{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ parent{\isachardot}{\kern0pt}follow{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}length{\isacharunderscore}{\kern0pt}snoc{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharparenright}{\kern0pt}\ white{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}foldD{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}white\ s\ v{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymnot}\ white\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ parent{\isacharunderscore}{\kern0pt}fold\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ intro{\isacharcolon}{\kern0pt}\ white{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}foldD{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ parent{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}d{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemmas}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharparenright}{\kern0pt}\ white{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}foldD\ {\isacharequal}{\kern0pt}\isanewline
\ \ white{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}foldD\isanewline
\ \ white{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}foldD{\isacharunderscore}{\kern0pt}{\isadigit{2}}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharparenright}{\kern0pt}\ d{\isacharunderscore}{\kern0pt}triangle{\isacharunderscore}{\kern0pt}inequality{\isacharunderscore}{\kern0pt}fold{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ dpath{\isacharunderscore}{\kern0pt}p{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}dpath{\isacharunderscore}{\kern0pt}bet\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}dE\ G{\isacharparenright}{\kern0pt}\ p\ u\ v{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}u{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymnot}\ white\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}\ u{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}v{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymnot}\ white\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v\ {\isasymle}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ u\ {\isacharplus}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}length\ p{\isachardoublequoteclose}\isanewline
%
\isadelimvisible
%
\endisadelimvisible
%
\isatagvisible
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{consider}\isamarkupfalse%
\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}white{\isacharunderscore}{\kern0pt}white{\isacharparenright}{\kern0pt}\ {\isachardoublequoteopen}white\ s\ u\ {\isasymand}\ white\ s\ v{\isachardoublequoteclose}\ {\isacharbar}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}white{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white{\isacharparenright}{\kern0pt}\ {\isachardoublequoteopen}white\ s\ u\ {\isasymand}\ {\isasymnot}\ white\ s\ v{\isachardoublequoteclose}\ {\isacharbar}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}gray{\isacharunderscore}{\kern0pt}white{\isacharparenright}{\kern0pt}\ {\isachardoublequoteopen}gray\ s\ u\ {\isasymand}\ white\ s\ v{\isachardoublequoteclose}\ {\isacharbar}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}black{\isacharunderscore}{\kern0pt}white{\isacharparenright}{\kern0pt}\ {\isachardoublequoteopen}black\ s\ u\ {\isasymand}\ white\ s\ v{\isachardoublequoteclose}\ {\isacharbar}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white{\isacharparenright}{\kern0pt}\ {\isachardoublequoteopen}{\isasymnot}\ white\ s\ u\ {\isasymand}\ {\isasymnot}\ white\ s\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ fast\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ white{\isacharunderscore}{\kern0pt}white\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}v\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ white{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}foldD{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ simp\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ u{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ white{\isacharunderscore}{\kern0pt}white\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}u\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ white{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}foldD{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ simp\isanewline
\ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ white{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ dpath{\isacharunderscore}{\kern0pt}Cons{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}dpath{\isacharunderscore}{\kern0pt}bet\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}dE\ G{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}\ {\isacharhash}{\kern0pt}\ p{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}u\ white{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}foldD{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}p\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ G{\isachardot}{\kern0pt}mem{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}edge\ intro{\isacharcolon}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}bet{\isacharunderscore}{\kern0pt}ConsI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ white{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymle}\ d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}length\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}\ {\isacharhash}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}head{\isacharunderscore}{\kern0pt}queue\ white{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white\ dpath{\isacharunderscore}{\kern0pt}Cons\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharcolon}{\kern0pt}\ d{\isacharunderscore}{\kern0pt}triangle{\isacharunderscore}{\kern0pt}inequality{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}\ {\isacharplus}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}length\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ dpath{\isacharunderscore}{\kern0pt}p\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}length{\isacharunderscore}{\kern0pt}Cons{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}\ {\isacharplus}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}length\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}head{\isacharunderscore}{\kern0pt}queue\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ u\ {\isacharplus}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}length\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ white{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}u\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ white{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}foldD{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ gray{\isacharunderscore}{\kern0pt}white\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}v\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ white{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}foldD{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ simp\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}head{\isacharunderscore}{\kern0pt}queue\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymle}\ d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ u\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ gray{\isacharunderscore}{\kern0pt}white\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ mem{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}d{\isacharunderscore}{\kern0pt}ge\ add{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}mono{\isacharparenright}{\kern0pt}\ simp\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ u\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ gray{\isacharunderscore}{\kern0pt}white\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymle}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ u\ {\isacharplus}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}length\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ dpath{\isacharunderscore}{\kern0pt}p\ gray{\isacharunderscore}{\kern0pt}white\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ intro{\isacharcolon}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}length{\isacharunderscore}{\kern0pt}geq{\isacharunderscore}{\kern0pt}{\isadigit{1}}I\ add{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}mono{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ black{\isacharunderscore}{\kern0pt}white\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ w\ \isakeyword{where}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}w\ {\isasymin}\ set\ p{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ gray{\isacharunderscore}{\kern0pt}w{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}gray\ s\ w{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ dpath{\isacharunderscore}{\kern0pt}p\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}elim\ white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}gray{\isacharunderscore}{\kern0pt}ancestor{\isacharparenright}{\kern0pt}\ simp{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ q\ r\ \isakeyword{where}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}p\ {\isacharequal}{\kern0pt}\ q\ {\isacharat}{\kern0pt}\ tl\ r{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ dpath{\isacharunderscore}{\kern0pt}q{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}dpath{\isacharunderscore}{\kern0pt}bet\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}dE\ G{\isacharparenright}{\kern0pt}\ q\ u\ w{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ dpath{\isacharunderscore}{\kern0pt}r{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}dpath{\isacharunderscore}{\kern0pt}bet\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}dE\ G{\isacharparenright}{\kern0pt}\ r\ w\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ dpath{\isacharunderscore}{\kern0pt}p\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ in{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}conv{\isacharunderscore}{\kern0pt}decomp\ elim{\isacharcolon}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}bet{\isacharunderscore}{\kern0pt}vertex{\isacharunderscore}{\kern0pt}decompE{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ dpath{\isacharunderscore}{\kern0pt}length{\isacharunderscore}{\kern0pt}p{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}dpath{\isacharunderscore}{\kern0pt}length\ p\ {\isacharequal}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}length\ q\ {\isacharplus}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}length\ r{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ dest{\isacharcolon}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}betD{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharminus}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\ intro{\isacharcolon}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}length{\isacharunderscore}{\kern0pt}append{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ black{\isacharunderscore}{\kern0pt}white\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}v\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ white{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}foldD{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ simp\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}head{\isacharunderscore}{\kern0pt}queue\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymle}\ d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ w\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ gray{\isacharunderscore}{\kern0pt}w\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ mem{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}d{\isacharunderscore}{\kern0pt}ge\ add{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}mono{\isacharparenright}{\kern0pt}\ simp\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymle}\ d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ u\ {\isacharplus}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}length\ q\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ dpath{\isacharunderscore}{\kern0pt}q\ black{\isacharunderscore}{\kern0pt}white\ gray{\isacharunderscore}{\kern0pt}w\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharcolon}{\kern0pt}\ d{\isacharunderscore}{\kern0pt}triangle{\isacharunderscore}{\kern0pt}inequality\ add{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}mono{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymle}\ d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ u\ {\isacharplus}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}length\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ dpath{\isacharunderscore}{\kern0pt}r\ gray{\isacharunderscore}{\kern0pt}w\ black{\isacharunderscore}{\kern0pt}white\ dpath{\isacharunderscore}{\kern0pt}length{\isacharunderscore}{\kern0pt}geq{\isacharunderscore}{\kern0pt}{\isadigit{1}}I\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp\ add{\isacharcolon}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}length{\isacharunderscore}{\kern0pt}p{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ u\ {\isacharplus}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}length\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ black{\isacharunderscore}{\kern0pt}white\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymle}\ d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ u\ {\isacharplus}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}length\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ dpath{\isacharunderscore}{\kern0pt}p\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ d{\isacharunderscore}{\kern0pt}triangle{\isacharunderscore}{\kern0pt}inequality{\isacharparenright}{\kern0pt}\ simp{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ u\ {\isacharplus}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}length\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagvisible
{\isafoldvisible}%
%
\isadelimvisible
\isanewline
%
\endisadelimvisible
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharparenright}{\kern0pt}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}fold{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}bfs{\isacharunderscore}{\kern0pt}invar{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}standard{\isacharcomma}{\kern0pt}\ goal{\isacharunderscore}{\kern0pt}cases{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{1}}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{using}\isamarkupfalse%
\ follow{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{2}}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{3}}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{4}}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{using}\isamarkupfalse%
\ parent{\isacharunderscore}{\kern0pt}src{\isacharunderscore}{\kern0pt}fold\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{5}}\ v\ u{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ parent{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}edge{\isacharunderscore}{\kern0pt}fold{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{6}}\ v{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{7}}\ v\ u{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{8}}\ u\ v{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ black{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}fold{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{9}}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{using}\isamarkupfalse%
\ queue{\isacharunderscore}{\kern0pt}sorted{\isacharunderscore}{\kern0pt}wrt{\isacharunderscore}{\kern0pt}d{\isacharunderscore}{\kern0pt}fold\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{1}}{\isadigit{0}}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ d{\isacharunderscore}{\kern0pt}last{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}fold{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{1}}\ p\ u\ v{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ d{\isacharunderscore}{\kern0pt}triangle{\isacharunderscore}{\kern0pt}inequality{\isacharunderscore}{\kern0pt}fold{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ head{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}dV{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ G{\isachardot}{\kern0pt}dV\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymnot}\ DONE\ s{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}\ {\isasymin}\ G{\isachardot}{\kern0pt}dV\ G{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ Q{\isachardot}{\kern0pt}list{\isacharunderscore}{\kern0pt}head{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ queue{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}dV{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ G{\isachardot}{\kern0pt}dV\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymnot}\ DONE\ s{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ G{\isachardot}{\kern0pt}dV\ G{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ v\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ assm{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}v\ {\isasymin}\ G{\isachardot}{\kern0pt}dV\ G{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}dV\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}tail\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ assm\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}\ {\isadigit{5}}{\isacharparenright}{\kern0pt}\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ Q{\isachardot}{\kern0pt}list{\isacharunderscore}{\kern0pt}tail\ intro{\isacharcolon}{\kern0pt}\ list{\isachardot}{\kern0pt}set{\isacharunderscore}{\kern0pt}sel{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ dom{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}dV{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}distinct\ l{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}P{\isachardot}{\kern0pt}dom\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ G{\isachardot}{\kern0pt}dV\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}set\ l\ {\isasymsubseteq}\ G{\isachardot}{\kern0pt}dV\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}P{\isachardot}{\kern0pt}dom\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}List{\isachardot}{\kern0pt}fold\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u{\isacharparenright}{\kern0pt}\ l\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ G{\isachardot}{\kern0pt}dV\ G{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ v\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ assm{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}v\ {\isasymin}\ P{\isachardot}{\kern0pt}dom\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}List{\isachardot}{\kern0pt}fold\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u{\isacharparenright}{\kern0pt}\ l\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}v\ {\isasymin}\ G{\isachardot}{\kern0pt}dV\ G{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ l{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}List{\isachardot}{\kern0pt}fold\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u{\isacharparenright}{\kern0pt}\ l\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v\ {\isasymnoteq}\ None{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assm\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ P{\isachardot}{\kern0pt}dom{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v\ {\isasymnoteq}\ None{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isadigit{2}}{\isacharparenright}{\kern0pt}\ False\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ lookup{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ P{\isachardot}{\kern0pt}dom{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ dom{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}dV{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}P{\isachardot}{\kern0pt}dom\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ G{\isachardot}{\kern0pt}dV\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}P{\isachardot}{\kern0pt}dom\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ G{\isachardot}{\kern0pt}dV\ G{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}dV\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ G{\isachardot}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ dom{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}dV{\isacharparenright}{\kern0pt}\ simp{\isacharplus}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ ran{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}P{\isachardot}{\kern0pt}ran\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ P{\isachardot}{\kern0pt}ran\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}if\ set\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\isanewline
\ \ \ \ \ \ then\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\isanewline
\ \ \ \ \ \ else\ {\isacharbraceleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}S\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}P{\isachardot}{\kern0pt}ran\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ P{\isachardot}{\kern0pt}ran\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}if\ {\isacharquery}{\kern0pt}S\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ then\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ P{\isachardot}{\kern0pt}ran{\isacharunderscore}{\kern0pt}def\ lookup{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ override{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}P{\isachardot}{\kern0pt}ran\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}if\ {\isacharquery}{\kern0pt}S\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ then\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ P{\isachardot}{\kern0pt}ran\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ u\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ assm{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}u\ {\isasymin}\ P{\isachardot}{\kern0pt}ran\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}if\ {\isacharquery}{\kern0pt}S\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ then\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}u\ {\isasymin}\ P{\isachardot}{\kern0pt}ran\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}u\ {\isasymin}\ P{\isachardot}{\kern0pt}ran\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ v\ \isakeyword{where}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ Some\ u{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ P{\isachardot}{\kern0pt}ran{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}discovered{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ P{\isachardot}{\kern0pt}ran{\isacharunderscore}{\kern0pt}def\ lookup{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ override{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ v\ \isakeyword{where}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}v\ {\isasymin}\ {\isacharquery}{\kern0pt}S{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assm\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}u\ {\isacharequal}{\kern0pt}\ Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assm\ False\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ P{\isachardot}{\kern0pt}ran{\isacharunderscore}{\kern0pt}def\ lookup{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ override{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ loop{\isacharunderscore}{\kern0pt}dom{\isacharunderscore}{\kern0pt}aux{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}P{\isachardot}{\kern0pt}dom\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ G{\isachardot}{\kern0pt}dV\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}P{\isachardot}{\kern0pt}dom\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ card\ {\isacharparenleft}{\kern0pt}P{\isachardot}{\kern0pt}dom\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ card\ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}S\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}P{\isachardot}{\kern0pt}dom\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ P{\isachardot}{\kern0pt}dom\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharquery}{\kern0pt}S{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ P{\isachardot}{\kern0pt}dom{\isacharunderscore}{\kern0pt}def\ lookup{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ override{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}finite\ {\isacharparenleft}{\kern0pt}P{\isachardot}{\kern0pt}dom\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isadigit{3}}{\isacharparenright}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}subset\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ intro{\isacharcolon}{\kern0pt}\ G{\isachardot}{\kern0pt}finite{\isacharunderscore}{\kern0pt}dV{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}finite\ {\isacharquery}{\kern0pt}S{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}P{\isachardot}{\kern0pt}dom\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ {\isasyminter}\ {\isacharquery}{\kern0pt}S\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ P{\isachardot}{\kern0pt}dom{\isacharunderscore}{\kern0pt}def\ is{\isacharunderscore}{\kern0pt}discovered{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ card{\isacharunderscore}{\kern0pt}Un{\isacharunderscore}{\kern0pt}disjoint{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ loop{\isacharunderscore}{\kern0pt}dom{\isacharunderscore}{\kern0pt}aux{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ invar{\isacharunderscore}{\kern0pt}G{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ invar{\isacharunderscore}{\kern0pt}queue{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ not{\isacharunderscore}{\kern0pt}DONE{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymnot}\ DONE\ s{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ dom{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}dV{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}P{\isachardot}{\kern0pt}dom\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ G{\isachardot}{\kern0pt}dV\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}dV\ G{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ length\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}tail\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ card\ {\isacharparenleft}{\kern0pt}P{\isachardot}{\kern0pt}dom\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharless}{\kern0pt}\isanewline
\ \ \ \ \ card\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}dV\ G{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ length\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ card\ {\isacharparenleft}{\kern0pt}P{\isachardot}{\kern0pt}dom\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}\ {\isasymnoteq}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}queue\ not{\isacharunderscore}{\kern0pt}DONE\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}length\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}tail\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharless}{\kern0pt}\ length\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}queue\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ Q{\isachardot}{\kern0pt}list{\isacharunderscore}{\kern0pt}tail{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}P{\isachardot}{\kern0pt}dom\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\ card\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}dV\ G{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}G\ dom{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}dV\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ G{\isachardot}{\kern0pt}finite{\isacharunderscore}{\kern0pt}dV\ card{\isacharunderscore}{\kern0pt}mono{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsubsection{Termination%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\begin{isamarkuptext}%
Before we can prove the correctness of loop \isa{bfs{\isachardot}{\kern0pt}loop}, we need to prove that it terminates on
appropriate inputs.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ loop{\isacharunderscore}{\kern0pt}dom{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ G{\isachardot}{\kern0pt}dV\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}P{\isachardot}{\kern0pt}dom\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ G{\isachardot}{\kern0pt}dV\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}loop{\isacharunderscore}{\kern0pt}dom\ {\isacharparenleft}{\kern0pt}G{\isacharcomma}{\kern0pt}\ src{\isacharcomma}{\kern0pt}\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadelimvisible
%
\endisadelimvisible
%
\isatagvisible
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}dV\ G{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ length\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}P{\isachardot}{\kern0pt}dom\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ arbitrary{\isacharcolon}{\kern0pt}\ s\isanewline
\ \ \ \ \ \ \ rule{\isacharcolon}{\kern0pt}\ less{\isacharunderscore}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ less\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}DONE\ s{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}blast\ intro{\isacharcolon}{\kern0pt}\ loop{\isachardot}{\kern0pt}domintros{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}u\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}q\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}tail\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}S\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}length\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ length\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharquery}{\kern0pt}q{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ card\ {\isacharquery}{\kern0pt}S{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ less{\isachardot}{\kern0pt}prems{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharminus}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ False\ G{\isachardot}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ distinct{\isacharunderscore}{\kern0pt}card{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}P{\isachardot}{\kern0pt}dom\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}P{\isachardot}{\kern0pt}dom\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ card\ {\isacharquery}{\kern0pt}S{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ less{\isachardot}{\kern0pt}prems{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isadigit{3}}{\isacharcomma}{\kern0pt}\ {\isadigit{5}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ loop{\isacharunderscore}{\kern0pt}dom{\isacharunderscore}{\kern0pt}aux{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}dV\ G{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ length\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}P{\isachardot}{\kern0pt}dom\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ card\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}dV\ G{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ length\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharquery}{\kern0pt}q{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ card\ {\isacharquery}{\kern0pt}S\ {\isacharminus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}P{\isachardot}{\kern0pt}dom\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ card\ {\isacharquery}{\kern0pt}S{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ presburger\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}dV\ G{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ length\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharquery}{\kern0pt}q{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}P{\isachardot}{\kern0pt}dom\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharless}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}dV\ G{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ length\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}P{\isachardot}{\kern0pt}dom\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ less{\isachardot}{\kern0pt}prems\ False\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ loop{\isacharunderscore}{\kern0pt}dom{\isacharunderscore}{\kern0pt}aux{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}dV\ G{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ length\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}P{\isachardot}{\kern0pt}dom\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharless}{\kern0pt}\isanewline
\ \ \ \ \ \ \ card\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}dV\ G{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ length\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}P{\isachardot}{\kern0pt}dom\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ less{\isachardot}{\kern0pt}prems\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ invar{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ invar{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ queue{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}dV\ dom{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}dV{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ less{\isachardot}{\kern0pt}hyps\ loop{\isachardot}{\kern0pt}domintros{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagvisible
{\isafoldvisible}%
%
\isadelimvisible
\isanewline
%
\endisadelimvisible
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharparenright}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}dpath{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymnot}\ white\ s\ v{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}dpath{\isacharunderscore}{\kern0pt}bet\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}dE\ G{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ src\ v{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ v\ rule{\isacharcolon}{\kern0pt}\ follow{\isacharunderscore}{\kern0pt}pinduct{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ v{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}v\ {\isacharequal}{\kern0pt}\ src{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ parent{\isacharunderscore}{\kern0pt}src\ src{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}dV\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ G{\isachardot}{\kern0pt}dE{\isacharunderscore}{\kern0pt}def\ G{\isachardot}{\kern0pt}dV{\isacharunderscore}{\kern0pt}def\ follow{\isacharunderscore}{\kern0pt}psimps\ intro{\isacharcolon}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}bet{\isacharunderscore}{\kern0pt}reflexive{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ u\ \isakeyword{where}\isanewline
\ \ \ \ \ \ u{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ Some\ u{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{1}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}discovered{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}follow\ v\ {\isacharequal}{\kern0pt}\ v\ {\isacharhash}{\kern0pt}\ follow\ u{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isasymin}\ G{\isachardot}{\kern0pt}dE\ G{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isasymnot}\ white\ s\ u{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}parent\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ follow{\isacharunderscore}{\kern0pt}psimps\ intro{\isacharcolon}{\kern0pt}\ parent{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}edge{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}dpath{\isacharunderscore}{\kern0pt}bet\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}dE\ G{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ u{\isacharparenright}{\kern0pt}\ src\ u{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ u\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ {\isachardoublequoteopen}{\isadigit{1}}{\isachardot}{\kern0pt}hyps{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharcolon}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}bet{\isacharunderscore}{\kern0pt}snocI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharparenright}{\kern0pt}\ queue{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}dV{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ G{\isachardot}{\kern0pt}dV\ G{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}queue\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}dpath{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ G{\isachardot}{\kern0pt}dV{\isacharunderscore}{\kern0pt}def\ intro{\isacharcolon}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}bet{\isacharunderscore}{\kern0pt}endpoints{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharparenright}{\kern0pt}\ dom{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}dV{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}P{\isachardot}{\kern0pt}dom\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ G{\isachardot}{\kern0pt}dV\ G{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ v\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}v\ {\isasymin}\ P{\isachardot}{\kern0pt}dom\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ u\ \isakeyword{where}\isanewline
\ \ \ \ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ Some\ u{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ P{\isachardot}{\kern0pt}dom{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isasymin}\ G{\isachardot}{\kern0pt}dE\ G{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ parent{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}edge{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}v\ {\isasymin}\ G{\isachardot}{\kern0pt}dV\ G{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ G{\isachardot}{\kern0pt}edgeD{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharparenright}{\kern0pt}\ loop{\isacharunderscore}{\kern0pt}dom{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}loop{\isacharunderscore}{\kern0pt}dom\ {\isacharparenleft}{\kern0pt}G{\isacharcomma}{\kern0pt}\ src{\isacharcomma}{\kern0pt}\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}G\ invar{\isacharunderscore}{\kern0pt}queue\ invar{\isacharunderscore}{\kern0pt}parent\ queue{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}dV\ dom{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}dV\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ loop{\isacharunderscore}{\kern0pt}dom{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ loop{\isacharunderscore}{\kern0pt}psimps{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}bfs{\isacharunderscore}{\kern0pt}invar{\isacharprime}{\kern0pt}\ G\ src\ s{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}loop\ G\ src\ s\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}if\ {\isasymnot}\ DONE\ s\ then\ loop\ G\ src\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}\ else\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ bfs{\isacharunderscore}{\kern0pt}invar{\isachardot}{\kern0pt}loop{\isacharunderscore}{\kern0pt}dom\ loop{\isachardot}{\kern0pt}psimps{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharparenright}{\kern0pt}\ loop{\isacharunderscore}{\kern0pt}psimps{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}loop\ G\ src\ s\ {\isacharequal}{\kern0pt}\ loop\ G\ src\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}DONE\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}axioms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ loop{\isacharunderscore}{\kern0pt}psimps{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ bfs{\isacharunderscore}{\kern0pt}induct{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}bfs{\isacharunderscore}{\kern0pt}invar{\isacharprime}{\kern0pt}\ G\ src\ s{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymAnd}G\ src\ s{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymnot}\ DONE\ s\ {\isasymLongrightarrow}\ P\ G\ src\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ P\ G\ src\ s{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}P\ G\ src\ s{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}blast\ intro{\isacharcolon}{\kern0pt}\ bfs{\isacharunderscore}{\kern0pt}invar{\isachardot}{\kern0pt}loop{\isacharunderscore}{\kern0pt}dom\ loop{\isachardot}{\kern0pt}pinduct{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsubsection{Correctness%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\begin{isamarkuptext}%
We are now finally ready to prove the correctness of algorithm \isa{bfs{\isachardot}{\kern0pt}bfs}.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{abbreviation}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ dist\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}n\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ enat{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}dist\ G\ {\isasymequiv}\ Shortest{\isacharunderscore}{\kern0pt}Dpath{\isachardot}{\kern0pt}dist\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}dE\ G{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}shortest{\isacharunderscore}{\kern0pt}dpath\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}n\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ list\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}shortest{\isacharunderscore}{\kern0pt}dpath\ G\ p\ u\ v\ {\isasymequiv}\ dpath{\isacharunderscore}{\kern0pt}bet\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}dE\ G{\isacharparenright}{\kern0pt}\ p\ u\ v\ {\isasymand}\ dpath{\isacharunderscore}{\kern0pt}length\ p\ {\isacharequal}{\kern0pt}\ dist\ G\ u\ v{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{locale}\isamarkupfalse%
\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}DONE\ {\isacharequal}{\kern0pt}\ bfs{\isacharunderscore}{\kern0pt}invar\ \isakeyword{where}\ P{\isacharunderscore}{\kern0pt}update\ {\isacharequal}{\kern0pt}\ P{\isacharunderscore}{\kern0pt}update\ \isakeyword{and}\ Q{\isacharunderscore}{\kern0pt}snoc\ {\isacharequal}{\kern0pt}\ Q{\isacharunderscore}{\kern0pt}snoc\ \isakeyword{for}\isanewline
\ \ P{\isacharunderscore}{\kern0pt}update\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}linorder\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ Q{\isacharunderscore}{\kern0pt}snoc\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}q\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}q{\isachardoublequoteclose}\ {\isacharplus}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ DONE{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}DONE\ s{\isachardoublequoteclose}\isanewline
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{abbreviation}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}DONE{\isacharprime}{\kern0pt}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}n\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}q{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}m{\isacharparenright}{\kern0pt}\ state\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}DONE{\isacharprime}{\kern0pt}\ G\ src\ s\ {\isasymequiv}\isanewline
\ \ \ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}DONE\isanewline
\ \ \ \ Map{\isacharunderscore}{\kern0pt}empty\ Map{\isacharunderscore}{\kern0pt}delete\ Map{\isacharunderscore}{\kern0pt}lookup\ Map{\isacharunderscore}{\kern0pt}inorder\ Map{\isacharunderscore}{\kern0pt}inv\isanewline
\ \ \ \ Set{\isacharunderscore}{\kern0pt}empty\ Set{\isacharunderscore}{\kern0pt}insert\ Set{\isacharunderscore}{\kern0pt}delete\ Set{\isacharunderscore}{\kern0pt}isin\ Set{\isacharunderscore}{\kern0pt}inorder\ Set{\isacharunderscore}{\kern0pt}inv\isanewline
\ \ \ \ P{\isacharunderscore}{\kern0pt}empty\ P{\isacharunderscore}{\kern0pt}delete\ P{\isacharunderscore}{\kern0pt}lookup\ P{\isacharunderscore}{\kern0pt}invar\isanewline
\ \ \ \ Q{\isacharunderscore}{\kern0pt}empty\ Q{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ Q{\isacharunderscore}{\kern0pt}head\ Q{\isacharunderscore}{\kern0pt}tail\ Q{\isacharunderscore}{\kern0pt}invar\ Q{\isacharunderscore}{\kern0pt}list\isanewline
\ \ \ \ Map{\isacharunderscore}{\kern0pt}update\ G\ src\ s\ P{\isacharunderscore}{\kern0pt}update\ Q{\isacharunderscore}{\kern0pt}snoc{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}DONE{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}q{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}m{\isacharparenright}{\kern0pt}\ state\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}DONE{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ {\isasymequiv}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}DONE{\isacharprime}{\kern0pt}\ G\ src{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}DONE{\isacharparenright}{\kern0pt}\ loop{\isacharunderscore}{\kern0pt}psimps{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}loop\ G\ src\ s\ {\isacharequal}{\kern0pt}\ s{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ DONE\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}axioms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ loop{\isacharunderscore}{\kern0pt}psimps{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharprime}{\kern0pt}I{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}bfs{\isacharunderscore}{\kern0pt}invar{\isacharprime}{\kern0pt}\ G\ src\ s{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymnot}\ DONE\ s{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharprime}{\kern0pt}\ G\ src\ s{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharunderscore}{\kern0pt}def\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharunderscore}{\kern0pt}axioms{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}DONE{\isacharprime}{\kern0pt}I{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}bfs{\isacharunderscore}{\kern0pt}invar{\isacharprime}{\kern0pt}\ G\ src\ s{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}DONE\ s{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}DONE{\isacharprime}{\kern0pt}\ G\ src\ s{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}DONE{\isacharunderscore}{\kern0pt}def\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}DONE{\isacharunderscore}{\kern0pt}axioms{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ rev{\isacharunderscore}{\kern0pt}follow{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}Parent{\isacharunderscore}{\kern0pt}Relation{\isachardot}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}rev{\isacharunderscore}{\kern0pt}follow\ m\ v\ {\isasymnoteq}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ dest{\isacharcolon}{\kern0pt}\ parent{\isachardot}{\kern0pt}follow{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ distinct{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}Parent{\isacharunderscore}{\kern0pt}Relation{\isachardot}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}distinct\ {\isacharparenleft}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow\ m\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ distinct{\isacharunderscore}{\kern0pt}rev\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ parent{\isachardot}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}follow{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ last{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}Parent{\isacharunderscore}{\kern0pt}Relation{\isachardot}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}last\ {\isacharparenleft}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow\ m\ v{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ v{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}l\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}parent{\isachardot}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ m{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}l\ {\isacharequal}{\kern0pt}\ hd\ {\isacharquery}{\kern0pt}l\ {\isacharhash}{\kern0pt}\ tl\ {\isacharquery}{\kern0pt}l{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ parent{\isachardot}{\kern0pt}follow{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty\ hd{\isacharunderscore}{\kern0pt}Cons{\isacharunderscore}{\kern0pt}tl{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}hd\ {\isacharquery}{\kern0pt}l\ {\isacharequal}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ dest{\isacharcolon}{\kern0pt}\ parent{\isachardot}{\kern0pt}follow{\isacharunderscore}{\kern0pt}ConsD{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ parent{\isachardot}{\kern0pt}follow{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp\ add{\isacharcolon}{\kern0pt}\ last{\isacharunderscore}{\kern0pt}rev{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{context}\isamarkupfalse%
\ bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input\isanewline
\isakeyword{begin}\isanewline
\isacommand{sublocale}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}dgraph\ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}dE\ G{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}standard{\isacharcomma}{\kern0pt}\ goal{\isacharunderscore}{\kern0pt}cases{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{1}}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}G\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ G{\isachardot}{\kern0pt}finite{\isacharunderscore}{\kern0pt}dE{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isacommand{end}\isamarkupfalse%
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharparenright}{\kern0pt}\ distinct{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}distinct\ {\isacharparenleft}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ distinct{\isacharunderscore}{\kern0pt}follow\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharparenright}{\kern0pt}\ hd{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}src{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymnot}\ white\ s\ v{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}hd\ {\isacharparenleft}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ src{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ hd{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}dpath{\isacharunderscore}{\kern0pt}bet{\isacharprime}{\kern0pt}{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}rule\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}dpath{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharparenright}{\kern0pt}\ d{\isacharunderscore}{\kern0pt}triangle{\isacharunderscore}{\kern0pt}inequality{\isacharunderscore}{\kern0pt}edge{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isasymin}\ G{\isachardot}{\kern0pt}dE\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymnot}\ white\ s\ u{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymnot}\ white\ s\ v{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v\ {\isasymle}\ d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ u\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}dpath{\isacharunderscore}{\kern0pt}bet\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}dE\ G{\isacharparenright}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharbrackright}{\kern0pt}\ u\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ edges{\isacharunderscore}{\kern0pt}are{\isacharunderscore}{\kern0pt}dpath{\isacharunderscore}{\kern0pt}bet{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}\ {\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ d{\isacharunderscore}{\kern0pt}triangle{\isacharunderscore}{\kern0pt}inequality\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}DONE{\isacharparenright}{\kern0pt}\ white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}reachable{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}white\ s\ v{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymnot}\ reachable\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}dE\ G{\isacharparenright}{\kern0pt}\ src\ v{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}reachable\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}dE\ G{\isacharparenright}{\kern0pt}\ src\ v{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ p\ \isakeyword{where}\isanewline
\ \ \ \ {\isachardoublequoteopen}dpath{\isacharunderscore}{\kern0pt}bet\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}dE\ G{\isacharparenright}{\kern0pt}\ p\ src\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ reachable{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}dpath{\isacharunderscore}{\kern0pt}bet\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ p\ arbitrary{\isacharcolon}{\kern0pt}\ v\ rule{\isacharcolon}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{1}}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{2}}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ src{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white\ hd{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}dpath{\isacharunderscore}{\kern0pt}bet{\isacharprime}{\kern0pt}\ last{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}dpath{\isacharunderscore}{\kern0pt}bet\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{3}}\ u\ u{\isacharprime}{\kern0pt}\ l{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ s\ u\ rule{\isacharcolon}{\kern0pt}\ vertex{\isacharunderscore}{\kern0pt}color{\isacharunderscore}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ white\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}dpath{\isacharunderscore}{\kern0pt}bet\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}dE\ G{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}l\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}u{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ src\ u{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{3}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ dpath{\isacharunderscore}{\kern0pt}bet{\isacharunderscore}{\kern0pt}pref{\isacharparenright}{\kern0pt}\ simp\isanewline
\ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ white\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ {\isachardoublequoteopen}{\isadigit{3}}{\isachardot}{\kern0pt}hyps{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ gray\isanewline
\ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}queue\ DONE\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ Q{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ DONE{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ black\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isasymin}\ G{\isachardot}{\kern0pt}dE\ G{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{3}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}bet{\isacharunderscore}{\kern0pt}def\ intro{\isacharcolon}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}snoc{\isacharunderscore}{\kern0pt}edge{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ black\ black{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white\ {\isachardoublequoteopen}{\isadigit{3}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ loop{\isacharunderscore}{\kern0pt}complete{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}bfs{\isacharunderscore}{\kern0pt}invar{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ s{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymnot}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}loop\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymnot}\ reachable\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}dE\ G{\isacharparenright}{\kern0pt}\ src\ v{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ rule{\isacharcolon}{\kern0pt}\ bfs{\isacharunderscore}{\kern0pt}induct{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ G\ src\ s{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}DONE\ s{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{1}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}DONE{\isacharprime}{\kern0pt}\ G\ src\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}DONE{\isacharprime}{\kern0pt}I{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{1}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}DONE{\isachardot}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}reachable{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}simp{\isacharunderscore}{\kern0pt}all\ add{\isacharcolon}{\kern0pt}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}DONE{\isachardot}{\kern0pt}loop{\isacharunderscore}{\kern0pt}psimps{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{1}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharprime}{\kern0pt}\ G\ src\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharprime}{\kern0pt}I{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ False\ {\isachardoublequoteopen}{\isadigit{1}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isachardot}{\kern0pt}bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}fold\ {\isachardoublequoteopen}{\isadigit{1}}{\isachardot}{\kern0pt}hyps{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}simp{\isacharunderscore}{\kern0pt}all\ add{\isacharcolon}{\kern0pt}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isachardot}{\kern0pt}loop{\isacharunderscore}{\kern0pt}psimps{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}DONE{\isacharparenright}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}d{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}dist{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymnot}\ white\ s\ v{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v\ {\isasymle}\ dist\ G\ src\ v{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}reachable\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}dE\ G{\isacharparenright}{\kern0pt}\ src\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ reachable{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}dpath{\isacharunderscore}{\kern0pt}bet\ intro{\isacharcolon}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}dpath{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ p\ \isakeyword{where}\isanewline
\ \ \ \ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}shortest{\isacharunderscore}{\kern0pt}dpath\ G\ p\ src\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}elim\ is{\isacharunderscore}{\kern0pt}shortest{\isacharunderscore}{\kern0pt}dpath{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}reachable{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ simp{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ p\ arbitrary{\isacharcolon}{\kern0pt}\ v\ rule{\isacharcolon}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{1}}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{2}}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ parent{\isacharunderscore}{\kern0pt}src\ hd{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}dpath{\isacharunderscore}{\kern0pt}bet{\isacharprime}{\kern0pt}\ last{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}dpath{\isacharunderscore}{\kern0pt}bet\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp\ add{\isacharcolon}{\kern0pt}\ follow{\isacharunderscore}{\kern0pt}psimps\ intro{\isacharcolon}{\kern0pt}\ list{\isacharunderscore}{\kern0pt}length{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{3}}\ u\ u{\isacharprime}{\kern0pt}\ l{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}white\ s\ u{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}dist\ G\ src\ u\ {\isacharequal}{\kern0pt}\ {\isasyminfinity}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}reachable\ dist{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}{\isasymdelta}\ {\isasymdelta}{\isacharunderscore}{\kern0pt}reachable{\isacharunderscore}{\kern0pt}conv{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{3}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharcolon}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}shortest{\isacharunderscore}{\kern0pt}dpathE{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}shortest{\isacharunderscore}{\kern0pt}dpath{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}shortest{\isacharunderscore}{\kern0pt}dpath\ G\ {\isacharparenleft}{\kern0pt}l\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}u{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ src\ u{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{3}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}auto\isanewline
\ \ \ \ \ \ \ \ \ \ \ simp\ add{\isacharcolon}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}length{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}dpath{\isacharunderscore}{\kern0pt}weight\ dist{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}{\isasymdelta}\ is{\isacharunderscore}{\kern0pt}shortest{\isacharunderscore}{\kern0pt}dpath{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ intro{\isacharcolon}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}shortest{\isacharunderscore}{\kern0pt}dpath{\isacharunderscore}{\kern0pt}prefI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isasymin}\ G{\isachardot}{\kern0pt}dE\ G{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{3}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ last{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}dpath{\isacharunderscore}{\kern0pt}bet\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp\ add{\isacharcolon}{\kern0pt}\ edge{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}dpath{\isacharunderscore}{\kern0pt}bet\ intro{\isacharcolon}{\kern0pt}\ split{\isacharunderscore}{\kern0pt}dpath{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v\ {\isasymle}\ d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ u\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ False\ {\isachardoublequoteopen}{\isadigit{3}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ d{\isacharunderscore}{\kern0pt}triangle{\isacharunderscore}{\kern0pt}inequality{\isacharunderscore}{\kern0pt}edge{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymle}\ dist\ G\ src\ u\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{3}}{\isachardot}{\kern0pt}hyps{\isachardoublequoteclose}{\isacharbrackleft}{\kern0pt}OF\ is{\isacharunderscore}{\kern0pt}shortest{\isacharunderscore}{\kern0pt}dpath\ False{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ plus{\isacharunderscore}{\kern0pt}enat{\isacharunderscore}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ one{\isacharunderscore}{\kern0pt}enat{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ add{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}mono{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ dist\ G\ src\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{3}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharcolon}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}shortest{\isacharunderscore}{\kern0pt}dpathE{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}DONE{\isacharparenright}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}shortest{\isacharunderscore}{\kern0pt}dpath{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymnot}\ white\ s\ v{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}shortest{\isacharunderscore}{\kern0pt}dpath\ G\ {\isacharparenleft}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ src\ v{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ conjI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}dpath{\isacharunderscore}{\kern0pt}bet\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}dE\ G{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ src\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}dpath{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ dist\ G\ src\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}d{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}dist\ dist{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}dpath{\isacharunderscore}{\kern0pt}length\ antisym{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ loop{\isacharunderscore}{\kern0pt}sound{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}bfs{\isacharunderscore}{\kern0pt}invar{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ s{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}loop\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}shortest{\isacharunderscore}{\kern0pt}dpath\ G\ {\isacharparenleft}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}loop\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ src\ v{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ rule{\isacharcolon}{\kern0pt}\ bfs{\isacharunderscore}{\kern0pt}induct{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ G\ src\ s{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}DONE\ s{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{1}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}DONE{\isacharprime}{\kern0pt}\ G\ src\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}DONE{\isacharprime}{\kern0pt}I{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{1}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}DONE{\isachardot}{\kern0pt}not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}shortest{\isacharunderscore}{\kern0pt}dpath{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}simp{\isacharunderscore}{\kern0pt}all\ add{\isacharcolon}{\kern0pt}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}DONE{\isachardot}{\kern0pt}loop{\isacharunderscore}{\kern0pt}psimps{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{1}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharprime}{\kern0pt}\ G\ src\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharprime}{\kern0pt}I{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ False\ {\isachardoublequoteopen}{\isadigit{1}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isachardot}{\kern0pt}loop{\isacharunderscore}{\kern0pt}psimps\ dest{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isadigit{1}}{\isachardot}{\kern0pt}hyps{\isachardoublequoteclose}\ intro{\isacharcolon}{\kern0pt}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isachardot}{\kern0pt}bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}fold{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}shortest{\isacharunderscore}{\kern0pt}dpath{\isacharunderscore}{\kern0pt}Map\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}n\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}shortest{\isacharunderscore}{\kern0pt}dpath{\isacharunderscore}{\kern0pt}Map\ G\ src\ m\ {\isasymequiv}\isanewline
\ \ \ {\isasymforall}v{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}is{\isacharunderscore}{\kern0pt}discovered\ src\ m\ v\ {\isasymlongrightarrow}\ is{\isacharunderscore}{\kern0pt}shortest{\isacharunderscore}{\kern0pt}dpath\ G\ {\isacharparenleft}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow\ m\ v{\isacharparenright}{\kern0pt}\ src\ v{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymnot}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ m\ v\ {\isasymlongrightarrow}\ {\isasymnot}\ reachable\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}dE\ G{\isacharparenright}{\kern0pt}\ src\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ loop{\isacharunderscore}{\kern0pt}correct{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}bfs{\isacharunderscore}{\kern0pt}invar{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ s{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}shortest{\isacharunderscore}{\kern0pt}dpath{\isacharunderscore}{\kern0pt}Map\ G\ src\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}loop\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ loop{\isacharunderscore}{\kern0pt}sound\ loop{\isacharunderscore}{\kern0pt}complete\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ bfs{\isacharunderscore}{\kern0pt}correct{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}shortest{\isacharunderscore}{\kern0pt}dpath{\isacharunderscore}{\kern0pt}Map\ G\ src\ {\isacharparenleft}{\kern0pt}bfs\ G\ src{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ bfs{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}init\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ loop{\isacharunderscore}{\kern0pt}correct{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ bfs{\isacharunderscore}{\kern0pt}correct{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharprime}{\kern0pt}\ G\ src{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}shortest{\isacharunderscore}{\kern0pt}dpath{\isacharunderscore}{\kern0pt}Map\ G\ src\ {\isacharparenleft}{\kern0pt}bfs\ G\ src{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isachardot}{\kern0pt}bfs{\isacharunderscore}{\kern0pt}correct{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadelimtheory
\isanewline
%
\endisadelimtheory
%
\isatagtheory
\isacommand{end}\isamarkupfalse%
%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\end{isabellebody}%
\endinput
%:%file=~/Documents/1_projects/2022_idp/thys/BFS/BFS.thy%:%
%:%11=1%:%
%:%23=4%:%
%:%24=5%:%
%:%25=6%:%
%:%26=7%:%
%:%27=8%:%
%:%35=11%:%
%:%36=11%:%
%:%37=12%:%
%:%38=13%:%
%:%39=14%:%
%:%40=15%:%
%:%41=16%:%
%:%42=17%:%
%:%43=18%:%
%:%57=20%:%
%:%67=22%:%
%:%68=22%:%
%:%69=23%:%
%:%70=24%:%
%:%71=25%:%
%:%72=26%:%
%:%73=26%:%
%:%74=27%:%
%:%75=28%:%
%:%76=29%:%
%:%77=30%:%
%:%78=31%:%
%:%79=32%:%
%:%80=33%:%
%:%81=34%:%
%:%82=35%:%
%:%83=36%:%
%:%84=37%:%
%:%85=38%:%
%:%86=39%:%
%:%87=40%:%
%:%88=41%:%
%:%89=42%:%
%:%90=43%:%
%:%91=44%:%
%:%92=45%:%
%:%93=46%:%
%:%94=47%:%
%:%95=48%:%
%:%96=49%:%
%:%97=50%:%
%:%98=51%:%
%:%99=52%:%
%:%100=53%:%
%:%101=54%:%
%:%102=55%:%
%:%104=58%:%
%:%105=59%:%
%:%106=60%:%
%:%107=61%:%
%:%108=62%:%
%:%110=65%:%
%:%111=65%:%
%:%112=66%:%
%:%114=68%:%
%:%115=69%:%
%:%116=70%:%
%:%117=70%:%
%:%118=71%:%
%:%119=72%:%
%:%120=73%:%
%:%121=73%:%
%:%122=74%:%
%:%123=75%:%
%:%124=76%:%
%:%125=76%:%
%:%126=77%:%
%:%128=79%:%
%:%129=80%:%
%:%130=81%:%
%:%131=81%:%
%:%132=82%:%
%:%134=84%:%
%:%135=85%:%
%:%136=86%:%
%:%137=86%:%
%:%138=87%:%
%:%144=93%:%
%:%147=94%:%
%:%151=94%:%
%:%152=94%:%
%:%157=94%:%
%:%160=95%:%
%:%161=96%:%
%:%162=96%:%
%:%163=97%:%
%:%164=98%:%
%:%165=99%:%
%:%166=99%:%
%:%167=100%:%
%:%171=104%:%
%:%172=105%:%
%:%173=106%:%
%:%174=106%:%
%:%175=107%:%
%:%176=108%:%
%:%177=109%:%
%:%185=111%:%
%:%189=113%:%
%:%201=116%:%
%:%202=117%:%
%:%203=118%:%
%:%204=119%:%
%:%206=122%:%
%:%207=122%:%
%:%208=123%:%
%:%209=124%:%
%:%210=125%:%
%:%211=126%:%
%:%212=127%:%
%:%213=128%:%
%:%214=129%:%
%:%215=130%:%
%:%216=131%:%
%:%217=132%:%
%:%220=133%:%
%:%225=134%:%
%:%226=134%:%
%:%227=135%:%
%:%242=144%:%
%:%243=145%:%
%:%252=148%:%
%:%264=151%:%
%:%265=152%:%
%:%266=153%:%
%:%270=154%:%
%:%272=155%:%
%:%276=158%:%
%:%277=159%:%
%:%279=162%:%
%:%280=162%:%
%:%281=163%:%
%:%282=164%:%
%:%283=165%:%
%:%284=165%:%
%:%285=166%:%
%:%286=167%:%
%:%287=168%:%
%:%288=168%:%
%:%289=169%:%
%:%290=170%:%
%:%291=171%:%
%:%292=171%:%
%:%293=172%:%
%:%294=173%:%
%:%295=174%:%
%:%296=174%:%
%:%297=175%:%
%:%298=176%:%
%:%299=177%:%
%:%300=177%:%
%:%301=178%:%
%:%302=179%:%
%:%303=180%:%
%:%304=181%:%
%:%305=182%:%
%:%306=183%:%
%:%307=184%:%
%:%308=185%:%
%:%309=186%:%
%:%310=187%:%
%:%311=188%:%
%:%312=189%:%
%:%313=190%:%
%:%314=191%:%
%:%315=192%:%
%:%316=193%:%
%:%317=194%:%
%:%318=195%:%
%:%319=196%:%
%:%322=197%:%
%:%327=198%:%
%:%328=198%:%
%:%329=199%:%
%:%335=205%:%
%:%336=206%:%
%:%337=207%:%
%:%338=207%:%
%:%339=208%:%
%:%340=209%:%
%:%341=210%:%
%:%342=210%:%
%:%343=211%:%
%:%348=211%:%
%:%353=212%:%
%:%357=212%:%
%:%358=212%:%
%:%359=213%:%
%:%360=213%:%
%:%365=213%:%
%:%370=214%:%
%:%375=215%:%
%:%376=215%:%
%:%377=216%:%
%:%382=216%:%
%:%387=217%:%
%:%391=217%:%
%:%392=217%:%
%:%393=218%:%
%:%394=218%:%
%:%399=218%:%
%:%404=219%:%
%:%409=220%:%
%:%410=220%:%
%:%411=221%:%
%:%416=221%:%
%:%421=222%:%
%:%425=222%:%
%:%426=222%:%
%:%427=223%:%
%:%428=223%:%
%:%433=223%:%
%:%438=224%:%
%:%443=225%:%
%:%444=225%:%
%:%445=226%:%
%:%450=226%:%
%:%455=227%:%
%:%459=227%:%
%:%460=227%:%
%:%465=227%:%
%:%470=228%:%
%:%475=229%:%
%:%476=229%:%
%:%477=230%:%
%:%478=231%:%
%:%483=231%:%
%:%488=232%:%
%:%492=232%:%
%:%493=232%:%
%:%494=233%:%
%:%495=233%:%
%:%500=233%:%
%:%505=234%:%
%:%510=235%:%
%:%511=235%:%
%:%512=236%:%
%:%513=237%:%
%:%518=237%:%
%:%523=238%:%
%:%527=238%:%
%:%528=238%:%
%:%529=239%:%
%:%530=239%:%
%:%535=239%:%
%:%540=240%:%
%:%545=241%:%
%:%546=241%:%
%:%547=242%:%
%:%548=243%:%
%:%553=243%:%
%:%558=244%:%
%:%562=244%:%
%:%563=244%:%
%:%564=245%:%
%:%565=245%:%
%:%570=245%:%
%:%575=246%:%
%:%580=247%:%
%:%581=247%:%
%:%582=248%:%
%:%583=249%:%
%:%584=250%:%
%:%589=250%:%
%:%598=251%:%
%:%599=251%:%
%:%600=252%:%
%:%601=252%:%
%:%602=253%:%
%:%603=253%:%
%:%604=254%:%
%:%605=254%:%
%:%606=255%:%
%:%607=255%:%
%:%608=256%:%
%:%609=256%:%
%:%610=257%:%
%:%611=257%:%
%:%612=258%:%
%:%618=258%:%
%:%623=259%:%
%:%628=260%:%
%:%629=260%:%
%:%630=261%:%
%:%635=261%:%
%:%640=262%:%
%:%644=262%:%
%:%645=262%:%
%:%646=263%:%
%:%647=263%:%
%:%652=263%:%
%:%657=264%:%
%:%662=265%:%
%:%663=265%:%
%:%664=266%:%
%:%665=267%:%
%:%666=268%:%
%:%672=269%:%
%:%677=270%:%
%:%681=270%:%
%:%682=270%:%
%:%683=271%:%
%:%684=271%:%
%:%689=271%:%
%:%694=272%:%
%:%699=273%:%
%:%700=273%:%
%:%701=274%:%
%:%702=275%:%
%:%703=276%:%
%:%704=277%:%
%:%709=277%:%
%:%714=278%:%
%:%718=278%:%
%:%719=278%:%
%:%720=279%:%
%:%721=279%:%
%:%730=282%:%
%:%731=283%:%
%:%735=287%:%
%:%736=288%:%
%:%740=292%:%
%:%741=293%:%
%:%745=297%:%
%:%746=298%:%
%:%747=299%:%
%:%748=300%:%
%:%752=304%:%
%:%753=305%:%
%:%754=306%:%
%:%755=307%:%
%:%759=311%:%
%:%763=312%:%
%:%765=313%:%
%:%769=316%:%
%:%770=317%:%
%:%771=318%:%
%:%773=321%:%
%:%774=321%:%
%:%775=322%:%
%:%782=323%:%
%:%783=323%:%
%:%784=324%:%
%:%785=324%:%
%:%786=325%:%
%:%787=325%:%
%:%788=325%:%
%:%789=325%:%
%:%790=326%:%
%:%791=326%:%
%:%792=327%:%
%:%793=327%:%
%:%794=328%:%
%:%795=328%:%
%:%796=328%:%
%:%797=328%:%
%:%798=329%:%
%:%799=329%:%
%:%800=330%:%
%:%801=330%:%
%:%802=331%:%
%:%803=331%:%
%:%804=331%:%
%:%805=331%:%
%:%806=332%:%
%:%807=332%:%
%:%808=333%:%
%:%809=333%:%
%:%810=334%:%
%:%811=334%:%
%:%812=334%:%
%:%813=334%:%
%:%814=335%:%
%:%815=335%:%
%:%816=336%:%
%:%817=336%:%
%:%818=337%:%
%:%819=337%:%
%:%820=337%:%
%:%821=338%:%
%:%822=338%:%
%:%823=339%:%
%:%824=339%:%
%:%825=340%:%
%:%826=340%:%
%:%827=340%:%
%:%828=341%:%
%:%829=341%:%
%:%830=342%:%
%:%831=342%:%
%:%832=343%:%
%:%833=343%:%
%:%834=343%:%
%:%835=344%:%
%:%836=344%:%
%:%837=345%:%
%:%838=345%:%
%:%839=346%:%
%:%840=346%:%
%:%841=346%:%
%:%842=347%:%
%:%843=347%:%
%:%844=348%:%
%:%845=348%:%
%:%846=349%:%
%:%847=349%:%
%:%848=349%:%
%:%849=349%:%
%:%850=350%:%
%:%851=350%:%
%:%852=351%:%
%:%853=351%:%
%:%854=352%:%
%:%855=352%:%
%:%856=352%:%
%:%857=353%:%
%:%858=353%:%
%:%859=354%:%
%:%860=354%:%
%:%861=355%:%
%:%862=355%:%
%:%863=355%:%
%:%864=356%:%
%:%874=359%:%
%:%875=360%:%
%:%876=361%:%
%:%878=364%:%
%:%879=364%:%
%:%880=365%:%
%:%883=366%:%
%:%887=366%:%
%:%888=366%:%
%:%893=366%:%
%:%896=367%:%
%:%897=368%:%
%:%898=368%:%
%:%899=369%:%
%:%902=370%:%
%:%906=370%:%
%:%907=370%:%
%:%912=370%:%
%:%915=371%:%
%:%916=372%:%
%:%917=372%:%
%:%918=373%:%
%:%921=374%:%
%:%925=374%:%
%:%926=374%:%
%:%931=374%:%
%:%936=375%:%
%:%941=376%:%
%:%942=376%:%
%:%943=377%:%
%:%944=378%:%
%:%949=378%:%
%:%954=379%:%
%:%958=379%:%
%:%959=379%:%
%:%960=380%:%
%:%961=380%:%
%:%966=380%:%
%:%969=381%:%
%:%970=382%:%
%:%971=382%:%
%:%972=383%:%
%:%973=384%:%
%:%974=385%:%
%:%975=386%:%
%:%978=387%:%
%:%982=387%:%
%:%983=387%:%
%:%984=388%:%
%:%985=388%:%
%:%990=388%:%
%:%995=389%:%
%:%1000=390%:%
%:%1001=390%:%
%:%1002=391%:%
%:%1003=392%:%
%:%1008=392%:%
%:%1013=393%:%
%:%1017=393%:%
%:%1018=393%:%
%:%1019=394%:%
%:%1020=394%:%
%:%1025=394%:%
%:%1028=395%:%
%:%1029=396%:%
%:%1030=396%:%
%:%1031=397%:%
%:%1032=398%:%
%:%1033=399%:%
%:%1037=403%:%
%:%1040=404%:%
%:%1044=404%:%
%:%1045=404%:%
%:%1046=405%:%
%:%1047=405%:%
%:%1052=405%:%
%:%1055=406%:%
%:%1056=407%:%
%:%1057=407%:%
%:%1058=408%:%
%:%1059=409%:%
%:%1062=410%:%
%:%1066=410%:%
%:%1067=410%:%
%:%1068=411%:%
%:%1069=411%:%
%:%1074=411%:%
%:%1079=412%:%
%:%1084=413%:%
%:%1085=413%:%
%:%1086=414%:%
%:%1087=415%:%
%:%1088=416%:%
%:%1093=416%:%
%:%1102=417%:%
%:%1103=417%:%
%:%1104=418%:%
%:%1105=418%:%
%:%1106=419%:%
%:%1107=419%:%
%:%1108=420%:%
%:%1109=420%:%
%:%1110=421%:%
%:%1111=421%:%
%:%1112=422%:%
%:%1113=422%:%
%:%1114=423%:%
%:%1115=423%:%
%:%1116=424%:%
%:%1117=424%:%
%:%1118=425%:%
%:%1119=425%:%
%:%1124=425%:%
%:%1127=426%:%
%:%1128=427%:%
%:%1129=427%:%
%:%1130=428%:%
%:%1131=429%:%
%:%1132=430%:%
%:%1133=431%:%
%:%1134=432%:%
%:%1135=433%:%
%:%1138=434%:%
%:%1142=434%:%
%:%1143=434%:%
%:%1144=435%:%
%:%1145=435%:%
%:%1146=436%:%
%:%1147=436%:%
%:%1148=437%:%
%:%1149=437%:%
%:%1150=438%:%
%:%1151=438%:%
%:%1152=439%:%
%:%1153=439%:%
%:%1154=440%:%
%:%1155=440%:%
%:%1156=441%:%
%:%1157=441%:%
%:%1158=442%:%
%:%1159=443%:%
%:%1160=444%:%
%:%1161=444%:%
%:%1162=445%:%
%:%1163=445%:%
%:%1164=445%:%
%:%1165=446%:%
%:%1167=448%:%
%:%1168=449%:%
%:%1169=449%:%
%:%1170=450%:%
%:%1171=450%:%
%:%1172=451%:%
%:%1173=451%:%
%:%1174=451%:%
%:%1175=452%:%
%:%1178=455%:%
%:%1179=456%:%
%:%1180=456%:%
%:%1181=457%:%
%:%1182=457%:%
%:%1183=458%:%
%:%1184=458%:%
%:%1185=458%:%
%:%1186=459%:%
%:%1189=462%:%
%:%1190=463%:%
%:%1191=463%:%
%:%1192=464%:%
%:%1193=464%:%
%:%1194=465%:%
%:%1195=465%:%
%:%1196=465%:%
%:%1197=466%:%
%:%1198=466%:%
%:%1199=467%:%
%:%1200=467%:%
%:%1201=467%:%
%:%1202=468%:%
%:%1203=468%:%
%:%1204=469%:%
%:%1210=469%:%
%:%1215=470%:%
%:%1220=471%:%
%:%1221=471%:%
%:%1222=472%:%
%:%1223=473%:%
%:%1224=474%:%
%:%1229=474%:%
%:%1234=475%:%
%:%1238=475%:%
%:%1239=475%:%
%:%1240=476%:%
%:%1241=476%:%
%:%1246=476%:%
%:%1249=477%:%
%:%1250=478%:%
%:%1251=478%:%
%:%1252=479%:%
%:%1253=480%:%
%:%1254=481%:%
%:%1255=482%:%
%:%1256=483%:%
%:%1257=484%:%
%:%1259=486%:%
%:%1266=487%:%
%:%1267=487%:%
%:%1268=488%:%
%:%1269=488%:%
%:%1270=489%:%
%:%1274=493%:%
%:%1275=494%:%
%:%1276=494%:%
%:%1277=495%:%
%:%1278=495%:%
%:%1279=496%:%
%:%1280=496%:%
%:%1281=497%:%
%:%1282=497%:%
%:%1283=498%:%
%:%1284=498%:%
%:%1285=499%:%
%:%1291=499%:%
%:%1294=500%:%
%:%1295=501%:%
%:%1296=501%:%
%:%1297=502%:%
%:%1298=503%:%
%:%1299=504%:%
%:%1300=505%:%
%:%1304=509%:%
%:%1307=510%:%
%:%1311=510%:%
%:%1312=510%:%
%:%1313=511%:%
%:%1314=511%:%
%:%1315=512%:%
%:%1316=512%:%
%:%1317=513%:%
%:%1318=513%:%
%:%1319=514%:%
%:%1320=514%:%
%:%1321=515%:%
%:%1322=515%:%
%:%1323=516%:%
%:%1324=516%:%
%:%1325=517%:%
%:%1326=517%:%
%:%1327=518%:%
%:%1328=519%:%
%:%1329=520%:%
%:%1330=520%:%
%:%1331=521%:%
%:%1332=521%:%
%:%1333=521%:%
%:%1334=522%:%
%:%1338=526%:%
%:%1339=527%:%
%:%1340=527%:%
%:%1341=528%:%
%:%1342=528%:%
%:%1343=529%:%
%:%1344=529%:%
%:%1345=529%:%
%:%1346=530%:%
%:%1350=534%:%
%:%1351=535%:%
%:%1352=535%:%
%:%1353=536%:%
%:%1354=536%:%
%:%1355=537%:%
%:%1356=537%:%
%:%1357=537%:%
%:%1358=538%:%
%:%1362=542%:%
%:%1363=543%:%
%:%1364=543%:%
%:%1365=544%:%
%:%1366=544%:%
%:%1367=545%:%
%:%1368=545%:%
%:%1369=545%:%
%:%1370=546%:%
%:%1371=546%:%
%:%1372=547%:%
%:%1378=547%:%
%:%1381=548%:%
%:%1382=549%:%
%:%1383=549%:%
%:%1384=550%:%
%:%1385=551%:%
%:%1386=552%:%
%:%1387=553%:%
%:%1391=557%:%
%:%1398=558%:%
%:%1399=558%:%
%:%1400=559%:%
%:%1401=559%:%
%:%1402=560%:%
%:%1406=564%:%
%:%1407=565%:%
%:%1408=565%:%
%:%1409=566%:%
%:%1410=566%:%
%:%1411=567%:%
%:%1412=567%:%
%:%1413=568%:%
%:%1414=568%:%
%:%1415=569%:%
%:%1421=569%:%
%:%1424=570%:%
%:%1425=571%:%
%:%1426=571%:%
%:%1427=572%:%
%:%1428=573%:%
%:%1432=577%:%
%:%1435=578%:%
%:%1439=578%:%
%:%1440=578%:%
%:%1441=579%:%
%:%1442=579%:%
%:%1447=579%:%
%:%1452=580%:%
%:%1457=581%:%
%:%1458=581%:%
%:%1459=582%:%
%:%1460=583%:%
%:%1461=584%:%
%:%1466=584%:%
%:%1471=585%:%
%:%1475=585%:%
%:%1476=585%:%
%:%1477=586%:%
%:%1478=586%:%
%:%1483=586%:%
%:%1486=587%:%
%:%1487=588%:%
%:%1488=588%:%
%:%1489=589%:%
%:%1490=590%:%
%:%1491=591%:%
%:%1494=592%:%
%:%1498=592%:%
%:%1499=592%:%
%:%1500=593%:%
%:%1501=593%:%
%:%1502=594%:%
%:%1503=594%:%
%:%1504=595%:%
%:%1505=595%:%
%:%1506=596%:%
%:%1507=596%:%
%:%1508=597%:%
%:%1509=597%:%
%:%1510=598%:%
%:%1511=598%:%
%:%1512=599%:%
%:%1513=599%:%
%:%1514=600%:%
%:%1515=601%:%
%:%1516=602%:%
%:%1517=602%:%
%:%1518=603%:%
%:%1519=603%:%
%:%1520=603%:%
%:%1521=604%:%
%:%1523=606%:%
%:%1524=607%:%
%:%1525=607%:%
%:%1526=608%:%
%:%1527=608%:%
%:%1528=609%:%
%:%1529=609%:%
%:%1530=609%:%
%:%1531=610%:%
%:%1534=613%:%
%:%1535=614%:%
%:%1536=614%:%
%:%1537=615%:%
%:%1538=615%:%
%:%1539=616%:%
%:%1540=616%:%
%:%1541=616%:%
%:%1542=617%:%
%:%1545=620%:%
%:%1546=621%:%
%:%1547=621%:%
%:%1548=622%:%
%:%1549=622%:%
%:%1550=623%:%
%:%1551=623%:%
%:%1552=623%:%
%:%1553=624%:%
%:%1554=624%:%
%:%1555=625%:%
%:%1556=625%:%
%:%1557=625%:%
%:%1558=626%:%
%:%1559=626%:%
%:%1560=627%:%
%:%1566=627%:%
%:%1569=628%:%
%:%1570=629%:%
%:%1571=629%:%
%:%1572=630%:%
%:%1573=631%:%
%:%1574=632%:%
%:%1575=633%:%
%:%1577=635%:%
%:%1584=636%:%
%:%1585=636%:%
%:%1586=637%:%
%:%1587=637%:%
%:%1588=638%:%
%:%1592=642%:%
%:%1593=643%:%
%:%1594=643%:%
%:%1595=644%:%
%:%1596=644%:%
%:%1597=645%:%
%:%1598=645%:%
%:%1599=646%:%
%:%1600=646%:%
%:%1601=647%:%
%:%1607=647%:%
%:%1610=648%:%
%:%1611=649%:%
%:%1612=649%:%
%:%1613=650%:%
%:%1614=651%:%
%:%1616=653%:%
%:%1619=654%:%
%:%1623=654%:%
%:%1624=654%:%
%:%1625=655%:%
%:%1626=655%:%
%:%1635=657%:%
%:%1637=659%:%
%:%1638=659%:%
%:%1639=660%:%
%:%1640=661%:%
%:%1641=662%:%
%:%1644=663%:%
%:%1649=664%:%
%:%1650=664%:%
%:%1651=665%:%
%:%1657=671%:%
%:%1658=672%:%
%:%1659=673%:%
%:%1660=673%:%
%:%1661=674%:%
%:%1662=675%:%
%:%1663=676%:%
%:%1664=676%:%
%:%1665=677%:%
%:%1666=678%:%
%:%1667=679%:%
%:%1672=679%:%
%:%1677=680%:%
%:%1681=680%:%
%:%1682=680%:%
%:%1683=681%:%
%:%1684=681%:%
%:%1689=681%:%
%:%1694=682%:%
%:%1699=683%:%
%:%1700=683%:%
%:%1701=684%:%
%:%1706=684%:%
%:%1711=685%:%
%:%1715=685%:%
%:%1716=685%:%
%:%1717=686%:%
%:%1718=686%:%
%:%1723=686%:%
%:%1728=687%:%
%:%1733=688%:%
%:%1734=688%:%
%:%1735=689%:%
%:%1740=689%:%
%:%1745=690%:%
%:%1749=690%:%
%:%1750=690%:%
%:%1751=691%:%
%:%1752=691%:%
%:%1757=691%:%
%:%1762=692%:%
%:%1767=693%:%
%:%1768=693%:%
%:%1769=694%:%
%:%1774=694%:%
%:%1779=695%:%
%:%1783=695%:%
%:%1784=695%:%
%:%1785=696%:%
%:%1786=696%:%
%:%1791=696%:%
%:%1794=697%:%
%:%1795=698%:%
%:%1796=698%:%
%:%1797=699%:%
%:%1800=700%:%
%:%1804=700%:%
%:%1805=700%:%
%:%1806=701%:%
%:%1807=701%:%
%:%1808=702%:%
%:%1809=702%:%
%:%1810=703%:%
%:%1811=704%:%
%:%1812=705%:%
%:%1813=705%:%
%:%1814=706%:%
%:%1815=706%:%
%:%1816=707%:%
%:%1817=707%:%
%:%1818=708%:%
%:%1819=708%:%
%:%1820=709%:%
%:%1821=709%:%
%:%1822=710%:%
%:%1823=710%:%
%:%1824=711%:%
%:%1825=711%:%
%:%1826=712%:%
%:%1827=712%:%
%:%1828=713%:%
%:%1829=713%:%
%:%1830=714%:%
%:%1831=714%:%
%:%1832=715%:%
%:%1833=715%:%
%:%1834=716%:%
%:%1840=716%:%
%:%1845=717%:%
%:%1850=718%:%
%:%1851=718%:%
%:%1852=719%:%
%:%1853=720%:%
%:%1854=721%:%
%:%1859=721%:%
%:%1864=722%:%
%:%1868=722%:%
%:%1869=722%:%
%:%1870=723%:%
%:%1871=723%:%
%:%1876=723%:%
%:%1881=724%:%
%:%1886=725%:%
%:%1887=725%:%
%:%1888=726%:%
%:%1889=727%:%
%:%1890=728%:%
%:%1891=729%:%
%:%1896=729%:%
%:%1901=730%:%
%:%1905=730%:%
%:%1906=730%:%
%:%1907=731%:%
%:%1908=731%:%
%:%1913=731%:%
%:%1916=732%:%
%:%1917=733%:%
%:%1918=733%:%
%:%1919=734%:%
%:%1922=735%:%
%:%1926=735%:%
%:%1927=735%:%
%:%1928=736%:%
%:%1929=736%:%
%:%1934=736%:%
%:%1939=737%:%
%:%1944=738%:%
%:%1945=738%:%
%:%1946=739%:%
%:%1947=740%:%
%:%1948=741%:%
%:%1953=741%:%
%:%1958=742%:%
%:%1962=742%:%
%:%1963=742%:%
%:%1964=743%:%
%:%1965=743%:%
%:%1970=743%:%
%:%1975=744%:%
%:%1980=745%:%
%:%1981=745%:%
%:%1982=746%:%
%:%1983=747%:%
%:%1984=748%:%
%:%1989=748%:%
%:%1994=749%:%
%:%1998=749%:%
%:%1999=749%:%
%:%2000=750%:%
%:%2001=750%:%
%:%2006=750%:%
%:%2009=751%:%
%:%2010=752%:%
%:%2011=752%:%
%:%2012=753%:%
%:%2015=754%:%
%:%2019=754%:%
%:%2020=754%:%
%:%2021=755%:%
%:%2022=755%:%
%:%2027=755%:%
%:%2032=756%:%
%:%2037=757%:%
%:%2038=757%:%
%:%2039=758%:%
%:%2044=758%:%
%:%2049=759%:%
%:%2053=759%:%
%:%2054=759%:%
%:%2059=759%:%
%:%2062=760%:%
%:%2063=761%:%
%:%2064=761%:%
%:%2065=762%:%
%:%2068=763%:%
%:%2072=763%:%
%:%2073=763%:%
%:%2074=764%:%
%:%2075=764%:%
%:%2080=764%:%
%:%2085=765%:%
%:%2090=766%:%
%:%2091=766%:%
%:%2092=767%:%
%:%2093=768%:%
%:%2094=769%:%
%:%2099=769%:%
%:%2104=770%:%
%:%2108=770%:%
%:%2109=770%:%
%:%2110=771%:%
%:%2111=771%:%
%:%2116=771%:%
%:%2119=772%:%
%:%2120=773%:%
%:%2121=773%:%
%:%2122=774%:%
%:%2123=775%:%
%:%2130=776%:%
%:%2131=776%:%
%:%2132=777%:%
%:%2133=777%:%
%:%2134=778%:%
%:%2135=778%:%
%:%2136=779%:%
%:%2137=779%:%
%:%2138=780%:%
%:%2139=780%:%
%:%2140=781%:%
%:%2141=781%:%
%:%2142=782%:%
%:%2143=782%:%
%:%2144=783%:%
%:%2145=783%:%
%:%2146=784%:%
%:%2147=784%:%
%:%2148=785%:%
%:%2154=785%:%
%:%2159=786%:%
%:%2164=787%:%
%:%2165=787%:%
%:%2166=788%:%
%:%2167=789%:%
%:%2172=789%:%
%:%2177=790%:%
%:%2181=790%:%
%:%2182=790%:%
%:%2183=791%:%
%:%2184=791%:%
%:%2189=791%:%
%:%2192=792%:%
%:%2193=793%:%
%:%2194=793%:%
%:%2195=794%:%
%:%2196=795%:%
%:%2198=797%:%
%:%2201=798%:%
%:%2205=798%:%
%:%2206=798%:%
%:%2207=799%:%
%:%2208=799%:%
%:%2213=799%:%
%:%2216=800%:%
%:%2217=801%:%
%:%2218=801%:%
%:%2219=802%:%
%:%2220=803%:%
%:%2227=804%:%
%:%2228=804%:%
%:%2229=805%:%
%:%2230=805%:%
%:%2231=806%:%
%:%2232=806%:%
%:%2233=807%:%
%:%2234=807%:%
%:%2235=808%:%
%:%2236=808%:%
%:%2237=809%:%
%:%2238=809%:%
%:%2239=810%:%
%:%2240=810%:%
%:%2241=811%:%
%:%2242=811%:%
%:%2243=812%:%
%:%2244=812%:%
%:%2245=813%:%
%:%2246=813%:%
%:%2247=814%:%
%:%2248=814%:%
%:%2249=815%:%
%:%2250=815%:%
%:%2251=816%:%
%:%2252=816%:%
%:%2253=817%:%
%:%2254=817%:%
%:%2255=818%:%
%:%2256=818%:%
%:%2257=819%:%
%:%2263=819%:%
%:%2266=820%:%
%:%2267=821%:%
%:%2268=821%:%
%:%2269=822%:%
%:%2270=823%:%
%:%2277=824%:%
%:%2278=824%:%
%:%2279=825%:%
%:%2280=825%:%
%:%2281=826%:%
%:%2282=826%:%
%:%2283=827%:%
%:%2284=827%:%
%:%2285=828%:%
%:%2286=828%:%
%:%2287=829%:%
%:%2288=829%:%
%:%2289=830%:%
%:%2290=830%:%
%:%2291=831%:%
%:%2292=831%:%
%:%2293=832%:%
%:%2294=832%:%
%:%2295=833%:%
%:%2296=833%:%
%:%2297=834%:%
%:%2298=834%:%
%:%2299=835%:%
%:%2300=835%:%
%:%2301=836%:%
%:%2307=836%:%
%:%2310=837%:%
%:%2311=838%:%
%:%2312=838%:%
%:%2313=839%:%
%:%2314=840%:%
%:%2315=841%:%
%:%2316=842%:%
%:%2319=843%:%
%:%2323=843%:%
%:%2324=843%:%
%:%2325=844%:%
%:%2326=844%:%
%:%2331=844%:%
%:%2336=845%:%
%:%2341=846%:%
%:%2342=846%:%
%:%2343=847%:%
%:%2344=848%:%
%:%2349=848%:%
%:%2354=849%:%
%:%2358=849%:%
%:%2359=849%:%
%:%2360=850%:%
%:%2361=850%:%
%:%2366=850%:%
%:%2371=851%:%
%:%2376=852%:%
%:%2377=852%:%
%:%2378=853%:%
%:%2379=854%:%
%:%2380=855%:%
%:%2385=855%:%
%:%2394=856%:%
%:%2395=856%:%
%:%2396=857%:%
%:%2397=857%:%
%:%2398=858%:%
%:%2399=858%:%
%:%2400=859%:%
%:%2401=859%:%
%:%2402=860%:%
%:%2403=860%:%
%:%2404=861%:%
%:%2405=861%:%
%:%2406=862%:%
%:%2407=862%:%
%:%2408=863%:%
%:%2414=863%:%
%:%2417=864%:%
%:%2418=865%:%
%:%2419=865%:%
%:%2420=866%:%
%:%2421=867%:%
%:%2422=868%:%
%:%2429=869%:%
%:%2430=869%:%
%:%2431=870%:%
%:%2432=870%:%
%:%2433=871%:%
%:%2434=871%:%
%:%2435=872%:%
%:%2436=872%:%
%:%2437=873%:%
%:%2438=873%:%
%:%2439=874%:%
%:%2440=874%:%
%:%2441=875%:%
%:%2442=875%:%
%:%2443=876%:%
%:%2444=876%:%
%:%2445=877%:%
%:%2446=877%:%
%:%2447=878%:%
%:%2448=878%:%
%:%2449=879%:%
%:%2450=879%:%
%:%2451=880%:%
%:%2452=880%:%
%:%2453=881%:%
%:%2454=881%:%
%:%2455=882%:%
%:%2456=882%:%
%:%2457=883%:%
%:%2458=883%:%
%:%2459=884%:%
%:%2460=884%:%
%:%2461=885%:%
%:%2462=885%:%
%:%2463=886%:%
%:%2464=886%:%
%:%2465=887%:%
%:%2471=887%:%
%:%2476=888%:%
%:%2481=889%:%
%:%2482=889%:%
%:%2483=890%:%
%:%2488=890%:%
%:%2497=891%:%
%:%2498=891%:%
%:%2499=892%:%
%:%2500=892%:%
%:%2501=893%:%
%:%2502=893%:%
%:%2503=894%:%
%:%2504=894%:%
%:%2505=895%:%
%:%2511=895%:%
%:%2514=896%:%
%:%2515=897%:%
%:%2516=897%:%
%:%2517=898%:%
%:%2518=899%:%
%:%2521=900%:%
%:%2525=900%:%
%:%2526=900%:%
%:%2527=901%:%
%:%2528=901%:%
%:%2533=901%:%
%:%2536=902%:%
%:%2537=903%:%
%:%2538=903%:%
%:%2539=904%:%
%:%2540=905%:%
%:%2543=906%:%
%:%2547=906%:%
%:%2548=906%:%
%:%2549=907%:%
%:%2550=907%:%
%:%2551=908%:%
%:%2552=908%:%
%:%2553=909%:%
%:%2554=909%:%
%:%2555=910%:%
%:%2556=910%:%
%:%2557=911%:%
%:%2558=911%:%
%:%2559=912%:%
%:%2560=912%:%
%:%2561=913%:%
%:%2562=914%:%
%:%2563=915%:%
%:%2564=915%:%
%:%2565=916%:%
%:%2566=916%:%
%:%2567=917%:%
%:%2568=917%:%
%:%2569=918%:%
%:%2570=919%:%
%:%2571=920%:%
%:%2572=920%:%
%:%2573=921%:%
%:%2574=921%:%
%:%2575=922%:%
%:%2576=922%:%
%:%2577=923%:%
%:%2578=923%:%
%:%2579=924%:%
%:%2580=924%:%
%:%2581=925%:%
%:%2582=925%:%
%:%2583=926%:%
%:%2584=926%:%
%:%2585=926%:%
%:%2586=927%:%
%:%2587=928%:%
%:%2588=929%:%
%:%2589=929%:%
%:%2590=930%:%
%:%2591=930%:%
%:%2592=931%:%
%:%2593=931%:%
%:%2594=931%:%
%:%2595=932%:%
%:%2596=932%:%
%:%2597=933%:%
%:%2598=933%:%
%:%2599=934%:%
%:%2600=934%:%
%:%2601=934%:%
%:%2602=935%:%
%:%2603=936%:%
%:%2604=937%:%
%:%2605=937%:%
%:%2606=938%:%
%:%2607=938%:%
%:%2608=939%:%
%:%2609=939%:%
%:%2610=940%:%
%:%2611=940%:%
%:%2612=941%:%
%:%2613=941%:%
%:%2614=942%:%
%:%2615=942%:%
%:%2616=943%:%
%:%2622=943%:%
%:%2627=944%:%
%:%2632=945%:%
%:%2633=945%:%
%:%2634=946%:%
%:%2635=947%:%
%:%2640=947%:%
%:%2649=948%:%
%:%2650=948%:%
%:%2651=949%:%
%:%2652=949%:%
%:%2653=950%:%
%:%2654=950%:%
%:%2655=951%:%
%:%2656=951%:%
%:%2657=952%:%
%:%2658=952%:%
%:%2659=953%:%
%:%2660=953%:%
%:%2661=954%:%
%:%2662=954%:%
%:%2663=955%:%
%:%2664=955%:%
%:%2665=956%:%
%:%2666=956%:%
%:%2667=957%:%
%:%2668=957%:%
%:%2669=958%:%
%:%2670=958%:%
%:%2671=959%:%
%:%2672=959%:%
%:%2673=960%:%
%:%2679=960%:%
%:%2684=961%:%
%:%2689=962%:%
%:%2690=962%:%
%:%2691=963%:%
%:%2692=964%:%
%:%2693=965%:%
%:%2694=966%:%
%:%2699=966%:%
%:%2708=967%:%
%:%2709=967%:%
%:%2710=968%:%
%:%2711=968%:%
%:%2712=969%:%
%:%2713=969%:%
%:%2714=970%:%
%:%2715=970%:%
%:%2716=971%:%
%:%2717=971%:%
%:%2718=972%:%
%:%2719=972%:%
%:%2720=973%:%
%:%2721=973%:%
%:%2722=974%:%
%:%2723=974%:%
%:%2724=975%:%
%:%2725=975%:%
%:%2726=976%:%
%:%2727=976%:%
%:%2728=977%:%
%:%2729=977%:%
%:%2730=978%:%
%:%2731=979%:%
%:%2732=979%:%
%:%2733=980%:%
%:%2734=980%:%
%:%2735=981%:%
%:%2736=981%:%
%:%2737=982%:%
%:%2738=982%:%
%:%2739=982%:%
%:%2740=983%:%
%:%2741=983%:%
%:%2742=984%:%
%:%2743=984%:%
%:%2744=985%:%
%:%2745=985%:%
%:%2746=985%:%
%:%2747=986%:%
%:%2748=986%:%
%:%2749=987%:%
%:%2750=987%:%
%:%2751=988%:%
%:%2752=988%:%
%:%2753=988%:%
%:%2754=989%:%
%:%2755=989%:%
%:%2756=990%:%
%:%2757=990%:%
%:%2758=991%:%
%:%2759=991%:%
%:%2760=991%:%
%:%2761=992%:%
%:%2762=992%:%
%:%2763=993%:%
%:%2769=993%:%
%:%2774=994%:%
%:%2779=995%:%
%:%2780=995%:%
%:%2781=996%:%
%:%2782=997%:%
%:%2783=998%:%
%:%2788=998%:%
%:%2797=999%:%
%:%2798=999%:%
%:%2799=1000%:%
%:%2800=1000%:%
%:%2801=1001%:%
%:%2802=1001%:%
%:%2803=1002%:%
%:%2804=1002%:%
%:%2805=1003%:%
%:%2806=1003%:%
%:%2807=1004%:%
%:%2808=1004%:%
%:%2809=1005%:%
%:%2810=1005%:%
%:%2811=1006%:%
%:%2812=1006%:%
%:%2813=1006%:%
%:%2814=1007%:%
%:%2815=1007%:%
%:%2816=1008%:%
%:%2817=1008%:%
%:%2818=1009%:%
%:%2819=1009%:%
%:%2820=1009%:%
%:%2821=1010%:%
%:%2822=1010%:%
%:%2823=1011%:%
%:%2824=1011%:%
%:%2825=1012%:%
%:%2826=1012%:%
%:%2827=1012%:%
%:%2828=1013%:%
%:%2829=1013%:%
%:%2830=1014%:%
%:%2831=1014%:%
%:%2832=1015%:%
%:%2833=1015%:%
%:%2834=1015%:%
%:%2835=1016%:%
%:%2836=1016%:%
%:%2837=1017%:%
%:%2843=1017%:%
%:%2846=1018%:%
%:%2847=1019%:%
%:%2848=1019%:%
%:%2849=1020%:%
%:%2856=1021%:%
%:%2857=1021%:%
%:%2858=1022%:%
%:%2859=1022%:%
%:%2860=1023%:%
%:%2861=1023%:%
%:%2862=1024%:%
%:%2863=1024%:%
%:%2864=1025%:%
%:%2865=1025%:%
%:%2866=1026%:%
%:%2867=1026%:%
%:%2868=1027%:%
%:%2869=1027%:%
%:%2870=1028%:%
%:%2871=1028%:%
%:%2872=1028%:%
%:%2873=1029%:%
%:%2874=1029%:%
%:%2875=1030%:%
%:%2876=1030%:%
%:%2877=1030%:%
%:%2878=1031%:%
%:%2880=1033%:%
%:%2881=1034%:%
%:%2882=1034%:%
%:%2883=1035%:%
%:%2884=1035%:%
%:%2885=1035%:%
%:%2886=1036%:%
%:%2887=1036%:%
%:%2888=1037%:%
%:%2894=1037%:%
%:%2899=1038%:%
%:%2904=1039%:%
%:%2905=1039%:%
%:%2906=1040%:%
%:%2907=1041%:%
%:%2912=1041%:%
%:%2921=1042%:%
%:%2922=1042%:%
%:%2923=1043%:%
%:%2924=1043%:%
%:%2925=1044%:%
%:%2926=1044%:%
%:%2927=1045%:%
%:%2928=1045%:%
%:%2929=1046%:%
%:%2930=1046%:%
%:%2931=1047%:%
%:%2932=1048%:%
%:%2933=1048%:%
%:%2934=1049%:%
%:%2935=1049%:%
%:%2936=1050%:%
%:%2937=1050%:%
%:%2938=1051%:%
%:%2939=1051%:%
%:%2940=1052%:%
%:%2941=1052%:%
%:%2942=1053%:%
%:%2943=1053%:%
%:%2944=1054%:%
%:%2945=1054%:%
%:%2946=1055%:%
%:%2947=1055%:%
%:%2948=1056%:%
%:%2949=1056%:%
%:%2950=1057%:%
%:%2951=1057%:%
%:%2952=1057%:%
%:%2953=1058%:%
%:%2954=1058%:%
%:%2955=1059%:%
%:%2956=1059%:%
%:%2957=1060%:%
%:%2958=1060%:%
%:%2959=1060%:%
%:%2960=1061%:%
%:%2961=1061%:%
%:%2962=1062%:%
%:%2963=1062%:%
%:%2964=1063%:%
%:%2965=1063%:%
%:%2966=1063%:%
%:%2967=1064%:%
%:%2968=1064%:%
%:%2969=1065%:%
%:%2970=1065%:%
%:%2971=1066%:%
%:%2972=1066%:%
%:%2973=1067%:%
%:%2974=1067%:%
%:%2975=1068%:%
%:%2976=1069%:%
%:%2977=1070%:%
%:%2978=1070%:%
%:%2979=1071%:%
%:%2980=1071%:%
%:%2981=1072%:%
%:%2982=1072%:%
%:%2983=1073%:%
%:%2984=1073%:%
%:%2985=1074%:%
%:%2991=1074%:%
%:%2996=1075%:%
%:%3001=1076%:%
%:%3002=1076%:%
%:%3003=1077%:%
%:%3004=1078%:%
%:%3009=1078%:%
%:%3018=1079%:%
%:%3019=1079%:%
%:%3020=1080%:%
%:%3021=1080%:%
%:%3022=1081%:%
%:%3023=1081%:%
%:%3024=1082%:%
%:%3025=1082%:%
%:%3026=1083%:%
%:%3027=1083%:%
%:%3028=1084%:%
%:%3029=1084%:%
%:%3030=1085%:%
%:%3031=1085%:%
%:%3032=1086%:%
%:%3033=1086%:%
%:%3034=1087%:%
%:%3035=1087%:%
%:%3036=1088%:%
%:%3037=1088%:%
%:%3038=1088%:%
%:%3039=1089%:%
%:%3040=1089%:%
%:%3041=1090%:%
%:%3042=1090%:%
%:%3043=1091%:%
%:%3044=1091%:%
%:%3045=1091%:%
%:%3046=1092%:%
%:%3047=1092%:%
%:%3048=1093%:%
%:%3049=1093%:%
%:%3050=1094%:%
%:%3056=1094%:%
%:%3061=1095%:%
%:%3066=1096%:%
%:%3067=1096%:%
%:%3068=1097%:%
%:%3069=1098%:%
%:%3074=1098%:%
%:%3083=1099%:%
%:%3084=1099%:%
%:%3085=1100%:%
%:%3086=1100%:%
%:%3087=1101%:%
%:%3088=1101%:%
%:%3089=1102%:%
%:%3090=1102%:%
%:%3091=1103%:%
%:%3092=1103%:%
%:%3093=1104%:%
%:%3094=1104%:%
%:%3095=1105%:%
%:%3096=1106%:%
%:%3097=1107%:%
%:%3098=1107%:%
%:%3099=1108%:%
%:%3100=1108%:%
%:%3101=1108%:%
%:%3102=1109%:%
%:%3103=1109%:%
%:%3104=1110%:%
%:%3105=1110%:%
%:%3106=1111%:%
%:%3107=1111%:%
%:%3108=1111%:%
%:%3109=1112%:%
%:%3110=1113%:%
%:%3111=1114%:%
%:%3112=1114%:%
%:%3113=1115%:%
%:%3114=1115%:%
%:%3115=1116%:%
%:%3116=1117%:%
%:%3117=1117%:%
%:%3118=1118%:%
%:%3119=1118%:%
%:%3120=1119%:%
%:%3121=1119%:%
%:%3122=1120%:%
%:%3123=1120%:%
%:%3124=1120%:%
%:%3125=1121%:%
%:%3126=1121%:%
%:%3127=1122%:%
%:%3128=1122%:%
%:%3129=1122%:%
%:%3130=1123%:%
%:%3131=1123%:%
%:%3132=1124%:%
%:%3133=1124%:%
%:%3134=1125%:%
%:%3135=1125%:%
%:%3136=1125%:%
%:%3137=1126%:%
%:%3138=1126%:%
%:%3139=1127%:%
%:%3140=1127%:%
%:%3141=1128%:%
%:%3142=1128%:%
%:%3143=1128%:%
%:%3144=1129%:%
%:%3145=1129%:%
%:%3146=1130%:%
%:%3147=1130%:%
%:%3148=1131%:%
%:%3149=1131%:%
%:%3150=1132%:%
%:%3151=1132%:%
%:%3152=1133%:%
%:%3153=1133%:%
%:%3154=1134%:%
%:%3155=1134%:%
%:%3156=1135%:%
%:%3157=1135%:%
%:%3158=1136%:%
%:%3159=1136%:%
%:%3160=1137%:%
%:%3161=1137%:%
%:%3162=1138%:%
%:%3163=1138%:%
%:%3164=1139%:%
%:%3165=1139%:%
%:%3166=1140%:%
%:%3167=1140%:%
%:%3168=1141%:%
%:%3169=1142%:%
%:%3170=1142%:%
%:%3171=1143%:%
%:%3172=1143%:%
%:%3173=1144%:%
%:%3174=1144%:%
%:%3175=1145%:%
%:%3176=1145%:%
%:%3177=1145%:%
%:%3178=1146%:%
%:%3179=1146%:%
%:%3180=1147%:%
%:%3181=1147%:%
%:%3182=1148%:%
%:%3183=1148%:%
%:%3184=1148%:%
%:%3185=1149%:%
%:%3186=1149%:%
%:%3187=1150%:%
%:%3188=1150%:%
%:%3189=1151%:%
%:%3190=1151%:%
%:%3191=1151%:%
%:%3192=1152%:%
%:%3193=1152%:%
%:%3194=1153%:%
%:%3200=1153%:%
%:%3203=1154%:%
%:%3204=1155%:%
%:%3205=1155%:%
%:%3206=1156%:%
%:%3207=1157%:%
%:%3214=1158%:%
%:%3215=1158%:%
%:%3216=1159%:%
%:%3217=1159%:%
%:%3218=1160%:%
%:%3219=1160%:%
%:%3220=1161%:%
%:%3221=1161%:%
%:%3222=1162%:%
%:%3223=1162%:%
%:%3224=1162%:%
%:%3225=1163%:%
%:%3226=1163%:%
%:%3227=1164%:%
%:%3228=1164%:%
%:%3229=1165%:%
%:%3230=1165%:%
%:%3231=1165%:%
%:%3232=1166%:%
%:%3233=1166%:%
%:%3234=1167%:%
%:%3244=1170%:%
%:%3245=1171%:%
%:%3246=1172%:%
%:%3247=1173%:%
%:%3248=1174%:%
%:%3249=1175%:%
%:%3250=1176%:%
%:%3251=1177%:%
%:%3252=1178%:%
%:%3253=1179%:%
%:%3254=1180%:%
%:%3255=1181%:%
%:%3256=1182%:%
%:%3258=1185%:%
%:%3259=1185%:%
%:%3260=1186%:%
%:%3261=1187%:%
%:%3262=1188%:%
%:%3263=1189%:%
%:%3264=1190%:%
%:%3265=1191%:%
%:%3268=1192%:%
%:%3272=1192%:%
%:%3273=1192%:%
%:%3278=1192%:%
%:%3287=1193%:%
%:%3288=1193%:%
%:%3289=1194%:%
%:%3290=1194%:%
%:%3291=1195%:%
%:%3292=1195%:%
%:%3293=1196%:%
%:%3294=1196%:%
%:%3295=1197%:%
%:%3296=1197%:%
%:%3297=1198%:%
%:%3298=1198%:%
%:%3299=1199%:%
%:%3300=1199%:%
%:%3301=1200%:%
%:%3302=1200%:%
%:%3303=1201%:%
%:%3304=1201%:%
%:%3305=1202%:%
%:%3306=1202%:%
%:%3307=1203%:%
%:%3308=1203%:%
%:%3309=1204%:%
%:%3310=1204%:%
%:%3311=1205%:%
%:%3312=1205%:%
%:%3313=1206%:%
%:%3314=1206%:%
%:%3315=1207%:%
%:%3316=1207%:%
%:%3317=1208%:%
%:%3318=1208%:%
%:%3319=1209%:%
%:%3320=1209%:%
%:%3321=1210%:%
%:%3322=1210%:%
%:%3323=1211%:%
%:%3324=1211%:%
%:%3325=1212%:%
%:%3326=1212%:%
%:%3327=1213%:%
%:%3328=1213%:%
%:%3329=1214%:%
%:%3330=1214%:%
%:%3331=1215%:%
%:%3332=1215%:%
%:%3333=1216%:%
%:%3334=1216%:%
%:%3335=1217%:%
%:%3336=1217%:%
%:%3337=1218%:%
%:%3338=1218%:%
%:%3339=1219%:%
%:%3340=1219%:%
%:%3341=1220%:%
%:%3342=1220%:%
%:%3343=1221%:%
%:%3344=1221%:%
%:%3345=1222%:%
%:%3346=1222%:%
%:%3347=1223%:%
%:%3348=1223%:%
%:%3349=1224%:%
%:%3350=1224%:%
%:%3351=1225%:%
%:%3352=1225%:%
%:%3353=1226%:%
%:%3354=1226%:%
%:%3355=1227%:%
%:%3361=1227%:%
%:%3366=1228%:%
%:%3371=1229%:%
%:%3372=1229%:%
%:%3373=1230%:%
%:%3374=1231%:%
%:%3375=1232%:%
%:%3376=1233%:%
%:%3377=1234%:%
%:%3382=1234%:%
%:%3391=1235%:%
%:%3392=1235%:%
%:%3393=1236%:%
%:%3394=1236%:%
%:%3395=1237%:%
%:%3396=1237%:%
%:%3397=1238%:%
%:%3398=1238%:%
%:%3399=1239%:%
%:%3400=1239%:%
%:%3401=1240%:%
%:%3402=1240%:%
%:%3403=1241%:%
%:%3404=1241%:%
%:%3405=1242%:%
%:%3411=1242%:%
%:%3416=1243%:%
%:%3421=1244%:%
%:%3422=1244%:%
%:%3423=1245%:%
%:%3424=1246%:%
%:%3425=1247%:%
%:%3430=1247%:%
%:%3439=1248%:%
%:%3440=1248%:%
%:%3441=1249%:%
%:%3442=1249%:%
%:%3443=1250%:%
%:%3444=1250%:%
%:%3445=1251%:%
%:%3446=1251%:%
%:%3447=1252%:%
%:%3448=1252%:%
%:%3449=1253%:%
%:%3450=1253%:%
%:%3451=1254%:%
%:%3452=1254%:%
%:%3453=1255%:%
%:%3459=1255%:%
%:%3464=1256%:%
%:%3469=1257%:%
%:%3470=1257%:%
%:%3471=1258%:%
%:%3472=1259%:%
%:%3473=1260%:%
%:%3478=1260%:%
%:%3483=1261%:%
%:%3487=1261%:%
%:%3488=1261%:%
%:%3489=1262%:%
%:%3490=1262%:%
%:%3495=1262%:%
%:%3500=1263%:%
%:%3505=1264%:%
%:%3506=1264%:%
%:%3507=1265%:%
%:%3508=1266%:%
%:%3513=1266%:%
%:%3516=1267%:%
%:%3517=1268%:%
%:%3518=1268%:%
%:%3519=1269%:%
%:%3520=1270%:%
%:%3521=1271%:%
%:%3522=1272%:%
%:%3529=1273%:%
%:%3530=1273%:%
%:%3531=1274%:%
%:%3532=1274%:%
%:%3533=1275%:%
%:%3534=1276%:%
%:%3535=1277%:%
%:%3536=1278%:%
%:%3537=1279%:%
%:%3538=1280%:%
%:%3539=1280%:%
%:%3540=1281%:%
%:%3541=1281%:%
%:%3542=1282%:%
%:%3543=1282%:%
%:%3544=1283%:%
%:%3545=1283%:%
%:%3546=1284%:%
%:%3547=1284%:%
%:%3548=1285%:%
%:%3549=1285%:%
%:%3550=1286%:%
%:%3551=1286%:%
%:%3552=1287%:%
%:%3553=1287%:%
%:%3554=1287%:%
%:%3555=1288%:%
%:%3556=1288%:%
%:%3557=1289%:%
%:%3558=1289%:%
%:%3559=1290%:%
%:%3560=1290%:%
%:%3561=1290%:%
%:%3562=1291%:%
%:%3563=1291%:%
%:%3564=1292%:%
%:%3565=1292%:%
%:%3566=1293%:%
%:%3567=1293%:%
%:%3568=1294%:%
%:%3569=1294%:%
%:%3570=1295%:%
%:%3571=1295%:%
%:%3572=1296%:%
%:%3573=1296%:%
%:%3574=1297%:%
%:%3575=1297%:%
%:%3576=1298%:%
%:%3577=1298%:%
%:%3578=1299%:%
%:%3579=1299%:%
%:%3580=1300%:%
%:%3581=1300%:%
%:%3582=1300%:%
%:%3583=1301%:%
%:%3584=1301%:%
%:%3585=1302%:%
%:%3586=1302%:%
%:%3587=1303%:%
%:%3588=1303%:%
%:%3589=1303%:%
%:%3590=1304%:%
%:%3591=1304%:%
%:%3592=1305%:%
%:%3593=1305%:%
%:%3594=1306%:%
%:%3595=1306%:%
%:%3596=1306%:%
%:%3597=1307%:%
%:%3598=1307%:%
%:%3599=1308%:%
%:%3600=1308%:%
%:%3601=1309%:%
%:%3602=1309%:%
%:%3603=1309%:%
%:%3604=1310%:%
%:%3605=1310%:%
%:%3606=1311%:%
%:%3607=1311%:%
%:%3608=1312%:%
%:%3609=1312%:%
%:%3610=1312%:%
%:%3611=1313%:%
%:%3612=1313%:%
%:%3613=1314%:%
%:%3614=1314%:%
%:%3615=1315%:%
%:%3616=1315%:%
%:%3617=1316%:%
%:%3618=1316%:%
%:%3619=1317%:%
%:%3620=1317%:%
%:%3621=1318%:%
%:%3622=1318%:%
%:%3623=1319%:%
%:%3624=1319%:%
%:%3625=1319%:%
%:%3626=1320%:%
%:%3627=1320%:%
%:%3628=1321%:%
%:%3629=1321%:%
%:%3630=1322%:%
%:%3631=1322%:%
%:%3632=1322%:%
%:%3633=1323%:%
%:%3634=1323%:%
%:%3635=1324%:%
%:%3636=1324%:%
%:%3637=1325%:%
%:%3638=1325%:%
%:%3639=1325%:%
%:%3640=1326%:%
%:%3641=1326%:%
%:%3642=1327%:%
%:%3643=1327%:%
%:%3644=1328%:%
%:%3645=1328%:%
%:%3646=1328%:%
%:%3647=1329%:%
%:%3648=1329%:%
%:%3649=1330%:%
%:%3650=1330%:%
%:%3651=1331%:%
%:%3652=1331%:%
%:%3653=1331%:%
%:%3654=1332%:%
%:%3655=1332%:%
%:%3656=1333%:%
%:%3657=1333%:%
%:%3658=1334%:%
%:%3659=1334%:%
%:%3660=1335%:%
%:%3661=1335%:%
%:%3662=1335%:%
%:%3663=1336%:%
%:%3664=1337%:%
%:%3665=1338%:%
%:%3666=1338%:%
%:%3667=1339%:%
%:%3668=1339%:%
%:%3669=1340%:%
%:%3670=1340%:%
%:%3671=1340%:%
%:%3672=1341%:%
%:%3673=1342%:%
%:%3674=1343%:%
%:%3675=1344%:%
%:%3676=1344%:%
%:%3677=1345%:%
%:%3678=1345%:%
%:%3679=1346%:%
%:%3680=1346%:%
%:%3681=1347%:%
%:%3682=1347%:%
%:%3683=1348%:%
%:%3684=1349%:%
%:%3685=1349%:%
%:%3686=1350%:%
%:%3687=1350%:%
%:%3688=1351%:%
%:%3689=1351%:%
%:%3690=1352%:%
%:%3691=1352%:%
%:%3692=1352%:%
%:%3693=1353%:%
%:%3694=1353%:%
%:%3695=1354%:%
%:%3696=1354%:%
%:%3697=1355%:%
%:%3698=1355%:%
%:%3699=1355%:%
%:%3700=1356%:%
%:%3701=1356%:%
%:%3702=1357%:%
%:%3703=1357%:%
%:%3704=1358%:%
%:%3705=1358%:%
%:%3706=1358%:%
%:%3707=1359%:%
%:%3708=1359%:%
%:%3709=1360%:%
%:%3710=1360%:%
%:%3711=1361%:%
%:%3712=1361%:%
%:%3713=1361%:%
%:%3714=1362%:%
%:%3715=1362%:%
%:%3716=1363%:%
%:%3717=1363%:%
%:%3718=1364%:%
%:%3719=1364%:%
%:%3720=1364%:%
%:%3721=1365%:%
%:%3722=1365%:%
%:%3723=1366%:%
%:%3724=1366%:%
%:%3725=1367%:%
%:%3726=1367%:%
%:%3727=1367%:%
%:%3728=1368%:%
%:%3729=1368%:%
%:%3730=1369%:%
%:%3731=1369%:%
%:%3732=1370%:%
%:%3733=1370%:%
%:%3734=1371%:%
%:%3735=1371%:%
%:%3736=1372%:%
%:%3737=1372%:%
%:%3738=1373%:%
%:%3739=1373%:%
%:%3740=1373%:%
%:%3741=1374%:%
%:%3742=1374%:%
%:%3743=1375%:%
%:%3744=1375%:%
%:%3745=1376%:%
%:%3746=1376%:%
%:%3747=1376%:%
%:%3748=1377%:%
%:%3749=1377%:%
%:%3750=1378%:%
%:%3751=1378%:%
%:%3752=1379%:%
%:%3753=1379%:%
%:%3754=1379%:%
%:%3755=1380%:%
%:%3756=1380%:%
%:%3757=1381%:%
%:%3758=1381%:%
%:%3759=1382%:%
%:%3765=1382%:%
%:%3768=1383%:%
%:%3769=1384%:%
%:%3770=1384%:%
%:%3771=1385%:%
%:%3778=1386%:%
%:%3779=1386%:%
%:%3780=1387%:%
%:%3781=1387%:%
%:%3782=1388%:%
%:%3783=1388%:%
%:%3784=1388%:%
%:%3785=1388%:%
%:%3786=1389%:%
%:%3787=1389%:%
%:%3788=1390%:%
%:%3789=1390%:%
%:%3790=1391%:%
%:%3791=1391%:%
%:%3792=1391%:%
%:%3793=1391%:%
%:%3794=1392%:%
%:%3795=1392%:%
%:%3796=1393%:%
%:%3797=1393%:%
%:%3798=1394%:%
%:%3799=1394%:%
%:%3800=1394%:%
%:%3801=1394%:%
%:%3802=1395%:%
%:%3803=1395%:%
%:%3804=1396%:%
%:%3805=1396%:%
%:%3806=1397%:%
%:%3807=1397%:%
%:%3808=1397%:%
%:%3809=1397%:%
%:%3810=1398%:%
%:%3811=1398%:%
%:%3812=1399%:%
%:%3813=1399%:%
%:%3814=1400%:%
%:%3815=1400%:%
%:%3816=1400%:%
%:%3817=1401%:%
%:%3818=1401%:%
%:%3819=1402%:%
%:%3820=1402%:%
%:%3821=1403%:%
%:%3822=1403%:%
%:%3823=1403%:%
%:%3824=1404%:%
%:%3825=1404%:%
%:%3826=1405%:%
%:%3827=1405%:%
%:%3828=1406%:%
%:%3829=1406%:%
%:%3830=1406%:%
%:%3831=1407%:%
%:%3832=1407%:%
%:%3833=1408%:%
%:%3834=1408%:%
%:%3835=1409%:%
%:%3836=1409%:%
%:%3837=1409%:%
%:%3838=1410%:%
%:%3839=1410%:%
%:%3840=1411%:%
%:%3841=1411%:%
%:%3842=1412%:%
%:%3843=1412%:%
%:%3844=1412%:%
%:%3845=1412%:%
%:%3846=1413%:%
%:%3847=1413%:%
%:%3848=1414%:%
%:%3849=1414%:%
%:%3850=1415%:%
%:%3851=1415%:%
%:%3852=1415%:%
%:%3853=1416%:%
%:%3854=1416%:%
%:%3855=1417%:%
%:%3856=1417%:%
%:%3857=1418%:%
%:%3858=1418%:%
%:%3859=1418%:%
%:%3860=1419%:%
%:%3866=1419%:%
%:%3871=1420%:%
%:%3876=1421%:%
%:%3877=1421%:%
%:%3878=1422%:%
%:%3879=1423%:%
%:%3880=1424%:%
%:%3881=1425%:%
%:%3886=1425%:%
%:%3891=1426%:%
%:%3895=1426%:%
%:%3896=1426%:%
%:%3897=1427%:%
%:%3898=1427%:%
%:%3903=1427%:%
%:%3908=1428%:%
%:%3913=1429%:%
%:%3914=1429%:%
%:%3915=1430%:%
%:%3916=1431%:%
%:%3917=1432%:%
%:%3918=1433%:%
%:%3919=1434%:%
%:%3920=1435%:%
%:%3925=1435%:%
%:%3934=1436%:%
%:%3935=1436%:%
%:%3936=1437%:%
%:%3937=1437%:%
%:%3938=1438%:%
%:%3939=1438%:%
%:%3940=1439%:%
%:%3941=1439%:%
%:%3942=1440%:%
%:%3943=1440%:%
%:%3944=1441%:%
%:%3945=1441%:%
%:%3946=1442%:%
%:%3947=1442%:%
%:%3948=1443%:%
%:%3949=1443%:%
%:%3950=1444%:%
%:%3951=1444%:%
%:%3952=1445%:%
%:%3953=1445%:%
%:%3954=1446%:%
%:%3955=1446%:%
%:%3956=1447%:%
%:%3957=1447%:%
%:%3958=1448%:%
%:%3959=1448%:%
%:%3960=1449%:%
%:%3961=1449%:%
%:%3962=1450%:%
%:%3963=1450%:%
%:%3964=1451%:%
%:%3965=1451%:%
%:%3966=1452%:%
%:%3967=1452%:%
%:%3968=1453%:%
%:%3969=1453%:%
%:%3970=1454%:%
%:%3971=1454%:%
%:%3972=1455%:%
%:%3973=1455%:%
%:%3974=1456%:%
%:%3975=1456%:%
%:%3976=1457%:%
%:%3982=1457%:%
%:%3987=1458%:%
%:%3992=1459%:%
%:%3993=1459%:%
%:%3994=1460%:%
%:%3995=1461%:%
%:%3996=1462%:%
%:%3997=1463%:%
%:%3998=1464%:%
%:%4003=1464%:%
%:%4012=1465%:%
%:%4013=1465%:%
%:%4014=1466%:%
%:%4015=1466%:%
%:%4016=1467%:%
%:%4017=1467%:%
%:%4018=1468%:%
%:%4019=1468%:%
%:%4020=1469%:%
%:%4021=1469%:%
%:%4022=1470%:%
%:%4023=1470%:%
%:%4024=1471%:%
%:%4025=1471%:%
%:%4026=1472%:%
%:%4027=1472%:%
%:%4028=1473%:%
%:%4029=1473%:%
%:%4030=1474%:%
%:%4031=1474%:%
%:%4032=1475%:%
%:%4033=1475%:%
%:%4034=1476%:%
%:%4035=1476%:%
%:%4036=1477%:%
%:%4037=1477%:%
%:%4038=1478%:%
%:%4039=1478%:%
%:%4040=1479%:%
%:%4041=1479%:%
%:%4042=1480%:%
%:%4043=1480%:%
%:%4044=1481%:%
%:%4045=1481%:%
%:%4046=1482%:%
%:%4047=1482%:%
%:%4048=1483%:%
%:%4049=1483%:%
%:%4050=1484%:%
%:%4051=1484%:%
%:%4052=1485%:%
%:%4053=1485%:%
%:%4054=1486%:%
%:%4060=1486%:%
%:%4065=1487%:%
%:%4070=1488%:%
%:%4071=1488%:%
%:%4072=1489%:%
%:%4073=1490%:%
%:%4074=1491%:%
%:%4075=1492%:%
%:%4080=1492%:%
%:%4085=1493%:%
%:%4089=1493%:%
%:%4090=1493%:%
%:%4091=1494%:%
%:%4092=1494%:%
%:%4097=1494%:%
%:%4102=1495%:%
%:%4107=1496%:%
%:%4108=1496%:%
%:%4109=1497%:%
%:%4110=1498%:%
%:%4111=1499%:%
%:%4112=1500%:%
%:%4121=1504%:%
%:%4130=1505%:%
%:%4131=1505%:%
%:%4132=1506%:%
%:%4133=1506%:%
%:%4134=1507%:%
%:%4135=1507%:%
%:%4136=1508%:%
%:%4137=1508%:%
%:%4138=1509%:%
%:%4139=1509%:%
%:%4140=1510%:%
%:%4141=1510%:%
%:%4142=1511%:%
%:%4143=1511%:%
%:%4144=1512%:%
%:%4145=1512%:%
%:%4146=1513%:%
%:%4147=1513%:%
%:%4148=1514%:%
%:%4149=1514%:%
%:%4150=1515%:%
%:%4151=1515%:%
%:%4152=1516%:%
%:%4153=1516%:%
%:%4154=1517%:%
%:%4155=1517%:%
%:%4156=1517%:%
%:%4157=1518%:%
%:%4158=1519%:%
%:%4159=1519%:%
%:%4160=1520%:%
%:%4161=1520%:%
%:%4162=1520%:%
%:%4163=1521%:%
%:%4164=1521%:%
%:%4165=1522%:%
%:%4166=1522%:%
%:%4167=1522%:%
%:%4168=1523%:%
%:%4169=1523%:%
%:%4170=1524%:%
%:%4171=1524%:%
%:%4172=1525%:%
%:%4173=1525%:%
%:%4174=1526%:%
%:%4175=1526%:%
%:%4176=1527%:%
%:%4177=1527%:%
%:%4178=1527%:%
%:%4179=1528%:%
%:%4180=1529%:%
%:%4181=1529%:%
%:%4182=1530%:%
%:%4183=1530%:%
%:%4184=1531%:%
%:%4185=1531%:%
%:%4186=1531%:%
%:%4187=1532%:%
%:%4188=1532%:%
%:%4189=1533%:%
%:%4190=1533%:%
%:%4191=1534%:%
%:%4192=1534%:%
%:%4193=1534%:%
%:%4194=1535%:%
%:%4195=1535%:%
%:%4196=1536%:%
%:%4197=1536%:%
%:%4198=1537%:%
%:%4199=1537%:%
%:%4200=1538%:%
%:%4201=1538%:%
%:%4202=1539%:%
%:%4208=1539%:%
%:%4213=1540%:%
%:%4218=1541%:%
%:%4219=1541%:%
%:%4220=1542%:%
%:%4221=1543%:%
%:%4222=1544%:%
%:%4223=1545%:%
%:%4224=1546%:%
%:%4231=1548%:%
%:%4240=1549%:%
%:%4241=1549%:%
%:%4242=1550%:%
%:%4243=1550%:%
%:%4244=1551%:%
%:%4245=1551%:%
%:%4246=1552%:%
%:%4247=1552%:%
%:%4248=1553%:%
%:%4249=1553%:%
%:%4250=1554%:%
%:%4251=1554%:%
%:%4252=1554%:%
%:%4253=1555%:%
%:%4254=1555%:%
%:%4255=1556%:%
%:%4256=1556%:%
%:%4257=1557%:%
%:%4258=1557%:%
%:%4259=1557%:%
%:%4260=1558%:%
%:%4261=1558%:%
%:%4262=1559%:%
%:%4263=1559%:%
%:%4264=1559%:%
%:%4265=1560%:%
%:%4266=1560%:%
%:%4267=1561%:%
%:%4268=1561%:%
%:%4269=1561%:%
%:%4270=1562%:%
%:%4271=1562%:%
%:%4272=1563%:%
%:%4278=1563%:%
%:%4283=1564%:%
%:%4288=1565%:%
%:%4289=1565%:%
%:%4290=1566%:%
%:%4291=1567%:%
%:%4292=1568%:%
%:%4293=1569%:%
%:%4294=1570%:%
%:%4295=1571%:%
%:%4305=1576%:%
%:%4314=1577%:%
%:%4315=1577%:%
%:%4316=1578%:%
%:%4317=1578%:%
%:%4318=1579%:%
%:%4319=1579%:%
%:%4320=1580%:%
%:%4321=1580%:%
%:%4322=1581%:%
%:%4323=1581%:%
%:%4324=1582%:%
%:%4325=1582%:%
%:%4326=1583%:%
%:%4327=1583%:%
%:%4328=1584%:%
%:%4329=1584%:%
%:%4330=1584%:%
%:%4331=1585%:%
%:%4332=1585%:%
%:%4333=1586%:%
%:%4334=1586%:%
%:%4335=1587%:%
%:%4336=1587%:%
%:%4337=1587%:%
%:%4338=1588%:%
%:%4339=1588%:%
%:%4340=1589%:%
%:%4355=1591%:%
%:%4367=1594%:%
%:%4368=1595%:%
%:%4370=1598%:%
%:%4371=1598%:%
%:%4372=1599%:%
%:%4373=1600%:%
%:%4374=1601%:%
%:%4375=1602%:%
%:%4376=1603%:%
%:%4377=1604%:%
%:%4380=1605%:%
%:%4384=1605%:%
%:%4385=1605%:%
%:%4390=1605%:%
%:%4399=1606%:%
%:%4400=1606%:%
%:%4401=1607%:%
%:%4402=1608%:%
%:%4403=1609%:%
%:%4404=1609%:%
%:%4405=1610%:%
%:%4406=1610%:%
%:%4407=1611%:%
%:%4408=1611%:%
%:%4409=1612%:%
%:%4410=1612%:%
%:%4411=1613%:%
%:%4412=1613%:%
%:%4413=1614%:%
%:%4414=1614%:%
%:%4415=1615%:%
%:%4416=1615%:%
%:%4417=1616%:%
%:%4418=1616%:%
%:%4419=1617%:%
%:%4420=1617%:%
%:%4421=1618%:%
%:%4422=1618%:%
%:%4423=1619%:%
%:%4424=1619%:%
%:%4425=1620%:%
%:%4426=1621%:%
%:%4427=1621%:%
%:%4428=1622%:%
%:%4429=1622%:%
%:%4430=1623%:%
%:%4431=1623%:%
%:%4432=1624%:%
%:%4433=1624%:%
%:%4434=1624%:%
%:%4435=1625%:%
%:%4436=1625%:%
%:%4437=1626%:%
%:%4438=1626%:%
%:%4439=1627%:%
%:%4440=1627%:%
%:%4441=1627%:%
%:%4442=1628%:%
%:%4443=1629%:%
%:%4444=1630%:%
%:%4445=1630%:%
%:%4446=1631%:%
%:%4447=1631%:%
%:%4448=1631%:%
%:%4449=1632%:%
%:%4450=1632%:%
%:%4451=1633%:%
%:%4452=1633%:%
%:%4453=1633%:%
%:%4454=1634%:%
%:%4455=1634%:%
%:%4456=1635%:%
%:%4457=1635%:%
%:%4458=1636%:%
%:%4459=1636%:%
%:%4460=1636%:%
%:%4461=1637%:%
%:%4462=1638%:%
%:%4463=1639%:%
%:%4464=1639%:%
%:%4465=1640%:%
%:%4466=1640%:%
%:%4467=1641%:%
%:%4468=1641%:%
%:%4469=1642%:%
%:%4470=1642%:%
%:%4471=1643%:%
%:%4472=1643%:%
%:%4473=1644%:%
%:%4479=1644%:%
%:%4482=1645%:%
%:%4483=1646%:%
%:%4484=1646%:%
%:%4485=1647%:%
%:%4486=1648%:%
%:%4489=1649%:%
%:%4493=1649%:%
%:%4494=1649%:%
%:%4495=1650%:%
%:%4496=1650%:%
%:%4497=1651%:%
%:%4498=1651%:%
%:%4499=1652%:%
%:%4500=1652%:%
%:%4501=1653%:%
%:%4502=1653%:%
%:%4503=1654%:%
%:%4504=1654%:%
%:%4505=1655%:%
%:%4506=1655%:%
%:%4507=1656%:%
%:%4508=1656%:%
%:%4509=1657%:%
%:%4510=1657%:%
%:%4511=1658%:%
%:%4512=1658%:%
%:%4513=1659%:%
%:%4514=1659%:%
%:%4515=1660%:%
%:%4516=1660%:%
%:%4517=1660%:%
%:%4518=1661%:%
%:%4519=1662%:%
%:%4520=1662%:%
%:%4521=1663%:%
%:%4522=1663%:%
%:%4523=1664%:%
%:%4524=1664%:%
%:%4525=1665%:%
%:%4526=1666%:%
%:%4527=1667%:%
%:%4528=1668%:%
%:%4529=1668%:%
%:%4530=1669%:%
%:%4531=1669%:%
%:%4532=1670%:%
%:%4533=1670%:%
%:%4534=1670%:%
%:%4535=1671%:%
%:%4536=1671%:%
%:%4537=1672%:%
%:%4538=1672%:%
%:%4539=1673%:%
%:%4540=1673%:%
%:%4541=1673%:%
%:%4542=1674%:%
%:%4543=1674%:%
%:%4544=1675%:%
%:%4545=1675%:%
%:%4546=1676%:%
%:%4552=1676%:%
%:%4557=1677%:%
%:%4562=1678%:%
%:%4563=1678%:%
%:%4564=1679%:%
%:%4569=1679%:%
%:%4574=1680%:%
%:%4578=1680%:%
%:%4579=1680%:%
%:%4580=1681%:%
%:%4581=1681%:%
%:%4586=1681%:%
%:%4591=1682%:%
%:%4596=1683%:%
%:%4597=1683%:%
%:%4598=1684%:%
%:%4603=1684%:%
%:%4612=1685%:%
%:%4613=1685%:%
%:%4614=1686%:%
%:%4615=1686%:%
%:%4616=1687%:%
%:%4617=1687%:%
%:%4618=1688%:%
%:%4619=1688%:%
%:%4620=1688%:%
%:%4621=1689%:%
%:%4622=1690%:%
%:%4623=1690%:%
%:%4624=1691%:%
%:%4625=1691%:%
%:%4626=1692%:%
%:%4627=1692%:%
%:%4628=1693%:%
%:%4629=1693%:%
%:%4630=1694%:%
%:%4631=1694%:%
%:%4632=1695%:%
%:%4638=1695%:%
%:%4643=1696%:%
%:%4648=1697%:%
%:%4649=1697%:%
%:%4650=1698%:%
%:%4655=1698%:%
%:%4660=1699%:%
%:%4664=1699%:%
%:%4665=1699%:%
%:%4666=1700%:%
%:%4667=1700%:%
%:%4672=1700%:%
%:%4677=1701%:%
%:%4682=1702%:%
%:%4683=1702%:%
%:%4684=1703%:%
%:%4685=1704%:%
%:%4690=1704%:%
%:%4695=1705%:%
%:%4699=1705%:%
%:%4700=1705%:%
%:%4701=1706%:%
%:%4702=1706%:%
%:%4707=1706%:%
%:%4712=1707%:%
%:%4717=1708%:%
%:%4718=1708%:%
%:%4719=1709%:%
%:%4724=1709%:%
%:%4729=1710%:%
%:%4733=1710%:%
%:%4734=1710%:%
%:%4735=1711%:%
%:%4736=1711%:%
%:%4741=1711%:%
%:%4746=1712%:%
%:%4751=1713%:%
%:%4752=1713%:%
%:%4753=1714%:%
%:%4754=1715%:%
%:%4755=1716%:%
%:%4760=1716%:%
%:%4765=1717%:%
%:%4769=1717%:%
%:%4770=1717%:%
%:%4771=1718%:%
%:%4772=1718%:%
%:%4786=1720%:%
%:%4798=1722%:%
%:%4800=1724%:%
%:%4801=1724%:%
%:%4802=1725%:%
%:%4803=1726%:%
%:%4804=1727%:%
%:%4805=1727%:%
%:%4806=1728%:%
%:%4807=1729%:%
%:%4808=1730%:%
%:%4809=1730%:%
%:%4810=1731%:%
%:%4811=1732%:%
%:%4812=1733%:%
%:%4815=1734%:%
%:%4820=1735%:%
%:%4821=1735%:%
%:%4822=1736%:%
%:%4828=1742%:%
%:%4829=1743%:%
%:%4830=1744%:%
%:%4831=1744%:%
%:%4832=1745%:%
%:%4833=1746%:%
%:%4834=1747%:%
%:%4835=1747%:%
%:%4836=1748%:%
%:%4841=1748%:%
%:%4846=1749%:%
%:%4850=1749%:%
%:%4851=1749%:%
%:%4852=1750%:%
%:%4853=1750%:%
%:%4858=1750%:%
%:%4863=1751%:%
%:%4868=1752%:%
%:%4869=1752%:%
%:%4870=1753%:%
%:%4871=1754%:%
%:%4872=1755%:%
%:%4877=1755%:%
%:%4882=1756%:%
%:%4886=1756%:%
%:%4887=1756%:%
%:%4888=1757%:%
%:%4889=1757%:%
%:%4894=1757%:%
%:%4899=1758%:%
%:%4904=1759%:%
%:%4905=1759%:%
%:%4906=1760%:%
%:%4907=1761%:%
%:%4908=1762%:%
%:%4913=1762%:%
%:%4918=1763%:%
%:%4922=1763%:%
%:%4923=1763%:%
%:%4924=1764%:%
%:%4925=1764%:%
%:%4930=1764%:%
%:%4935=1765%:%
%:%4940=1766%:%
%:%4941=1766%:%
%:%4942=1767%:%
%:%4943=1768%:%
%:%4948=1768%:%
%:%4953=1769%:%
%:%4957=1769%:%
%:%4958=1769%:%
%:%4959=1770%:%
%:%4960=1770%:%
%:%4965=1770%:%
%:%4970=1771%:%
%:%4975=1772%:%
%:%4976=1772%:%
%:%4977=1773%:%
%:%4978=1774%:%
%:%4983=1774%:%
%:%4988=1775%:%
%:%4992=1775%:%
%:%4993=1775%:%
%:%4994=1776%:%
%:%4995=1776%:%
%:%4996=1777%:%
%:%4997=1777%:%
%:%5002=1777%:%
%:%5007=1778%:%
%:%5012=1779%:%
%:%5013=1779%:%
%:%5014=1780%:%
%:%5015=1781%:%
%:%5020=1781%:%
%:%5029=1782%:%
%:%5030=1782%:%
%:%5031=1783%:%
%:%5032=1783%:%
%:%5033=1784%:%
%:%5034=1784%:%
%:%5035=1785%:%
%:%5036=1785%:%
%:%5037=1786%:%
%:%5038=1786%:%
%:%5039=1787%:%
%:%5040=1787%:%
%:%5041=1788%:%
%:%5042=1788%:%
%:%5043=1789%:%
%:%5044=1789%:%
%:%5045=1790%:%
%:%5046=1790%:%
%:%5047=1791%:%
%:%5048=1791%:%
%:%5049=1792%:%
%:%5050=1792%:%
%:%5051=1793%:%
%:%5057=1793%:%
%:%5060=1794%:%
%:%5061=1795%:%
%:%5062=1795%:%
%:%5063=1796%:%
%:%5064=1797%:%
%:%5065=1797%:%
%:%5072=1798%:%
%:%5073=1798%:%
%:%5074=1799%:%
%:%5075=1799%:%
%:%5076=1800%:%
%:%5077=1800%:%
%:%5078=1801%:%
%:%5079=1801%:%
%:%5080=1802%:%
%:%5081=1802%:%
%:%5082=1803%:%
%:%5088=1803%:%
%:%5091=1804%:%
%:%5092=1804%:%
%:%5093=1805%:%
%:%5094=1806%:%
%:%5095=1806%:%
%:%5096=1807%:%
%:%5099=1808%:%
%:%5103=1808%:%
%:%5104=1808%:%
%:%5105=1809%:%
%:%5106=1809%:%
%:%5111=1809%:%
%:%5116=1810%:%
%:%5121=1811%:%
%:%5122=1811%:%
%:%5123=1812%:%
%:%5124=1813%:%
%:%5129=1813%:%
%:%5134=1814%:%
%:%5138=1814%:%
%:%5139=1814%:%
%:%5140=1815%:%
%:%5141=1815%:%
%:%5146=1815%:%
%:%5151=1816%:%
%:%5156=1817%:%
%:%5157=1817%:%
%:%5158=1818%:%
%:%5159=1819%:%
%:%5160=1820%:%
%:%5161=1821%:%
%:%5166=1821%:%
%:%5175=1822%:%
%:%5176=1822%:%
%:%5177=1823%:%
%:%5178=1823%:%
%:%5179=1824%:%
%:%5180=1824%:%
%:%5181=1825%:%
%:%5182=1825%:%
%:%5183=1826%:%
%:%5184=1826%:%
%:%5185=1827%:%
%:%5186=1827%:%
%:%5187=1828%:%
%:%5188=1828%:%
%:%5189=1829%:%
%:%5190=1829%:%
%:%5191=1830%:%
%:%5197=1830%:%
%:%5200=1831%:%
%:%5201=1832%:%
%:%5202=1832%:%
%:%5203=1833%:%
%:%5204=1834%:%
%:%5211=1835%:%
%:%5212=1835%:%
%:%5213=1836%:%
%:%5214=1836%:%
%:%5215=1837%:%
%:%5216=1837%:%
%:%5217=1837%:%
%:%5218=1838%:%
%:%5219=1839%:%
%:%5220=1839%:%
%:%5221=1840%:%
%:%5222=1840%:%
%:%5223=1841%:%
%:%5224=1841%:%
%:%5225=1842%:%
%:%5226=1842%:%
%:%5227=1843%:%
%:%5228=1843%:%
%:%5229=1844%:%
%:%5230=1844%:%
%:%5231=1845%:%
%:%5232=1845%:%
%:%5233=1846%:%
%:%5234=1846%:%
%:%5235=1847%:%
%:%5236=1847%:%
%:%5237=1848%:%
%:%5238=1848%:%
%:%5239=1849%:%
%:%5240=1849%:%
%:%5241=1850%:%
%:%5242=1850%:%
%:%5243=1851%:%
%:%5244=1851%:%
%:%5245=1852%:%
%:%5246=1852%:%
%:%5247=1853%:%
%:%5248=1853%:%
%:%5249=1854%:%
%:%5250=1854%:%
%:%5251=1855%:%
%:%5252=1855%:%
%:%5253=1856%:%
%:%5254=1856%:%
%:%5255=1857%:%
%:%5256=1857%:%
%:%5257=1858%:%
%:%5258=1858%:%
%:%5259=1859%:%
%:%5260=1859%:%
%:%5261=1860%:%
%:%5262=1860%:%
%:%5263=1861%:%
%:%5264=1861%:%
%:%5265=1862%:%
%:%5266=1862%:%
%:%5267=1863%:%
%:%5268=1863%:%
%:%5269=1864%:%
%:%5270=1864%:%
%:%5271=1865%:%
%:%5272=1865%:%
%:%5273=1866%:%
%:%5274=1866%:%
%:%5275=1867%:%
%:%5276=1867%:%
%:%5277=1868%:%
%:%5278=1868%:%
%:%5279=1869%:%
%:%5280=1869%:%
%:%5281=1870%:%
%:%5282=1870%:%
%:%5283=1871%:%
%:%5284=1871%:%
%:%5285=1872%:%
%:%5286=1872%:%
%:%5287=1873%:%
%:%5288=1873%:%
%:%5289=1874%:%
%:%5290=1874%:%
%:%5291=1875%:%
%:%5292=1875%:%
%:%5293=1876%:%
%:%5294=1876%:%
%:%5295=1877%:%
%:%5296=1877%:%
%:%5297=1878%:%
%:%5303=1878%:%
%:%5306=1879%:%
%:%5307=1880%:%
%:%5308=1880%:%
%:%5309=1881%:%
%:%5310=1882%:%
%:%5311=1883%:%
%:%5314=1884%:%
%:%5318=1884%:%
%:%5319=1884%:%
%:%5320=1885%:%
%:%5321=1885%:%
%:%5322=1886%:%
%:%5323=1886%:%
%:%5324=1887%:%
%:%5325=1887%:%
%:%5326=1888%:%
%:%5327=1888%:%
%:%5328=1889%:%
%:%5329=1889%:%
%:%5330=1890%:%
%:%5331=1890%:%
%:%5332=1891%:%
%:%5333=1891%:%
%:%5334=1892%:%
%:%5335=1892%:%
%:%5336=1893%:%
%:%5337=1893%:%
%:%5338=1894%:%
%:%5339=1894%:%
%:%5340=1895%:%
%:%5341=1895%:%
%:%5342=1896%:%
%:%5343=1896%:%
%:%5344=1897%:%
%:%5345=1897%:%
%:%5346=1898%:%
%:%5347=1898%:%
%:%5348=1899%:%
%:%5349=1899%:%
%:%5350=1900%:%
%:%5351=1900%:%
%:%5352=1901%:%
%:%5353=1901%:%
%:%5354=1902%:%
%:%5355=1902%:%
%:%5356=1903%:%
%:%5357=1903%:%
%:%5358=1904%:%
%:%5359=1904%:%
%:%5360=1905%:%
%:%5366=1905%:%
%:%5369=1906%:%
%:%5370=1907%:%
%:%5371=1907%:%
%:%5372=1908%:%
%:%5373=1909%:%
%:%5380=1910%:%
%:%5381=1910%:%
%:%5382=1911%:%
%:%5383=1911%:%
%:%5384=1912%:%
%:%5385=1912%:%
%:%5386=1913%:%
%:%5387=1913%:%
%:%5388=1914%:%
%:%5389=1914%:%
%:%5390=1914%:%
%:%5391=1915%:%
%:%5392=1916%:%
%:%5393=1916%:%
%:%5394=1917%:%
%:%5395=1917%:%
%:%5396=1918%:%
%:%5397=1918%:%
%:%5398=1919%:%
%:%5399=1919%:%
%:%5400=1920%:%
%:%5401=1920%:%
%:%5402=1921%:%
%:%5403=1921%:%
%:%5404=1922%:%
%:%5405=1922%:%
%:%5406=1923%:%
%:%5407=1923%:%
%:%5408=1924%:%
%:%5409=1924%:%
%:%5410=1925%:%
%:%5411=1925%:%
%:%5412=1926%:%
%:%5413=1926%:%
%:%5414=1927%:%
%:%5415=1927%:%
%:%5416=1928%:%
%:%5417=1928%:%
%:%5418=1929%:%
%:%5419=1929%:%
%:%5420=1930%:%
%:%5421=1930%:%
%:%5422=1931%:%
%:%5423=1931%:%
%:%5424=1932%:%
%:%5425=1932%:%
%:%5426=1933%:%
%:%5427=1933%:%
%:%5428=1934%:%
%:%5429=1934%:%
%:%5430=1935%:%
%:%5431=1935%:%
%:%5432=1936%:%
%:%5433=1936%:%
%:%5434=1937%:%
%:%5435=1937%:%
%:%5436=1938%:%
%:%5437=1938%:%
%:%5438=1939%:%
%:%5439=1939%:%
%:%5440=1940%:%
%:%5441=1940%:%
%:%5442=1941%:%
%:%5443=1941%:%
%:%5444=1942%:%
%:%5445=1942%:%
%:%5446=1943%:%
%:%5447=1944%:%
%:%5448=1945%:%
%:%5449=1946%:%
%:%5450=1946%:%
%:%5451=1947%:%
%:%5452=1947%:%
%:%5453=1948%:%
%:%5454=1948%:%
%:%5455=1949%:%
%:%5456=1949%:%
%:%5457=1950%:%
%:%5458=1950%:%
%:%5459=1951%:%
%:%5460=1951%:%
%:%5461=1952%:%
%:%5462=1952%:%
%:%5463=1952%:%
%:%5464=1953%:%
%:%5465=1953%:%
%:%5466=1954%:%
%:%5467=1954%:%
%:%5468=1955%:%
%:%5469=1955%:%
%:%5470=1956%:%
%:%5471=1956%:%
%:%5472=1956%:%
%:%5473=1957%:%
%:%5474=1957%:%
%:%5475=1958%:%
%:%5476=1958%:%
%:%5477=1959%:%
%:%5478=1959%:%
%:%5479=1959%:%
%:%5480=1960%:%
%:%5481=1960%:%
%:%5482=1961%:%
%:%5483=1961%:%
%:%5484=1962%:%
%:%5485=1962%:%
%:%5486=1963%:%
%:%5492=1963%:%
%:%5495=1964%:%
%:%5496=1965%:%
%:%5497=1965%:%
%:%5498=1966%:%
%:%5499=1967%:%
%:%5506=1968%:%
%:%5507=1968%:%
%:%5508=1969%:%
%:%5509=1969%:%
%:%5510=1970%:%
%:%5511=1970%:%
%:%5512=1971%:%
%:%5513=1971%:%
%:%5514=1972%:%
%:%5515=1972%:%
%:%5516=1973%:%
%:%5517=1973%:%
%:%5518=1974%:%
%:%5519=1974%:%
%:%5520=1975%:%
%:%5526=1975%:%
%:%5529=1976%:%
%:%5530=1977%:%
%:%5531=1977%:%
%:%5532=1978%:%
%:%5533=1979%:%
%:%5534=1980%:%
%:%5537=1981%:%
%:%5541=1981%:%
%:%5542=1981%:%
%:%5543=1982%:%
%:%5544=1982%:%
%:%5545=1983%:%
%:%5546=1983%:%
%:%5547=1984%:%
%:%5548=1984%:%
%:%5549=1985%:%
%:%5550=1985%:%
%:%5551=1986%:%
%:%5552=1986%:%
%:%5553=1987%:%
%:%5554=1987%:%
%:%5555=1988%:%
%:%5556=1988%:%
%:%5557=1989%:%
%:%5558=1989%:%
%:%5559=1990%:%
%:%5560=1990%:%
%:%5561=1991%:%
%:%5562=1991%:%
%:%5563=1992%:%
%:%5564=1992%:%
%:%5565=1993%:%
%:%5566=1993%:%
%:%5567=1994%:%
%:%5568=1994%:%
%:%5569=1995%:%
%:%5570=1995%:%
%:%5571=1996%:%
%:%5572=1996%:%
%:%5573=1997%:%
%:%5574=1997%:%
%:%5575=1998%:%
%:%5576=1998%:%
%:%5577=1999%:%
%:%5578=1999%:%
%:%5579=2000%:%
%:%5580=2000%:%
%:%5581=2001%:%
%:%5582=2001%:%
%:%5583=2002%:%
%:%5589=2002%:%
%:%5592=2003%:%
%:%5593=2004%:%
%:%5594=2004%:%
%:%5595=2005%:%
%:%5597=2007%:%
%:%5598=2008%:%
%:%5599=2009%:%
%:%5600=2009%:%
%:%5601=2010%:%
%:%5602=2011%:%
%:%5605=2012%:%
%:%5609=2012%:%
%:%5610=2012%:%
%:%5611=2013%:%
%:%5612=2013%:%
%:%5617=2013%:%
%:%5620=2014%:%
%:%5621=2015%:%
%:%5622=2015%:%
%:%5623=2016%:%
%:%5626=2017%:%
%:%5630=2017%:%
%:%5631=2017%:%
%:%5632=2018%:%
%:%5633=2018%:%
%:%5634=2019%:%
%:%5635=2019%:%
%:%5640=2019%:%
%:%5643=2020%:%
%:%5644=2021%:%
%:%5645=2021%:%
%:%5646=2022%:%
%:%5647=2023%:%
%:%5650=2024%:%
%:%5654=2024%:%
%:%5655=2024%:%
%:%5656=2025%:%
%:%5657=2025%:%
%:%5662=2025%:%
%:%5667=2026%:%
%:%5672=2027%:%