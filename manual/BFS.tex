%
\begin{isabellebody}%
\setisabellecontext{BFS}%
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
\isacommand{theory}\isamarkupfalse%
\ BFS\isanewline
\ \ \isakeyword{imports}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharslash}{\kern0pt}Graph{\isacharslash}{\kern0pt}Adjacency{\isacharslash}{\kern0pt}Directed{\isacharunderscore}{\kern0pt}Adjacency{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharslash}{\kern0pt}Graph{\isacharslash}{\kern0pt}Directed{\isacharunderscore}{\kern0pt}Graph{\isacharslash}{\kern0pt}Directed{\isacharunderscore}{\kern0pt}Graph{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharslash}{\kern0pt}Map{\isacharslash}{\kern0pt}Map{\isacharunderscore}{\kern0pt}Specs{\isacharunderscore}{\kern0pt}Ext{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharslash}{\kern0pt}Map{\isacharslash}{\kern0pt}Parent{\isacharunderscore}{\kern0pt}Relation{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharslash}{\kern0pt}Queue{\isacharslash}{\kern0pt}Queue{\isacharunderscore}{\kern0pt}Specs{\isachardoublequoteclose}\isanewline
\isakeyword{begin}%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\begin{isamarkuptext}%
This theory specifies and verifies breadth-first search (BFS). More specifically, we verify that
given a directed graph G and a source vertex src, the output of the algorithm induces a
breadth-first tree T, that is, T consists of the vertices reachable from src in G, and for every
vertex v in T, T contains a unique simple path from src to v that is also a shortest path from src
to v in G.%
\end{isamarkuptext}\isamarkuptrue%
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsection{BFS%
}
\isamarkuptrue%
%
\isamarkupsubsection{Specification of the algorithm%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{record}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}q{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}m{\isacharparenright}{\kern0pt}\ state\ {\isacharequal}{\kern0pt}\isanewline
\ \ queue\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacharprime}{\kern0pt}q\isanewline
\ \ parent\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}m{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{locale}\isamarkupfalse%
\ bfs\ {\isacharequal}{\kern0pt}\isanewline
\ \ G{\isacharcolon}{\kern0pt}\ adjacency\ \isakeyword{where}\ Map{\isacharunderscore}{\kern0pt}update\ {\isacharequal}{\kern0pt}\ Map{\isacharunderscore}{\kern0pt}update\ {\isacharplus}{\kern0pt}\isanewline
\ \ P{\isacharcolon}{\kern0pt}\ Map\ \isakeyword{where}\isanewline
\ \ empty\ {\isacharequal}{\kern0pt}\ P{\isacharunderscore}{\kern0pt}empty\ \isakeyword{and}\isanewline
\ \ update\ {\isacharequal}{\kern0pt}\ P{\isacharunderscore}{\kern0pt}update\ \isakeyword{and}\isanewline
\ \ delete\ {\isacharequal}{\kern0pt}\ P{\isacharunderscore}{\kern0pt}delete\ \isakeyword{and}\isanewline
\ \ lookup\ {\isacharequal}{\kern0pt}\ P{\isacharunderscore}{\kern0pt}lookup\ \isakeyword{and}\isanewline
\ \ invar\ {\isacharequal}{\kern0pt}\ P{\isacharunderscore}{\kern0pt}invar\ {\isacharplus}{\kern0pt}\isanewline
\ \ Q{\isacharcolon}{\kern0pt}\ Queue\ \isakeyword{where}\isanewline
\ \ empty\ {\isacharequal}{\kern0pt}\ Q{\isacharunderscore}{\kern0pt}empty\ \isakeyword{and}\isanewline
\ \ is{\isacharunderscore}{\kern0pt}empty\ {\isacharequal}{\kern0pt}\ Q{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ \isakeyword{and}\isanewline
\ \ snoc\ {\isacharequal}{\kern0pt}\ Q{\isacharunderscore}{\kern0pt}snoc\ \isakeyword{and}\isanewline
\ \ head\ {\isacharequal}{\kern0pt}\ Q{\isacharunderscore}{\kern0pt}head\ \isakeyword{and}\isanewline
\ \ tail\ {\isacharequal}{\kern0pt}\ Q{\isacharunderscore}{\kern0pt}tail\ \isakeyword{and}\isanewline
\ \ invar\ {\isacharequal}{\kern0pt}\ Q{\isacharunderscore}{\kern0pt}invar\ \isakeyword{and}\isanewline
\ \ list\ {\isacharequal}{\kern0pt}\ Q{\isacharunderscore}{\kern0pt}list\ \isakeyword{for}\isanewline
\ \ Map{\isacharunderscore}{\kern0pt}update\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}linorder\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}s\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}n\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}n{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ P{\isacharunderscore}{\kern0pt}empty\ \isakeyword{and}\isanewline
\ \ P{\isacharunderscore}{\kern0pt}update\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ P{\isacharunderscore}{\kern0pt}delete\ \isakeyword{and}\isanewline
\ \ P{\isacharunderscore}{\kern0pt}lookup\ \isakeyword{and}\isanewline
\ \ P{\isacharunderscore}{\kern0pt}invar\ \isakeyword{and}\isanewline
\ \ Q{\isacharunderscore}{\kern0pt}empty\ \isakeyword{and}\isanewline
\ \ Q{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ \isakeyword{and}\isanewline
\ \ Q{\isacharunderscore}{\kern0pt}snoc\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}q\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}q{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ Q{\isacharunderscore}{\kern0pt}head\ \isakeyword{and}\isanewline
\ \ Q{\isacharunderscore}{\kern0pt}tail\ \isakeyword{and}\isanewline
\ \ Q{\isacharunderscore}{\kern0pt}invar\ \isakeyword{and}\isanewline
\ \ Q{\isacharunderscore}{\kern0pt}list\isanewline
\isakeyword{begin}%
\begin{isamarkuptext}%
Our implementation of BFS keeps two data structures, a first-in, first-out queue, initialized to
contain the source vertex src, and a parent map, initialized to the empty map. As long as the queue
is not empty, the algorithm pops the head u of the queue, and for every adjacent vertex v, discovers
v if it hasn't been discovered yet, where discovering v entails enqueuing v as well as setting v's
parent to u.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{definition}\isamarkupfalse%
\ init\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}q{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}m{\isacharparenright}{\kern0pt}\ state{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}init\ src\ {\isasymequiv}\isanewline
\ \ \ {\isasymlparr}queue\ {\isacharequal}{\kern0pt}\ Q{\isacharunderscore}{\kern0pt}snoc\ Q{\isacharunderscore}{\kern0pt}empty\ src{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ parent\ {\isacharequal}{\kern0pt}\ P{\isacharunderscore}{\kern0pt}empty{\isasymrparr}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ DONE\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}q{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}m{\isacharparenright}{\kern0pt}\ state\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}DONE\ s\ {\isasymlongleftrightarrow}\ Q{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}discovered\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}discovered\ src\ m\ v\ {\isasymlongleftrightarrow}\ v\ {\isacharequal}{\kern0pt}\ src\ {\isasymor}\ P{\isacharunderscore}{\kern0pt}lookup\ m\ v\ {\isasymnoteq}\ None{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ discover\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}q{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}m{\isacharparenright}{\kern0pt}\ state\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}q{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}m{\isacharparenright}{\kern0pt}\ state{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}discover\ u\ v\ s\ {\isasymequiv}\isanewline
\ \ \ {\isasymlparr}queue\ {\isacharequal}{\kern0pt}\ Q{\isacharunderscore}{\kern0pt}snoc\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}\ v{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ parent\ {\isacharequal}{\kern0pt}\ P{\isacharunderscore}{\kern0pt}update\ v\ u\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isasymrparr}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ traverse{\isacharunderscore}{\kern0pt}edge\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}q{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}m{\isacharparenright}{\kern0pt}\ state\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}q{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}m{\isacharparenright}{\kern0pt}\ state{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u\ v\ s\ {\isasymequiv}\isanewline
\ \ \ if\ {\isasymnot}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v\ then\ discover\ u\ v\ s\isanewline
\ \ \ else\ s{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{function}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}domintros{\isacharparenright}{\kern0pt}\ loop\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}n\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}q{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}m{\isacharparenright}{\kern0pt}\ state\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}q{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}m{\isacharparenright}{\kern0pt}\ state{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}loop\ G\ src\ s\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ {\isacharparenleft}{\kern0pt}if\ {\isasymnot}\ DONE\ s\isanewline
\ \ \ \ then\ let\isanewline
\ \ \ \ \ \ \ \ \ \ u\ {\isacharequal}{\kern0pt}\ Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharsemicolon}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ q\ {\isacharequal}{\kern0pt}\ Q{\isacharunderscore}{\kern0pt}tail\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ in\ loop\ G\ src\ {\isacharparenleft}{\kern0pt}fold\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ u{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}s{\isasymlparr}queue\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ q{\isasymrparr}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ else\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ pat{\isacharunderscore}{\kern0pt}completeness\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\ bfs\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}n\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}bfs\ G\ src\ {\isasymequiv}\ parent\ {\isacharparenleft}{\kern0pt}loop\ G\ src\ {\isacharparenleft}{\kern0pt}init\ src{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\ fold\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}n\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}q{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}m{\isacharparenright}{\kern0pt}\ state\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}q{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}m{\isacharparenright}{\kern0pt}\ state{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}fold\ G\ src\ s\ {\isasymequiv}\isanewline
\ \ \ List{\isachardot}{\kern0pt}fold\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}s{\isasymlparr}queue\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ Q{\isacharunderscore}{\kern0pt}tail\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isasymrparr}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\ T\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ dgraph{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}T\ m\ {\isasymequiv}\ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ P{\isacharunderscore}{\kern0pt}lookup\ m\ v\ {\isacharequal}{\kern0pt}\ Some\ u{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{end}\isamarkupfalse%
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Verification of the correctness of the algorithm%
}
\isamarkuptrue%
%
\isamarkupsubsubsection{Input%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\begin{isamarkuptext}%
Algorithm \isa{{\isasymlambda}Map{\isacharunderscore}{\kern0pt}lookup\ Set{\isacharunderscore}{\kern0pt}inorder\ P{\isacharunderscore}{\kern0pt}empty\ P{\isacharunderscore}{\kern0pt}update\ P{\isacharunderscore}{\kern0pt}lookup\ Q{\isacharunderscore}{\kern0pt}empty\ Q{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ Q{\isacharunderscore}{\kern0pt}snoc\ Q{\isacharunderscore}{\kern0pt}head\ Q{\isacharunderscore}{\kern0pt}tail\ G\ src{\isachardot}{\kern0pt}\ state{\isachardot}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}bfs{\isachardot}{\kern0pt}loop\ Map{\isacharunderscore}{\kern0pt}lookup\ Set{\isacharunderscore}{\kern0pt}inorder\ P{\isacharunderscore}{\kern0pt}update\ P{\isacharunderscore}{\kern0pt}lookup\ Q{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ Q{\isacharunderscore}{\kern0pt}snoc\ Q{\isacharunderscore}{\kern0pt}head\ Q{\isacharunderscore}{\kern0pt}tail\ G\ src\ {\isacharparenleft}{\kern0pt}bfs{\isachardot}{\kern0pt}init\ P{\isacharunderscore}{\kern0pt}empty\ Q{\isacharunderscore}{\kern0pt}empty\ Q{\isacharunderscore}{\kern0pt}snoc\ src{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}} expects a directed graph G and a source vertex src in G as input, and the
correctness theorem will assume such an input. We remark that the assumption that src is indeed a
vertex in G is for the purpose of convenience. Let us formally specify these assumptions.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{locale}\isamarkupfalse%
\ bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input\ {\isacharequal}{\kern0pt}\ bfs\ \isakeyword{where}\isanewline
\ \ Map{\isacharunderscore}{\kern0pt}update\ {\isacharequal}{\kern0pt}\ Map{\isacharunderscore}{\kern0pt}update\ \isakeyword{and}\isanewline
\ \ P{\isacharunderscore}{\kern0pt}update\ {\isacharequal}{\kern0pt}\ P{\isacharunderscore}{\kern0pt}update\ \isakeyword{and}\isanewline
\ \ Q{\isacharunderscore}{\kern0pt}snoc\ {\isacharequal}{\kern0pt}\ Q{\isacharunderscore}{\kern0pt}snoc\ \isakeyword{for}\isanewline
\ \ Map{\isacharunderscore}{\kern0pt}update\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}linorder\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}s\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}n\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}n{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ P{\isacharunderscore}{\kern0pt}update\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ Q{\isacharunderscore}{\kern0pt}snoc\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}q\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}q{\isachardoublequoteclose}\ {\isacharplus}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ G\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacharprime}{\kern0pt}n\isanewline
\ \ \isakeyword{fixes}\ src\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacharprime}{\kern0pt}a\isanewline
\ \ \isakeyword{assumes}\ invar{\isacharunderscore}{\kern0pt}G{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ src{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}dV{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}src\ {\isasymin}\ G{\isachardot}{\kern0pt}dV\ G{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharprime}{\kern0pt}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}n\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharprime}{\kern0pt}\ G\ src\ {\isasymequiv}\isanewline
\ \ \ bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input\isanewline
\ \ \ \ Map{\isacharunderscore}{\kern0pt}empty\ Map{\isacharunderscore}{\kern0pt}delete\ Map{\isacharunderscore}{\kern0pt}lookup\ Map{\isacharunderscore}{\kern0pt}inorder\ Map{\isacharunderscore}{\kern0pt}inv\isanewline
\ \ \ \ Set{\isacharunderscore}{\kern0pt}empty\ Set{\isacharunderscore}{\kern0pt}insert\ Set{\isacharunderscore}{\kern0pt}delete\ Set{\isacharunderscore}{\kern0pt}isin\ Set{\isacharunderscore}{\kern0pt}inorder\ Set{\isacharunderscore}{\kern0pt}inv\isanewline
\ \ \ \ P{\isacharunderscore}{\kern0pt}empty\ P{\isacharunderscore}{\kern0pt}delete\ P{\isacharunderscore}{\kern0pt}lookup\ P{\isacharunderscore}{\kern0pt}invar\isanewline
\ \ \ \ Q{\isacharunderscore}{\kern0pt}empty\ Q{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ Q{\isacharunderscore}{\kern0pt}head\ Q{\isacharunderscore}{\kern0pt}tail\ Q{\isacharunderscore}{\kern0pt}invar\ Q{\isacharunderscore}{\kern0pt}list\isanewline
\ \ \ \ Map{\isacharunderscore}{\kern0pt}update\ P{\isacharunderscore}{\kern0pt}update\ Q{\isacharunderscore}{\kern0pt}snoc\ G\ src{\isachardoublequoteclose}%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsubsection{Loop invariants%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\begin{isamarkuptext}%
Unfolding the definition of \isa{{\isasymlambda}Map{\isacharunderscore}{\kern0pt}lookup\ Set{\isacharunderscore}{\kern0pt}inorder\ P{\isacharunderscore}{\kern0pt}empty\ P{\isacharunderscore}{\kern0pt}update\ P{\isacharunderscore}{\kern0pt}lookup\ Q{\isacharunderscore}{\kern0pt}empty\ Q{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ Q{\isacharunderscore}{\kern0pt}snoc\ Q{\isacharunderscore}{\kern0pt}head\ Q{\isacharunderscore}{\kern0pt}tail\ G\ src{\isachardot}{\kern0pt}\ state{\isachardot}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}bfs{\isachardot}{\kern0pt}loop\ Map{\isacharunderscore}{\kern0pt}lookup\ Set{\isacharunderscore}{\kern0pt}inorder\ P{\isacharunderscore}{\kern0pt}update\ P{\isacharunderscore}{\kern0pt}lookup\ Q{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ Q{\isacharunderscore}{\kern0pt}snoc\ Q{\isacharunderscore}{\kern0pt}head\ Q{\isacharunderscore}{\kern0pt}tail\ G\ src\ {\isacharparenleft}{\kern0pt}bfs{\isachardot}{\kern0pt}init\ P{\isacharunderscore}{\kern0pt}empty\ Q{\isacharunderscore}{\kern0pt}empty\ Q{\isacharunderscore}{\kern0pt}snoc\ src{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}}, we see that function \isa{bfs{\isachardot}{\kern0pt}loop} lies at the heart
of the algorithm. It expects the undirected graph G, the source vertex src in G, as well as the
current state s, which comprises the queue and parent map, as input. Let us look at the assumptions
on the queue and parent map. As these are the only two data structures that may change from one
iteration to the next, these assumptions constitute the loop invariants of \isa{bfs{\isachardot}{\kern0pt}loop}.%
\end{isamarkuptext}\isamarkuptrue%
%
\begin{isamarkuptext}%
To keep track of progress, the algorithm colors every vertex in G either white, gray, or black. All
vertices start out white and may later become gray and then black.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{abbreviation}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ white\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}q{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}m{\isacharparenright}{\kern0pt}\ state\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}white\ s\ v\ {\isasymequiv}\ {\isasymnot}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ gray\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}q{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}m{\isacharparenright}{\kern0pt}\ state\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}gray\ s\ v\ {\isasymequiv}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v\ {\isasymand}\ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ black\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}q{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}m{\isacharparenright}{\kern0pt}\ state\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}black\ s\ v\ {\isasymequiv}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v\ {\isasymand}\ v\ {\isasymnotin}\ set\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ rev{\isacharunderscore}{\kern0pt}follow\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ dpath{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}rev{\isacharunderscore}{\kern0pt}follow\ m\ v\ {\isasymequiv}\ rev\ {\isacharparenleft}{\kern0pt}parent{\isachardot}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ m{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ d\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ nat{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}d\ m\ v\ {\isasymequiv}\ dpath{\isacharunderscore}{\kern0pt}length\ {\isacharparenleft}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow\ m\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{locale}\isamarkupfalse%
\ bfs{\isacharunderscore}{\kern0pt}invar\ {\isacharequal}{\kern0pt}\isanewline
\ \ bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input\ \isakeyword{where}\ P{\isacharunderscore}{\kern0pt}update\ {\isacharequal}{\kern0pt}\ P{\isacharunderscore}{\kern0pt}update\ \isakeyword{and}\ Q{\isacharunderscore}{\kern0pt}snoc\ {\isacharequal}{\kern0pt}\ Q{\isacharunderscore}{\kern0pt}snoc\ {\isacharplus}{\kern0pt}\isanewline
\ \ parent\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{for}\isanewline
\ \ P{\isacharunderscore}{\kern0pt}update\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}linorder\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ Q{\isacharunderscore}{\kern0pt}snoc\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}q\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}q{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ s\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}q{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}m{\isacharparenright}{\kern0pt}\ state{\isachardoublequoteclose}\ {\isacharplus}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ invar{\isacharunderscore}{\kern0pt}queue{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ invar{\isacharunderscore}{\kern0pt}parent{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ parent{\isacharunderscore}{\kern0pt}src{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ src\ {\isacharequal}{\kern0pt}\ None{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ parent{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}edge{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ Some\ u\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isasymin}\ G{\isachardot}{\kern0pt}dE\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}queue{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ {\isasymnot}\ white\ s\ v{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}parent{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ Some\ u\ {\isasymLongrightarrow}\ {\isasymnot}\ white\ s\ u{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ black{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymlbrakk}\ {\isacharparenleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isasymin}\ G{\isachardot}{\kern0pt}dE\ G{\isacharsemicolon}{\kern0pt}\ black\ s\ u\ {\isasymrbrakk}\ {\isasymLongrightarrow}\ {\isasymnot}\ white\ s\ v{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ queue{\isacharunderscore}{\kern0pt}sorted{\isacharunderscore}{\kern0pt}wrt{\isacharunderscore}{\kern0pt}d{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}wrt\ {\isacharparenleft}{\kern0pt}{\isasymlambda}u\ v{\isachardot}{\kern0pt}\ d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ u\ {\isasymle}\ d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ d{\isacharunderscore}{\kern0pt}last{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}le{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymnot}\ Q{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}last\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\ d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ d{\isacharunderscore}{\kern0pt}triangle{\isacharunderscore}{\kern0pt}inequality{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymlbrakk}\ dpath{\isacharunderscore}{\kern0pt}bet\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}dE\ G{\isacharparenright}{\kern0pt}\ p\ u\ v{\isacharsemicolon}{\kern0pt}\ {\isasymnot}\ white\ s\ u{\isacharsemicolon}{\kern0pt}\ {\isasymnot}\ white\ s\ v\ {\isasymrbrakk}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v\ {\isasymle}\ d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ u\ {\isacharplus}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}length\ p{\isachardoublequoteclose}%
\begin{isamarkuptext}%
Invariant \isa{{\isasymlbrakk}bfs{\isacharunderscore}{\kern0pt}invar\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}lookup\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inorder\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inv\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}insert\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}isin\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}inorder\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}inv\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}invar\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}tail\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}invar\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}update\ {\isacharquery}{\kern0pt}G\ {\isacharquery}{\kern0pt}src\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}update\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}snoc\ {\isacharquery}{\kern0pt}s{\isacharsemicolon}{\kern0pt}\ {\isacharquery}{\kern0pt}u\ {\isasymrightarrow}\isactrlbsub adjacency{\isachardot}{\kern0pt}dE\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}lookup\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}inorder\ {\isacharquery}{\kern0pt}G\isactrlesub {\isacharquery}{\kern0pt}v{\isacharsemicolon}{\kern0pt}\ bfs{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}discovered\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharquery}{\kern0pt}src\ {\isacharparenleft}{\kern0pt}state{\isachardot}{\kern0pt}parent\ {\isacharquery}{\kern0pt}s{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}u\ {\isasymand}\ {\isacharquery}{\kern0pt}u\ {\isasymnotin}\ set\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ {\isacharquery}{\kern0pt}s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymrbrakk}\ {\isasymLongrightarrow}\ {\isasymnot}\ {\isasymnot}\ bfs{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}discovered\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharquery}{\kern0pt}src\ {\isacharparenleft}{\kern0pt}state{\isachardot}{\kern0pt}parent\ {\isacharquery}{\kern0pt}s{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}v} says that all vertices adjacent to black
vertices have been discovered.%
\end{isamarkuptext}\isamarkuptrue%
%
\begin{isamarkuptext}%
For a vertex $v$ in G, let d v denote the distance from the source src to v induced by the current
parent map.%
\end{isamarkuptext}\isamarkuptrue%
%
\begin{isamarkuptext}%
Let $v_1,\dots,v_k$ be the content of the current queue, where $v_1$ is the head. Then invariant
\isa{bfs{\isacharunderscore}{\kern0pt}invar\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}lookup\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inorder\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inv\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}insert\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}isin\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}inorder\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}inv\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}invar\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}tail\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}invar\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}update\ {\isacharquery}{\kern0pt}G\ {\isacharquery}{\kern0pt}src\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}update\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}snoc\ {\isacharquery}{\kern0pt}s\ {\isasymLongrightarrow}\ sorted{\isacharunderscore}{\kern0pt}wrt\ {\isacharparenleft}{\kern0pt}{\isasymlambda}u\ v{\isachardot}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}length\ {\isacharparenleft}{\kern0pt}rev\ {\isacharparenleft}{\kern0pt}parent{\isachardot}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}state{\isachardot}{\kern0pt}parent\ {\isacharquery}{\kern0pt}s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ u{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\ dpath{\isacharunderscore}{\kern0pt}length\ {\isacharparenleft}{\kern0pt}rev\ {\isacharparenleft}{\kern0pt}parent{\isachardot}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}state{\isachardot}{\kern0pt}parent\ {\isacharquery}{\kern0pt}s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ {\isacharquery}{\kern0pt}s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}} says that $d v_i\leq d v_{i+1}$ for all $i<k$. And invariant
\isa{{\isasymlbrakk}bfs{\isacharunderscore}{\kern0pt}invar\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}lookup\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inorder\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inv\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}insert\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}isin\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}inorder\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}inv\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}invar\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}tail\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}invar\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}update\ {\isacharquery}{\kern0pt}G\ {\isacharquery}{\kern0pt}src\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}update\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}snoc\ {\isacharquery}{\kern0pt}s{\isacharsemicolon}{\kern0pt}\ {\isasymnot}\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ {\isacharparenleft}{\kern0pt}queue\ {\isacharquery}{\kern0pt}s{\isacharparenright}{\kern0pt}{\isasymrbrakk}\ {\isasymLongrightarrow}\ dpath{\isacharunderscore}{\kern0pt}length\ {\isacharparenleft}{\kern0pt}rev\ {\isacharparenleft}{\kern0pt}parent{\isachardot}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}state{\isachardot}{\kern0pt}parent\ {\isacharquery}{\kern0pt}s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}last\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ {\isacharquery}{\kern0pt}s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\ dpath{\isacharunderscore}{\kern0pt}length\ {\isacharparenleft}{\kern0pt}rev\ {\isacharparenleft}{\kern0pt}parent{\isachardot}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}state{\isachardot}{\kern0pt}parent\ {\isacharquery}{\kern0pt}s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ {\isacharquery}{\kern0pt}s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}} says that $d v_k\leq d v_1 + 1$. That is, the current queue holds at
most two distinct $d$ values.%
\end{isamarkuptext}\isamarkuptrue%
%
\begin{isamarkuptext}%
Finally, invariant \isa{{\isasymlbrakk}bfs{\isacharunderscore}{\kern0pt}invar\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}lookup\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inorder\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inv\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}insert\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}isin\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}inorder\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}inv\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}invar\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}tail\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}invar\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}update\ {\isacharquery}{\kern0pt}G\ {\isacharquery}{\kern0pt}src\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}update\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}snoc\ {\isacharquery}{\kern0pt}s{\isacharsemicolon}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}bet\ {\isacharparenleft}{\kern0pt}adjacency{\isachardot}{\kern0pt}dE\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}lookup\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}inorder\ {\isacharquery}{\kern0pt}G{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}p\ {\isacharquery}{\kern0pt}u\ {\isacharquery}{\kern0pt}v{\isacharsemicolon}{\kern0pt}\ {\isasymnot}\ {\isasymnot}\ bfs{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}discovered\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharquery}{\kern0pt}src\ {\isacharparenleft}{\kern0pt}state{\isachardot}{\kern0pt}parent\ {\isacharquery}{\kern0pt}s{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}u{\isacharsemicolon}{\kern0pt}\ {\isasymnot}\ {\isasymnot}\ bfs{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}discovered\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharquery}{\kern0pt}src\ {\isacharparenleft}{\kern0pt}state{\isachardot}{\kern0pt}parent\ {\isacharquery}{\kern0pt}s{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}v{\isasymrbrakk}\ {\isasymLongrightarrow}\ dpath{\isacharunderscore}{\kern0pt}length\ {\isacharparenleft}{\kern0pt}rev\ {\isacharparenleft}{\kern0pt}parent{\isachardot}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}state{\isachardot}{\kern0pt}parent\ {\isacharquery}{\kern0pt}s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\ dpath{\isacharunderscore}{\kern0pt}length\ {\isacharparenleft}{\kern0pt}rev\ {\isacharparenleft}{\kern0pt}parent{\isachardot}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}state{\isachardot}{\kern0pt}parent\ {\isacharquery}{\kern0pt}s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}u{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}length\ {\isacharquery}{\kern0pt}p} says that d satisfies a variant of the
triangle inequality. More specifically, if there is a path in G between two vertices u, v that
have been discovered by the algorithm, then their d values differ by at most the length of that
path.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{abbreviation}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharprime}{\kern0pt}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}n\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}q{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}m{\isacharparenright}{\kern0pt}\ state\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}bfs{\isacharunderscore}{\kern0pt}invar{\isacharprime}{\kern0pt}\ G\ src\ s\ {\isasymequiv}\isanewline
\ \ \ bfs{\isacharunderscore}{\kern0pt}invar\isanewline
\ \ \ \ Map{\isacharunderscore}{\kern0pt}empty\ Map{\isacharunderscore}{\kern0pt}delete\ Map{\isacharunderscore}{\kern0pt}lookup\ Map{\isacharunderscore}{\kern0pt}inorder\ Map{\isacharunderscore}{\kern0pt}inv\isanewline
\ \ \ \ Set{\isacharunderscore}{\kern0pt}empty\ Set{\isacharunderscore}{\kern0pt}insert\ Set{\isacharunderscore}{\kern0pt}delete\ Set{\isacharunderscore}{\kern0pt}isin\ Set{\isacharunderscore}{\kern0pt}inorder\ Set{\isacharunderscore}{\kern0pt}inv\isanewline
\ \ \ \ P{\isacharunderscore}{\kern0pt}empty\ P{\isacharunderscore}{\kern0pt}delete\ P{\isacharunderscore}{\kern0pt}lookup\ P{\isacharunderscore}{\kern0pt}invar\isanewline
\ \ \ \ Q{\isacharunderscore}{\kern0pt}empty\ Q{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ Q{\isacharunderscore}{\kern0pt}head\ Q{\isacharunderscore}{\kern0pt}tail\ Q{\isacharunderscore}{\kern0pt}invar\ Q{\isacharunderscore}{\kern0pt}list\isanewline
\ \ \ \ Map{\isacharunderscore}{\kern0pt}update\ G\ src\ P{\isacharunderscore}{\kern0pt}update\ Q{\isacharunderscore}{\kern0pt}snoc\ s{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}q{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}m{\isacharparenright}{\kern0pt}\ state\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}bfs{\isacharunderscore}{\kern0pt}invar{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ {\isasymequiv}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharprime}{\kern0pt}\ G\ src{\isachardoublequoteclose}%
\begin{isamarkuptext}%
Let us quickly show that the initial configuration of the queue--containing only the source vertex
src--and parent map--the empty map--satisfies the loop invariants.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ follow{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}init{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}follow{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}init\ src{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ wf{\isacharunderscore}{\kern0pt}empty\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ init{\isacharunderscore}{\kern0pt}def\ P{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}empty\ follow{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}init{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}init\ src{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ Q{\isachardot}{\kern0pt}invar{\isacharunderscore}{\kern0pt}empty\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ init{\isacharunderscore}{\kern0pt}def\ intro{\isacharcolon}{\kern0pt}\ Q{\isachardot}{\kern0pt}invar{\isacharunderscore}{\kern0pt}snoc{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}init{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}init\ src{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ P{\isachardot}{\kern0pt}invar{\isacharunderscore}{\kern0pt}empty\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ init{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ parent{\isacharunderscore}{\kern0pt}src{\isacharunderscore}{\kern0pt}init{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}init\ src{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ src\ {\isacharequal}{\kern0pt}\ None{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ init{\isacharunderscore}{\kern0pt}def\ P{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}empty{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ parent{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}edge{\isacharunderscore}{\kern0pt}init{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}init\ src{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ Some\ u{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isasymin}\ G{\isachardot}{\kern0pt}dE\ G{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ init{\isacharunderscore}{\kern0pt}def\ P{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}empty{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}init{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}init\ src{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymnot}\ white\ {\isacharparenleft}{\kern0pt}init\ src{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ Q{\isachardot}{\kern0pt}invar{\isacharunderscore}{\kern0pt}empty\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ init{\isacharunderscore}{\kern0pt}def\ Q{\isachardot}{\kern0pt}list{\isacharunderscore}{\kern0pt}snoc\ Q{\isachardot}{\kern0pt}list{\isacharunderscore}{\kern0pt}empty\ is{\isacharunderscore}{\kern0pt}discovered{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}init{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}init\ src{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ Some\ u{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymnot}\ white\ {\isacharparenleft}{\kern0pt}init\ src{\isacharparenright}{\kern0pt}\ u{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ init{\isacharunderscore}{\kern0pt}def\ P{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}empty{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ black{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}init{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}black\ {\isacharparenleft}{\kern0pt}init\ src{\isacharparenright}{\kern0pt}\ u{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isasymin}\ G{\isachardot}{\kern0pt}dE\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymnot}\ white\ s\ v{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}u\ {\isacharequal}{\kern0pt}\ src{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}discovered{\isacharunderscore}{\kern0pt}def\ init{\isacharunderscore}{\kern0pt}def\ P{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}empty{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ Q{\isachardot}{\kern0pt}invar{\isacharunderscore}{\kern0pt}empty\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ init{\isacharunderscore}{\kern0pt}def\ Q{\isachardot}{\kern0pt}list{\isacharunderscore}{\kern0pt}snoc{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ queue{\isacharunderscore}{\kern0pt}sorted{\isacharunderscore}{\kern0pt}wrt{\isacharunderscore}{\kern0pt}d{\isacharunderscore}{\kern0pt}init{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}wrt\ {\isacharparenleft}{\kern0pt}{\isasymlambda}u\ v{\isachardot}{\kern0pt}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}init\ src{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ u\ {\isasymle}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}init\ src{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}init\ src{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ Q{\isachardot}{\kern0pt}invar{\isacharunderscore}{\kern0pt}empty\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ init{\isacharunderscore}{\kern0pt}def\ Q{\isachardot}{\kern0pt}list{\isacharunderscore}{\kern0pt}snoc\ Q{\isachardot}{\kern0pt}list{\isacharunderscore}{\kern0pt}empty{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ d{\isacharunderscore}{\kern0pt}last{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}init{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymnot}\ Q{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}init\ src{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}init\ src{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}last\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}init\ src{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\isanewline
\ \ \ \ \ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}init\ src{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}init\ src{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ Q{\isachardot}{\kern0pt}invar{\isacharunderscore}{\kern0pt}empty\ invar{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}init\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ init{\isacharunderscore}{\kern0pt}def\ Q{\isachardot}{\kern0pt}list{\isacharunderscore}{\kern0pt}snoc\ Q{\isachardot}{\kern0pt}list{\isacharunderscore}{\kern0pt}empty\ Q{\isachardot}{\kern0pt}list{\isacharunderscore}{\kern0pt}head{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ d{\isacharunderscore}{\kern0pt}triangle{\isacharunderscore}{\kern0pt}inequality{\isacharunderscore}{\kern0pt}init{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}dpath{\isacharunderscore}{\kern0pt}bet\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}dE\ G{\isacharparenright}{\kern0pt}\ p\ u\ v{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymnot}\ white\ {\isacharparenleft}{\kern0pt}init\ src{\isacharparenright}{\kern0pt}\ u{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymnot}\ white\ {\isacharparenleft}{\kern0pt}init\ src{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}init\ src{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v\ {\isasymle}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}init\ src{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ u\ {\isacharplus}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}length\ p{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}discovered{\isacharunderscore}{\kern0pt}def\ init{\isacharunderscore}{\kern0pt}def\ P{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}empty{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}init{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}bfs{\isacharunderscore}{\kern0pt}invar{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}init\ src{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}standard{\isacharcomma}{\kern0pt}\ goal{\isacharunderscore}{\kern0pt}cases{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{1}}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{using}\isamarkupfalse%
\ follow{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}init\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{2}}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}init\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{3}}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}init\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{4}}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{using}\isamarkupfalse%
\ parent{\isacharunderscore}{\kern0pt}src{\isacharunderscore}{\kern0pt}init\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{5}}\ v\ u{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ parent{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}edge{\isacharunderscore}{\kern0pt}init{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{6}}\ v{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}init{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{7}}\ v\ u{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}init{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{8}}\ u\ v{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ black{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}init{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{9}}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{using}\isamarkupfalse%
\ queue{\isacharunderscore}{\kern0pt}sorted{\isacharunderscore}{\kern0pt}wrt{\isacharunderscore}{\kern0pt}d{\isacharunderscore}{\kern0pt}init\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{1}}{\isadigit{0}}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ d{\isacharunderscore}{\kern0pt}last{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}init{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{1}}\ p\ u\ v{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ d{\isacharunderscore}{\kern0pt}triangle{\isacharunderscore}{\kern0pt}inequality{\isacharunderscore}{\kern0pt}init{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
Let us now show that the loop invariants are maintained, that is, if they are satisfied at the start
of an iteration, then they also will be satisfied at the end.%
\end{isamarkuptext}\isamarkuptrue%
%
\begin{isamarkuptext}%
For this, let us first look at how the different subroutines change the queue and parent map.%
\end{isamarkuptext}\isamarkuptrue%
%
\begin{isamarkuptext}%
How does \isa{bfs{\isachardot}{\kern0pt}discover} change the queue and parent map?%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ queue{\isacharunderscore}{\kern0pt}discover{\isacharunderscore}{\kern0pt}cong\ {\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}queue\ {\isacharparenleft}{\kern0pt}discover\ u\ v\ s{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Q{\isacharunderscore}{\kern0pt}snoc\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ discover{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ parent{\isacharunderscore}{\kern0pt}discover{\isacharunderscore}{\kern0pt}cong\ {\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}parent\ {\isacharparenleft}{\kern0pt}discover\ u\ v\ s{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ P{\isacharunderscore}{\kern0pt}update\ v\ u\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ discover{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
How does \isa{bfs{\isachardot}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge} change the queue and parent map?%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ queue{\isacharunderscore}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}queue\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u\ v\ s{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}if\ {\isasymnot}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v\ then\ Q{\isacharunderscore}{\kern0pt}snoc\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}\ v\ else\ queue\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ traverse{\isacharunderscore}{\kern0pt}edge{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u\ v\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ Q{\isachardot}{\kern0pt}invar{\isacharunderscore}{\kern0pt}snoc\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ queue{\isacharunderscore}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u\ v\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}\ {\isacharat}{\kern0pt}\ {\isacharparenleft}{\kern0pt}if\ {\isasymnot}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v\ then\ {\isacharbrackleft}{\kern0pt}v{\isacharbrackright}{\kern0pt}\ else\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ queue{\isacharunderscore}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge{\isacharunderscore}{\kern0pt}cong\ Q{\isachardot}{\kern0pt}list{\isacharunderscore}{\kern0pt}snoc{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u\ v\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ P{\isachardot}{\kern0pt}invar{\isacharunderscore}{\kern0pt}update\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ traverse{\isacharunderscore}{\kern0pt}edge{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ lookup{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u\ v\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ override{\isacharunderscore}{\kern0pt}on\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharunderscore}{\kern0pt}{\isachardot}{\kern0pt}\ Some\ u{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}if\ {\isasymnot}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v\ then\ {\isacharbraceleft}{\kern0pt}v{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ traverse{\isacharunderscore}{\kern0pt}edge{\isacharunderscore}{\kern0pt}def\ P{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}update\ override{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}insert{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ T{\isacharunderscore}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}T\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u\ v\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ T\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}if\ {\isasymnot}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v\ then\ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ lookup{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge{\isacharunderscore}{\kern0pt}cong\ override{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ is{\isacharunderscore}{\kern0pt}discovered{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
How does \isa{{\isasymlambda}Map{\isacharunderscore}{\kern0pt}lookup\ Set{\isacharunderscore}{\kern0pt}inorder\ P{\isacharunderscore}{\kern0pt}update\ P{\isacharunderscore}{\kern0pt}lookup\ Q{\isacharunderscore}{\kern0pt}snoc\ Q{\isacharunderscore}{\kern0pt}head\ Q{\isacharunderscore}{\kern0pt}tail\ G\ src\ s{\isachardot}{\kern0pt}\ fold\ {\isacharparenleft}{\kern0pt}bfs{\isachardot}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ P{\isacharunderscore}{\kern0pt}update\ P{\isacharunderscore}{\kern0pt}lookup\ Q{\isacharunderscore}{\kern0pt}snoc\ src\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}adjacency{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ Map{\isacharunderscore}{\kern0pt}lookup\ Set{\isacharunderscore}{\kern0pt}inorder\ G\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}s{\isasymlparr}queue\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ Q{\isacharunderscore}{\kern0pt}tail\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isasymrparr}{\isacharparenright}{\kern0pt}} change the queue and parent map?%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharunderscore}{\kern0pt}aux{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}distinct\ {\isacharparenleft}{\kern0pt}v\ {\isacharhash}{\kern0pt}\ vs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}filter\ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u\ v\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ vs\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ vs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ filter{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ w\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}w\ {\isasymin}\ set\ vs{\isachardoublequoteclose}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u\ v\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ w\ {\isacharequal}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ w{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}discovered{\isacharunderscore}{\kern0pt}def\ lookup{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge{\isacharunderscore}{\kern0pt}cong\ override{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}insert{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u\ v\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ w\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ w{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}distinct\ l{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}List{\isachardot}{\kern0pt}fold\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u{\isacharparenright}{\kern0pt}\ l\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}\ {\isacharat}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ l{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ l\ arbitrary{\isacharcolon}{\kern0pt}\ s{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Nil\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Cons\ v\ vs{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}List{\isachardot}{\kern0pt}fold\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}v\ {\isacharhash}{\kern0pt}\ vs{\isacharparenright}{\kern0pt}\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}List{\isachardot}{\kern0pt}fold\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u{\isacharparenright}{\kern0pt}\ vs\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u\ v\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u\ v\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharat}{\kern0pt}\isanewline
\ \ \ \ \ filter\ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u\ v\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ vs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isachardot}{\kern0pt}prems\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ invar{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ Cons{\isachardot}{\kern0pt}hyps{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}\ {\isacharat}{\kern0pt}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}if\ {\isasymnot}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v\ then\ {\isacharbrackleft}{\kern0pt}v{\isacharbrackright}{\kern0pt}\ else\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharat}{\kern0pt}\isanewline
\ \ \ \ \ filter\ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u\ v\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ vs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isachardot}{\kern0pt}prems{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}\ {\isacharat}{\kern0pt}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}if\ {\isasymnot}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v\ then\ {\isacharbrackleft}{\kern0pt}v{\isacharbrackright}{\kern0pt}\ else\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharat}{\kern0pt}\isanewline
\ \ \ \ \ filter\ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ vs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isachardot}{\kern0pt}prems{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}\ {\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharunderscore}{\kern0pt}aux{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}\ {\isacharat}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}v\ {\isacharhash}{\kern0pt}\ vs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}tail{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymnot}\ DONE\ s{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}s{\isasymlparr}queue\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ Q{\isacharunderscore}{\kern0pt}tail\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isasymrparr}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ Q{\isachardot}{\kern0pt}invar{\isacharunderscore}{\kern0pt}tail\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ DONE{\isacharunderscore}{\kern0pt}def\ Q{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymnot}\ DONE\ s{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}tail\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharat}{\kern0pt}\isanewline
\ \ \ \ \ filter\ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}s{\isasymlparr}queue\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ Q{\isacharunderscore}{\kern0pt}tail\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isasymrparr}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharat}{\kern0pt}\isanewline
\ \ \ \ \ filter\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}s{\isasymlparr}queue\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ Q{\isacharunderscore}{\kern0pt}tail\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isasymrparr}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ invar{\isacharunderscore}{\kern0pt}tail\ G{\isachardot}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\ simp{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ comp{\isacharunderscore}{\kern0pt}apply\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}discovered{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ lookup{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}distinct\ l{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}List{\isachardot}{\kern0pt}fold\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u{\isacharparenright}{\kern0pt}\ l\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ override{\isacharunderscore}{\kern0pt}on\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharunderscore}{\kern0pt}{\isachardot}{\kern0pt}\ Some\ u{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ l{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ l\ arbitrary{\isacharcolon}{\kern0pt}\ s{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Nil\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Cons\ v\ vs{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}List{\isachardot}{\kern0pt}fold\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}v\ {\isacharhash}{\kern0pt}\ vs{\isacharparenright}{\kern0pt}\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}List{\isachardot}{\kern0pt}fold\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u{\isacharparenright}{\kern0pt}\ vs\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u\ v\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ override{\isacharunderscore}{\kern0pt}on\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u\ v\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharunderscore}{\kern0pt}{\isachardot}{\kern0pt}\ Some\ u{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u\ v\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ vs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isachardot}{\kern0pt}prems\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ intro{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ Cons{\isachardot}{\kern0pt}hyps{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ override{\isacharunderscore}{\kern0pt}on\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}override{\isacharunderscore}{\kern0pt}on\ {\isacharparenleft}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharunderscore}{\kern0pt}{\isachardot}{\kern0pt}\ Some\ u{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}if\ {\isasymnot}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v\ then\ {\isacharbraceleft}{\kern0pt}v{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharunderscore}{\kern0pt}{\isachardot}{\kern0pt}\ Some\ u{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u\ v\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ vs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isachardot}{\kern0pt}prems{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ lookup{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ override{\isacharunderscore}{\kern0pt}on\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}override{\isacharunderscore}{\kern0pt}on\ {\isacharparenleft}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharunderscore}{\kern0pt}{\isachardot}{\kern0pt}\ Some\ u{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}if\ {\isasymnot}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v\ then\ {\isacharbraceleft}{\kern0pt}v{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharunderscore}{\kern0pt}{\isachardot}{\kern0pt}\ Some\ u{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ vs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isachardot}{\kern0pt}prems\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharunderscore}{\kern0pt}aux{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ override{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}insert{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ lookup{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ override{\isacharunderscore}{\kern0pt}on\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharunderscore}{\kern0pt}{\isachardot}{\kern0pt}\ Some\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ override{\isacharunderscore}{\kern0pt}on\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}s{\isasymlparr}queue\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ Q{\isacharunderscore}{\kern0pt}tail\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isasymrparr}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharunderscore}{\kern0pt}{\isachardot}{\kern0pt}\ Some\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}s{\isasymlparr}queue\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ Q{\isacharunderscore}{\kern0pt}tail\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isasymrparr}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ G{\isachardot}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ lookup{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\ simp{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}discovered{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharparenright}{\kern0pt}\ lookup{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ override{\isacharunderscore}{\kern0pt}on\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharunderscore}{\kern0pt}{\isachardot}{\kern0pt}\ Some\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}G\ invar{\isacharunderscore}{\kern0pt}parent\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ lookup{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ T{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharunderscore}{\kern0pt}aux{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}distinct\ {\isacharparenleft}{\kern0pt}v\ {\isacharhash}{\kern0pt}\ vs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}w\ {\isasymin}\ set\ vs\ {\isasymand}\ {\isasymnot}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u\ v\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ w\ {\isasymlongleftrightarrow}\ w\ {\isasymin}\ set\ vs\ {\isasymand}\ {\isasymnot}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ w{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}discovered{\isacharunderscore}{\kern0pt}def\ lookup{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge{\isacharunderscore}{\kern0pt}cong\ override{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ T{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}distinct\ l{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}T\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}List{\isachardot}{\kern0pt}fold\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u{\isacharparenright}{\kern0pt}\ l\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ T\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isacharbar}{\kern0pt}v{\isachardot}{\kern0pt}\ v\ {\isasymin}\ set\ l\ {\isasymand}\ {\isasymnot}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ l\ arbitrary{\isacharcolon}{\kern0pt}\ s{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Nil\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Cons\ v\ vs{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}T\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}List{\isachardot}{\kern0pt}fold\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}v\ {\isacharhash}{\kern0pt}\ vs{\isacharparenright}{\kern0pt}\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ T\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}List{\isachardot}{\kern0pt}fold\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u{\isacharparenright}{\kern0pt}\ vs\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u\ v\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ T\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u\ v\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ \ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ w{\isacharparenright}{\kern0pt}\ {\isacharbar}{\kern0pt}w{\isachardot}{\kern0pt}\ w\ {\isasymin}\ set\ vs\ {\isasymand}\ {\isasymnot}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u\ v\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ w{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isachardot}{\kern0pt}prems\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ invar{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ Cons{\isachardot}{\kern0pt}hyps{\isacharparenright}{\kern0pt}\ simp{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ T\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}if\ {\isasymnot}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v\ then\ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ \ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ w{\isacharparenright}{\kern0pt}\ {\isacharbar}{\kern0pt}w{\isachardot}{\kern0pt}\ w\ {\isasymin}\ set\ vs\ {\isasymand}\ {\isasymnot}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u\ v\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ w{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ T{\isacharunderscore}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge{\isacharunderscore}{\kern0pt}cong{\isacharbrackleft}{\kern0pt}OF\ Cons{\isachardot}{\kern0pt}prems{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ T\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}if\ {\isasymnot}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v\ then\ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ \ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ w{\isacharparenright}{\kern0pt}\ {\isacharbar}{\kern0pt}w{\isachardot}{\kern0pt}\ w\ {\isasymin}\ set\ vs\ {\isasymand}\ {\isasymnot}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ w{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isachardot}{\kern0pt}prems\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ T{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharunderscore}{\kern0pt}aux{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ T\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ w{\isacharparenright}{\kern0pt}\ {\isacharbar}{\kern0pt}w{\isachardot}{\kern0pt}\ w\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}v\ {\isacharhash}{\kern0pt}\ vs{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isasymnot}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ w{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ T{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}T\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ T\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ \ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isacharbar}{\kern0pt}v{\isachardot}{\kern0pt}\ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isasymnot}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}T\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ T\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}s{\isasymlparr}queue\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ Q{\isacharunderscore}{\kern0pt}tail\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isasymrparr}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ \ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isacharbar}{\kern0pt}v{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ \ \ {\isasymnot}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}s{\isasymlparr}queue\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ Q{\isacharunderscore}{\kern0pt}tail\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isasymrparr}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ G{\isachardot}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ T{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\ simp{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}discovered{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharparenright}{\kern0pt}\ T{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}T\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ T\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ \ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isacharbar}{\kern0pt}v{\isachardot}{\kern0pt}\ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isasymnot}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}G\ invar{\isacharunderscore}{\kern0pt}parent\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ T{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
We are now ready to prove that the variants are maintained.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{locale}\isamarkupfalse%
\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE\ {\isacharequal}{\kern0pt}\ bfs{\isacharunderscore}{\kern0pt}invar\ \isakeyword{where}\ P{\isacharunderscore}{\kern0pt}update\ {\isacharequal}{\kern0pt}\ P{\isacharunderscore}{\kern0pt}update\ \isakeyword{and}\ Q{\isacharunderscore}{\kern0pt}snoc\ {\isacharequal}{\kern0pt}\ Q{\isacharunderscore}{\kern0pt}snoc\ \isakeyword{for}\isanewline
\ \ P{\isacharunderscore}{\kern0pt}update\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}linorder\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ Q{\isacharunderscore}{\kern0pt}snoc\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}q\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}q{\isachardoublequoteclose}\ {\isacharplus}{\kern0pt}\isanewline
\isakeyword{assumes}\ not{\isacharunderscore}{\kern0pt}DONE{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymnot}\ DONE\ s{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharprime}{\kern0pt}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}n\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}q{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}m{\isacharparenright}{\kern0pt}\ state\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharprime}{\kern0pt}\ G\ src\ s\ {\isasymequiv}\isanewline
\ \ \ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE\isanewline
\ \ \ \ Map{\isacharunderscore}{\kern0pt}empty\ Map{\isacharunderscore}{\kern0pt}delete\ Map{\isacharunderscore}{\kern0pt}lookup\ Map{\isacharunderscore}{\kern0pt}inorder\ Map{\isacharunderscore}{\kern0pt}inv\isanewline
\ \ \ \ Set{\isacharunderscore}{\kern0pt}empty\ Set{\isacharunderscore}{\kern0pt}insert\ Set{\isacharunderscore}{\kern0pt}delete\ Set{\isacharunderscore}{\kern0pt}isin\ Set{\isacharunderscore}{\kern0pt}inorder\ Set{\isacharunderscore}{\kern0pt}inv\isanewline
\ \ \ \ P{\isacharunderscore}{\kern0pt}empty\ P{\isacharunderscore}{\kern0pt}delete\ P{\isacharunderscore}{\kern0pt}lookup\ P{\isacharunderscore}{\kern0pt}invar\isanewline
\ \ \ \ Q{\isacharunderscore}{\kern0pt}empty\ Q{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ Q{\isacharunderscore}{\kern0pt}head\ Q{\isacharunderscore}{\kern0pt}tail\ Q{\isacharunderscore}{\kern0pt}invar\ Q{\isacharunderscore}{\kern0pt}list\isanewline
\ \ \ \ Map{\isacharunderscore}{\kern0pt}update\ G\ src\ s\ P{\isacharunderscore}{\kern0pt}update\ Q{\isacharunderscore}{\kern0pt}snoc{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}q{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}m{\isacharparenright}{\kern0pt}\ state\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ {\isasymequiv}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharprime}{\kern0pt}\ G\ src{\isachardoublequoteclose}%
\begin{isamarkuptext}%
We start with the first invariant.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymnot}\ DONE\ s{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}\ {\isasymnoteq}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ DONE{\isacharunderscore}{\kern0pt}def\ Q{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharparenright}{\kern0pt}\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}\ {\isasymnoteq}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}queue\ not{\isacharunderscore}{\kern0pt}DONE\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharparenright}{\kern0pt}\ head{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}queue{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}queue\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ Q{\isachardot}{\kern0pt}list{\isacharunderscore}{\kern0pt}head{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharparenright}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}head{\isacharunderscore}{\kern0pt}queue{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymnot}\ white\ s\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ head{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}queue\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}queue{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharparenright}{\kern0pt}\ follow{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}follow{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ follow{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}def\ T{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ wf{\isacharunderscore}{\kern0pt}Un{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}r\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isacharbar}{\kern0pt}v{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isasymnot}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}wf\ {\isacharparenleft}{\kern0pt}T\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ follow{\isacharunderscore}{\kern0pt}invar\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ follow{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymnot}\ white\ s\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}head{\isacharunderscore}{\kern0pt}queue\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}wf\ {\isacharquery}{\kern0pt}r{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ wf{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}Domain\ {\isacharparenleft}{\kern0pt}T\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasyminter}\ Range\ {\isacharquery}{\kern0pt}r\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}parent\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
Then the second invariant, \isa{bfs{\isacharunderscore}{\kern0pt}invar\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}lookup\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inorder\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inv\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}insert\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}isin\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}inorder\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}inv\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}invar\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}tail\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}invar\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}update\ {\isacharquery}{\kern0pt}G\ {\isacharquery}{\kern0pt}src\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}update\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}snoc\ {\isacharquery}{\kern0pt}s\ {\isasymLongrightarrow}\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}queue\ {\isacharquery}{\kern0pt}s{\isacharparenright}{\kern0pt}}.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}distinct\ l{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}List{\isachardot}{\kern0pt}fold\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u{\isacharparenright}{\kern0pt}\ l\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ l\ arbitrary{\isacharcolon}{\kern0pt}\ s{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}simp{\isacharunderscore}{\kern0pt}all\ add{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymnot}\ DONE\ s{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharcolon}{\kern0pt}\ G{\isachardot}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ invar{\isacharunderscore}{\kern0pt}tail\ invar{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharparenright}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}G\ invar{\isacharunderscore}{\kern0pt}queue\ not{\isacharunderscore}{\kern0pt}DONE\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ invar{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
Then the third invariant, \isa{bfs{\isacharunderscore}{\kern0pt}invar\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}lookup\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inorder\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inv\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}insert\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}isin\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}inorder\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}inv\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}invar\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}tail\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}invar\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}update\ {\isacharquery}{\kern0pt}G\ {\isacharquery}{\kern0pt}src\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}update\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}snoc\ {\isacharquery}{\kern0pt}s\ {\isasymLongrightarrow}\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}state{\isachardot}{\kern0pt}parent\ {\isacharquery}{\kern0pt}s{\isacharparenright}{\kern0pt}}.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}distinct\ l{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}List{\isachardot}{\kern0pt}fold\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u{\isacharparenright}{\kern0pt}\ l\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ l\ arbitrary{\isacharcolon}{\kern0pt}\ s{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}simp{\isacharunderscore}{\kern0pt}all\ add{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ G{\isachardot}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ invar{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharparenright}{\kern0pt}\ simp{\isacharplus}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharparenright}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}G\ invar{\isacharunderscore}{\kern0pt}parent\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ invar{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
Then the fourth invariant, \isa{bfs{\isacharunderscore}{\kern0pt}invar\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}lookup\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inorder\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inv\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}insert\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}isin\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}inorder\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}inv\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}invar\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}tail\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}invar\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}update\ {\isacharquery}{\kern0pt}G\ {\isacharquery}{\kern0pt}src\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}update\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}snoc\ {\isacharquery}{\kern0pt}s\ {\isasymLongrightarrow}\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}state{\isachardot}{\kern0pt}parent\ {\isacharquery}{\kern0pt}s{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}src\ {\isacharequal}{\kern0pt}\ None}.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ src{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymnot}\ white\ s\ src{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}discovered{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharparenright}{\kern0pt}\ parent{\isacharunderscore}{\kern0pt}src{\isacharunderscore}{\kern0pt}fold{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ src\ {\isacharequal}{\kern0pt}\ None{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}G\ invar{\isacharunderscore}{\kern0pt}parent\ src{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ lookup{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ parent{\isacharunderscore}{\kern0pt}src{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
Then the fifth invariant, \isa{{\isasymlbrakk}bfs{\isacharunderscore}{\kern0pt}invar\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}lookup\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inorder\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inv\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}insert\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}isin\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}inorder\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}inv\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}invar\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}tail\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}invar\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}update\ {\isacharquery}{\kern0pt}G\ {\isacharquery}{\kern0pt}src\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}update\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}snoc\ {\isacharquery}{\kern0pt}s{\isacharsemicolon}{\kern0pt}\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}state{\isachardot}{\kern0pt}parent\ {\isacharquery}{\kern0pt}s{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}v\ {\isacharequal}{\kern0pt}\ Some\ {\isacharquery}{\kern0pt}u{\isasymrbrakk}\ {\isasymLongrightarrow}\ {\isacharquery}{\kern0pt}u\ {\isasymrightarrow}\isactrlbsub adjacency{\isachardot}{\kern0pt}dE\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}lookup\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}inorder\ {\isacharquery}{\kern0pt}G\isactrlesub {\isacharquery}{\kern0pt}v}.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharparenright}{\kern0pt}\ head{\isacharunderscore}{\kern0pt}queueI{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v\ {\isasymnoteq}\ Some\ u{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ Some\ u{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}u\ {\isacharequal}{\kern0pt}\ Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ lookup{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong\ override{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharparenright}{\kern0pt}\ parent{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}edge{\isacharunderscore}{\kern0pt}fold{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ Some\ u{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isasymin}\ G{\isachardot}{\kern0pt}dE\ G{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ Some\ u{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ parent{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}edge{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ head{\isacharunderscore}{\kern0pt}queueI\ G{\isachardot}{\kern0pt}mem{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}edge\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp\ add{\isacharcolon}{\kern0pt}\ lookup{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
Then the sixth invariant, \isa{{\isasymlbrakk}bfs{\isacharunderscore}{\kern0pt}invar\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}lookup\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inorder\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inv\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}insert\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}isin\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}inorder\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}inv\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}invar\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}tail\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}invar\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}update\ {\isacharquery}{\kern0pt}G\ {\isacharquery}{\kern0pt}src\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}update\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}snoc\ {\isacharquery}{\kern0pt}s{\isacharsemicolon}{\kern0pt}\ {\isacharquery}{\kern0pt}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ {\isacharquery}{\kern0pt}s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymrbrakk}\ {\isasymLongrightarrow}\ {\isasymnot}\ {\isasymnot}\ bfs{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}discovered\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharquery}{\kern0pt}src\ {\isacharparenleft}{\kern0pt}state{\isachardot}{\kern0pt}parent\ {\isacharquery}{\kern0pt}s{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}v}.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharparenright}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}fold{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymnot}\ white\ s\ v{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymnot}\ white\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}discovered{\isacharunderscore}{\kern0pt}def\ lookup{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharparenright}{\kern0pt}\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}tail\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharat}{\kern0pt}\isanewline
\ \ \ \ \ filter\ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}G\ invar{\isacharunderscore}{\kern0pt}queue\ invar{\isacharunderscore}{\kern0pt}parent\ not{\isacharunderscore}{\kern0pt}DONE\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharparenright}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymnot}\ white\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}queue\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}fold{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}v\ {\isasymnotin}\ set\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}tail\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}queue\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ Q{\isachardot}{\kern0pt}list{\isacharunderscore}{\kern0pt}tail\ intro{\isacharcolon}{\kern0pt}\ list{\isachardot}{\kern0pt}set{\isacharunderscore}{\kern0pt}sel{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isasymnot}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp\ add{\isacharcolon}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}discovered{\isacharunderscore}{\kern0pt}def\ lookup{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
Then the seventh invariant, \isa{{\isasymlbrakk}bfs{\isacharunderscore}{\kern0pt}invar\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}lookup\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inorder\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inv\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}insert\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}isin\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}inorder\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}inv\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}invar\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}tail\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}invar\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}update\ {\isacharquery}{\kern0pt}G\ {\isacharquery}{\kern0pt}src\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}update\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}snoc\ {\isacharquery}{\kern0pt}s{\isacharsemicolon}{\kern0pt}\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}state{\isachardot}{\kern0pt}parent\ {\isacharquery}{\kern0pt}s{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}v\ {\isacharequal}{\kern0pt}\ Some\ {\isacharquery}{\kern0pt}u{\isasymrbrakk}\ {\isasymLongrightarrow}\ {\isasymnot}\ {\isasymnot}\ bfs{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}discovered\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharquery}{\kern0pt}src\ {\isacharparenleft}{\kern0pt}state{\isachardot}{\kern0pt}parent\ {\isacharquery}{\kern0pt}s{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}u}.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharparenright}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ Some\ u{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymnot}\ white\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}\ u{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ Some\ u{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}parent\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}fold{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}u\ {\isacharequal}{\kern0pt}\ Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ head{\isacharunderscore}{\kern0pt}queueI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}head{\isacharunderscore}{\kern0pt}queue\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}fold{\isacharparenright}{\kern0pt}\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
Then the eighth invariant, \isa{{\isasymlbrakk}bfs{\isacharunderscore}{\kern0pt}invar\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}lookup\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inorder\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inv\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}insert\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}isin\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}inorder\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}inv\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}invar\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}tail\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}invar\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}update\ {\isacharquery}{\kern0pt}G\ {\isacharquery}{\kern0pt}src\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}update\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}snoc\ {\isacharquery}{\kern0pt}s{\isacharsemicolon}{\kern0pt}\ {\isacharquery}{\kern0pt}u\ {\isasymrightarrow}\isactrlbsub adjacency{\isachardot}{\kern0pt}dE\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}lookup\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}inorder\ {\isacharquery}{\kern0pt}G\isactrlesub {\isacharquery}{\kern0pt}v{\isacharsemicolon}{\kern0pt}\ bfs{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}discovered\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharquery}{\kern0pt}src\ {\isacharparenleft}{\kern0pt}state{\isachardot}{\kern0pt}parent\ {\isacharquery}{\kern0pt}s{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}u\ {\isasymand}\ {\isacharquery}{\kern0pt}u\ {\isasymnotin}\ set\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ {\isacharquery}{\kern0pt}s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymrbrakk}\ {\isasymLongrightarrow}\ {\isasymnot}\ {\isasymnot}\ bfs{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}discovered\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharquery}{\kern0pt}src\ {\isacharparenleft}{\kern0pt}state{\isachardot}{\kern0pt}parent\ {\isacharquery}{\kern0pt}s{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}v}.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ vertex{\isacharunderscore}{\kern0pt}color{\isacharunderscore}{\kern0pt}induct\ {\isacharbrackleft}{\kern0pt}case{\isacharunderscore}{\kern0pt}names\ white\ gray\ black{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}white\ s\ v\ {\isasymLongrightarrow}\ P\ s\ v{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}gray\ s\ v\ {\isasymLongrightarrow}\ P\ s\ v{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}black\ s\ v\ {\isasymLongrightarrow}\ P\ s\ v{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}P\ s\ v{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharparenright}{\kern0pt}\ whiteD{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}white\ s\ v{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymnot}\ black\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}discovered{\isacharunderscore}{\kern0pt}def\ lookup{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharparenright}{\kern0pt}\ head{\isacharunderscore}{\kern0pt}queueI{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}v\ {\isasymnotin}\ set\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}v\ {\isacharequal}{\kern0pt}\ Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}\ {\isacharhash}{\kern0pt}\ Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}tail\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}queue\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ Q{\isachardot}{\kern0pt}list{\isacharunderscore}{\kern0pt}queue{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharparenright}{\kern0pt}\ black{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}fold{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}black\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}\ u{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isasymin}\ G{\isachardot}{\kern0pt}dE\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymnot}\ white\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ s\ u\ rule{\isacharcolon}{\kern0pt}\ vertex{\isacharunderscore}{\kern0pt}color{\isacharunderscore}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ white\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ whiteD\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ gray\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}u\ {\isacharequal}{\kern0pt}\ Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ head{\isacharunderscore}{\kern0pt}queueI{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ simp{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}discovered{\isacharunderscore}{\kern0pt}def\ lookup{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong\ override{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ G{\isachardot}{\kern0pt}mem{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}edge{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ black\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ black{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}fold{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
Then the ninth invariant, \isa{bfs{\isacharunderscore}{\kern0pt}invar\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}lookup\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inorder\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inv\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}insert\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}isin\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}inorder\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}inv\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}invar\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}tail\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}invar\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}update\ {\isacharquery}{\kern0pt}G\ {\isacharquery}{\kern0pt}src\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}update\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}snoc\ {\isacharquery}{\kern0pt}s\ {\isasymLongrightarrow}\ sorted{\isacharunderscore}{\kern0pt}wrt\ {\isacharparenleft}{\kern0pt}{\isasymlambda}u\ v{\isachardot}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}length\ {\isacharparenleft}{\kern0pt}rev\ {\isacharparenleft}{\kern0pt}parent{\isachardot}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}state{\isachardot}{\kern0pt}parent\ {\isacharquery}{\kern0pt}s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ u{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\ dpath{\isacharunderscore}{\kern0pt}length\ {\isacharparenleft}{\kern0pt}rev\ {\isacharparenleft}{\kern0pt}parent{\isachardot}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}state{\isachardot}{\kern0pt}parent\ {\isacharquery}{\kern0pt}s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ {\isacharquery}{\kern0pt}s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}}.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharparenright}{\kern0pt}\ parent{\isacharunderscore}{\kern0pt}fold{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}Parent{\isacharunderscore}{\kern0pt}Relation{\isachardot}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}standard{\isacharcomma}{\kern0pt}\ goal{\isacharunderscore}{\kern0pt}cases{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{1}}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ follow{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharparenright}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}lookup{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}lookup{\isacharunderscore}{\kern0pt}parent{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymnot}\ white\ s\ v{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ lookup{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharparenright}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymnot}\ white\ s\ v{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}rev{\isacharunderscore}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ rev{\isacharunderscore}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ v\ rule{\isacharcolon}{\kern0pt}\ follow{\isacharunderscore}{\kern0pt}pinduct{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ v{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}v\ {\isacharequal}{\kern0pt}\ src{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ None{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ None{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ parent{\isacharunderscore}{\kern0pt}src\ parent{\isacharunderscore}{\kern0pt}src{\isacharunderscore}{\kern0pt}fold\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}rev{\isacharunderscore}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}v{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}rev{\isacharunderscore}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}v{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{1}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ parent{\isacharunderscore}{\kern0pt}fold\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp{\isacharunderscore}{\kern0pt}all\ add{\isacharcolon}{\kern0pt}\ follow{\isacharunderscore}{\kern0pt}psimps\ parent{\isachardot}{\kern0pt}follow{\isacharunderscore}{\kern0pt}psimps{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ u\ \isakeyword{where}\ u{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ Some\ u{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isasymnot}\ white\ s\ u{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{1}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}parent\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}discovered{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ Some\ u{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{1}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}lookup{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}lookup{\isacharunderscore}{\kern0pt}parent{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}rev{\isacharunderscore}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ rev{\isacharunderscore}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ u\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}v{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}rev{\isacharunderscore}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ rev{\isacharunderscore}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ u\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}v{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{1}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ parent{\isacharunderscore}{\kern0pt}fold\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp{\isacharunderscore}{\kern0pt}all\ add{\isacharcolon}{\kern0pt}\ follow{\isacharunderscore}{\kern0pt}psimps\ parent{\isachardot}{\kern0pt}follow{\isacharunderscore}{\kern0pt}psimps{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ u\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isadigit{1}}{\isachardot}{\kern0pt}hyps{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharparenright}{\kern0pt}\ mem{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}d{\isacharunderscore}{\kern0pt}le{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v\ {\isasymle}\ d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}last\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}v\ {\isacharequal}{\kern0pt}\ last\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymnot}\ Q{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}queue\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ Q{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ queue{\isacharunderscore}{\kern0pt}sorted{\isacharunderscore}{\kern0pt}wrt{\isacharunderscore}{\kern0pt}d\ assms\ False\ sorted{\isacharunderscore}{\kern0pt}wrt{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}last\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharparenright}{\kern0pt}\ mem{\isacharunderscore}{\kern0pt}filterD{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}last\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}u\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ Some\ {\isacharquery}{\kern0pt}u{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ lookup{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}rev{\isacharunderscore}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ rev{\isacharunderscore}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}u\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}v{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ parent{\isacharunderscore}{\kern0pt}fold\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ parent{\isachardot}{\kern0pt}follow{\isacharunderscore}{\kern0pt}psimps{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ d{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ parent{\isacharunderscore}{\kern0pt}fold\ parent{\isachardot}{\kern0pt}follow{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp\ add{\isacharcolon}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}length{\isacharunderscore}{\kern0pt}snoc{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}last\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}last\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}queue\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymle}\ d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}u\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}DONE\ d{\isacharunderscore}{\kern0pt}last{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}le\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ DONE{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}u\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}head{\isacharunderscore}{\kern0pt}queue\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ d{\isacharunderscore}{\kern0pt}eq\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}last\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharparenright}{\kern0pt}\ queue{\isacharunderscore}{\kern0pt}sorted{\isacharunderscore}{\kern0pt}wrt{\isacharunderscore}{\kern0pt}d{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}aux{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ u{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}tail{\isacharunderscore}{\kern0pt}queue{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}u\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}tail\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ v{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}filter{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ u\ {\isasymle}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ u{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}queue{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}u\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ u{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}tail{\isacharunderscore}{\kern0pt}queue\ invar{\isacharunderscore}{\kern0pt}queue\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ Q{\isachardot}{\kern0pt}list{\isacharunderscore}{\kern0pt}tail\ intro{\isacharcolon}{\kern0pt}\ list{\isachardot}{\kern0pt}set{\isacharunderscore}{\kern0pt}sel{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ u\ {\isacharequal}{\kern0pt}\ d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ u{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ u{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}queue\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}queue\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymle}\ d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}last\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ u{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}queue\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ mem{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}d{\isacharunderscore}{\kern0pt}le{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}last\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}queue\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymle}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ v{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}filter\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ mem{\isacharunderscore}{\kern0pt}filterD{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharparenright}{\kern0pt}\ queue{\isacharunderscore}{\kern0pt}sorted{\isacharunderscore}{\kern0pt}wrt{\isacharunderscore}{\kern0pt}d{\isacharunderscore}{\kern0pt}fold{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}wrt\ {\isacharparenleft}{\kern0pt}{\isasymlambda}u\ v{\isachardot}{\kern0pt}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ u\ {\isasymle}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}P\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}{\isasymlambda}u\ v{\isachardot}{\kern0pt}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ u\ {\isasymle}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}wrt\ {\isacharquery}{\kern0pt}P\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ queue{\isacharunderscore}{\kern0pt}sorted{\isacharunderscore}{\kern0pt}wrt{\isacharunderscore}{\kern0pt}d\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}queue\ sorted{\isacharunderscore}{\kern0pt}wrt{\isacharunderscore}{\kern0pt}mono{\isacharunderscore}{\kern0pt}rel{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}wrt\ {\isacharquery}{\kern0pt}P\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}tail\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ Q{\isachardot}{\kern0pt}list{\isacharunderscore}{\kern0pt}queue{\isacharbrackleft}{\kern0pt}OF\ invar{\isacharunderscore}{\kern0pt}queue\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}wrt\ {\isacharquery}{\kern0pt}P\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ mem{\isacharunderscore}{\kern0pt}filterD{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ intro{\isacharcolon}{\kern0pt}\ sorted{\isacharunderscore}{\kern0pt}wrt{\isacharunderscore}{\kern0pt}if{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymforall}u{\isasymin}set\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}tail\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isasymforall}v{\isasymin}set\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ \ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ u\ {\isasymle}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}blast\ intro{\isacharcolon}{\kern0pt}\ queue{\isacharunderscore}{\kern0pt}sorted{\isacharunderscore}{\kern0pt}wrt{\isacharunderscore}{\kern0pt}d{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}aux{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong\ sorted{\isacharunderscore}{\kern0pt}wrt{\isacharunderscore}{\kern0pt}append{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
Then the tenth invariant, \isa{{\isasymlbrakk}bfs{\isacharunderscore}{\kern0pt}invar\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}lookup\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inorder\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inv\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}insert\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}isin\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}inorder\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}inv\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}invar\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}tail\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}invar\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}update\ {\isacharquery}{\kern0pt}G\ {\isacharquery}{\kern0pt}src\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}update\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}snoc\ {\isacharquery}{\kern0pt}s{\isacharsemicolon}{\kern0pt}\ {\isasymnot}\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ {\isacharparenleft}{\kern0pt}queue\ {\isacharquery}{\kern0pt}s{\isacharparenright}{\kern0pt}{\isasymrbrakk}\ {\isasymLongrightarrow}\ dpath{\isacharunderscore}{\kern0pt}length\ {\isacharparenleft}{\kern0pt}rev\ {\isacharparenleft}{\kern0pt}parent{\isachardot}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}state{\isachardot}{\kern0pt}parent\ {\isacharquery}{\kern0pt}s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}last\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ {\isacharquery}{\kern0pt}s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\ dpath{\isacharunderscore}{\kern0pt}length\ {\isacharparenleft}{\kern0pt}rev\ {\isacharparenleft}{\kern0pt}parent{\isachardot}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}state{\isachardot}{\kern0pt}parent\ {\isacharquery}{\kern0pt}s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ {\isacharquery}{\kern0pt}s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}}.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharparenright}{\kern0pt}\ d{\isacharunderscore}{\kern0pt}last{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}aux{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymnot}\ Q{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}last\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}filter\ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ list{\isacharunderscore}{\kern0pt}tail{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}tail\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymnoteq}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}G\ invar{\isacharunderscore}{\kern0pt}queue\ not{\isacharunderscore}{\kern0pt}DONE\ invar{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong\ Q{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}last\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ last\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}tail\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong\ last{\isacharunderscore}{\kern0pt}appendL{\isacharbrackleft}{\kern0pt}OF\ True{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}last\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ last\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ list{\isacharunderscore}{\kern0pt}tail{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ Q{\isachardot}{\kern0pt}list{\isacharunderscore}{\kern0pt}queue{\isacharbrackleft}{\kern0pt}OF\ invar{\isacharunderscore}{\kern0pt}queue\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}last\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}last\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}queue\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymle}\ d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}queue\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty\ d{\isacharunderscore}{\kern0pt}last{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}le\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ Q{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}head{\isacharunderscore}{\kern0pt}queue\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}last\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\isanewline
\ \ \ \ \ set\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong\ last{\isacharunderscore}{\kern0pt}appendR{\isacharbrackleft}{\kern0pt}OF\ False{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ last{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}set{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ mem{\isacharunderscore}{\kern0pt}filterD{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharparenright}{\kern0pt}\ mem{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}d{\isacharunderscore}{\kern0pt}ge{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\ d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}v\ {\isacharequal}{\kern0pt}\ Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymnot}\ Q{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}queue\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ Q{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ hd\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}queue\ Q{\isachardot}{\kern0pt}list{\isacharunderscore}{\kern0pt}head\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ Q{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ queue{\isacharunderscore}{\kern0pt}sorted{\isacharunderscore}{\kern0pt}wrt{\isacharunderscore}{\kern0pt}d\ assms\ False\ sorted{\isacharunderscore}{\kern0pt}wrt{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}hd\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharparenright}{\kern0pt}\ d{\isacharunderscore}{\kern0pt}last{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}aux{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymnot}\ Q{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}tail\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ hd\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}G\ invar{\isacharunderscore}{\kern0pt}queue\ not{\isacharunderscore}{\kern0pt}DONE\ invar{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ Q{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ Q{\isachardot}{\kern0pt}list{\isacharunderscore}{\kern0pt}head{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ hd\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ True\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}filter\ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymnoteq}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}G\ invar{\isacharunderscore}{\kern0pt}queue\ not{\isacharunderscore}{\kern0pt}DONE\ invar{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ True\ Q{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ head{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}filter{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\isanewline
\ \ \ \ \ set\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ list{\isachardot}{\kern0pt}set{\isacharunderscore}{\kern0pt}sel{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}head{\isacharunderscore}{\kern0pt}queue\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymle}\ d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}last\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ head{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}queue\ mem{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}d{\isacharunderscore}{\kern0pt}le{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}last\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}queue\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymle}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ head{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}filter\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ mem{\isacharunderscore}{\kern0pt}filterD{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ hd\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}G\ invar{\isacharunderscore}{\kern0pt}queue\ not{\isacharunderscore}{\kern0pt}DONE\ invar{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ Q{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ Q{\isachardot}{\kern0pt}list{\isacharunderscore}{\kern0pt}head{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ hd\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}tail\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ head{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}queue{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ False\ invar{\isacharunderscore}{\kern0pt}queue\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ Q{\isachardot}{\kern0pt}list{\isacharunderscore}{\kern0pt}tail\ intro{\isacharcolon}{\kern0pt}\ list{\isachardot}{\kern0pt}set{\isacharunderscore}{\kern0pt}sel{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}head{\isacharunderscore}{\kern0pt}queue\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymle}\ d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ head{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}queue\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ mem{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}d{\isacharunderscore}{\kern0pt}ge{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ head{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}queue\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}queue\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharparenright}{\kern0pt}\ d{\isacharunderscore}{\kern0pt}last{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}fold{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymnot}\ Q{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}last\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}last\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ d{\isacharunderscore}{\kern0pt}last{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}aux{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymle}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharcolon}{\kern0pt}\ d{\isacharunderscore}{\kern0pt}last{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}aux{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
Finally, the eleventh invariant, \isa{{\isasymlbrakk}bfs{\isacharunderscore}{\kern0pt}invar\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}lookup\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inorder\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inv\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}insert\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}isin\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}inorder\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}inv\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}invar\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}tail\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}invar\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}update\ {\isacharquery}{\kern0pt}G\ {\isacharquery}{\kern0pt}src\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}update\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}snoc\ {\isacharquery}{\kern0pt}s{\isacharsemicolon}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}bet\ {\isacharparenleft}{\kern0pt}adjacency{\isachardot}{\kern0pt}dE\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}lookup\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}inorder\ {\isacharquery}{\kern0pt}G{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}p\ {\isacharquery}{\kern0pt}u\ {\isacharquery}{\kern0pt}v{\isacharsemicolon}{\kern0pt}\ {\isasymnot}\ {\isasymnot}\ bfs{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}discovered\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharquery}{\kern0pt}src\ {\isacharparenleft}{\kern0pt}state{\isachardot}{\kern0pt}parent\ {\isacharquery}{\kern0pt}s{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}u{\isacharsemicolon}{\kern0pt}\ {\isasymnot}\ {\isasymnot}\ bfs{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}discovered\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharquery}{\kern0pt}src\ {\isacharparenleft}{\kern0pt}state{\isachardot}{\kern0pt}parent\ {\isacharquery}{\kern0pt}s{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}v{\isasymrbrakk}\ {\isasymLongrightarrow}\ dpath{\isacharunderscore}{\kern0pt}length\ {\isacharparenleft}{\kern0pt}rev\ {\isacharparenleft}{\kern0pt}parent{\isachardot}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}state{\isachardot}{\kern0pt}parent\ {\isacharquery}{\kern0pt}s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\ dpath{\isacharunderscore}{\kern0pt}length\ {\isacharparenleft}{\kern0pt}rev\ {\isacharparenleft}{\kern0pt}parent{\isachardot}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}state{\isachardot}{\kern0pt}parent\ {\isacharquery}{\kern0pt}s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}u{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}length\ {\isacharquery}{\kern0pt}p}.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharparenright}{\kern0pt}\ white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}gray{\isacharunderscore}{\kern0pt}ancestor{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}dpath{\isacharunderscore}{\kern0pt}bet\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}dE\ G{\isacharparenright}{\kern0pt}\ p\ u\ w{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymnot}\ white\ s\ u{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}white\ s\ w{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{obtains}\ v\ \isakeyword{where}\isanewline
\ \ \ \ {\isachardoublequoteopen}v\ {\isasymin}\ set\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}gray\ s\ v{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ p\ arbitrary{\isacharcolon}{\kern0pt}\ w\ rule{\isacharcolon}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{1}}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{2}}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ hd{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}dpath{\isacharunderscore}{\kern0pt}bet{\isacharprime}{\kern0pt}\ last{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}dpath{\isacharunderscore}{\kern0pt}bet\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ intro{\isacharcolon}{\kern0pt}\ list{\isacharunderscore}{\kern0pt}length{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{3}}\ v\ v{\isacharprime}{\kern0pt}\ l{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ s\ v\ rule{\isacharcolon}{\kern0pt}\ vertex{\isacharunderscore}{\kern0pt}color{\isacharunderscore}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ white\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}dpath{\isacharunderscore}{\kern0pt}bet\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}dE\ G{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}l\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}v{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ u\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{3}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ dpath{\isacharunderscore}{\kern0pt}bet{\isacharunderscore}{\kern0pt}pref{\isacharparenright}{\kern0pt}\ simp\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{3}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{3}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ white\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}force\ intro{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isadigit{3}}{\isachardot}{\kern0pt}hyps{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ gray\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isadigit{3}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ black\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}v{\isacharcomma}{\kern0pt}\ w{\isacharparenright}{\kern0pt}\ {\isasymin}\ G{\isachardot}{\kern0pt}dE\ G{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{3}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}bet{\isacharunderscore}{\kern0pt}def\ intro{\isacharcolon}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}snoc{\isacharunderscore}{\kern0pt}edge{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ black\ black{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white\ {\isachardoublequoteopen}{\isadigit{3}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharparenright}{\kern0pt}\ white{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}foldD{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}white\ s\ v{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymnot}\ white\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ Some\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp\ add{\isacharcolon}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}discovered{\isacharunderscore}{\kern0pt}def\ lookup{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ Some\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ lookup{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ parent{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}d{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}Parent{\isacharunderscore}{\kern0pt}Relation{\isachardot}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ Some\ u{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ u\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}rev{\isacharunderscore}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ rev{\isacharunderscore}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ u\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}v{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ parent{\isachardot}{\kern0pt}follow{\isacharunderscore}{\kern0pt}psimps{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ parent{\isachardot}{\kern0pt}follow{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}length{\isacharunderscore}{\kern0pt}snoc{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharparenright}{\kern0pt}\ white{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}foldD{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}white\ s\ v{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymnot}\ white\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ parent{\isacharunderscore}{\kern0pt}fold\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ intro{\isacharcolon}{\kern0pt}\ white{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}foldD{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ parent{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}d{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemmas}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharparenright}{\kern0pt}\ white{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}foldD\ {\isacharequal}{\kern0pt}\isanewline
\ \ white{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}foldD\isanewline
\ \ white{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}foldD{\isacharunderscore}{\kern0pt}{\isadigit{2}}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharparenright}{\kern0pt}\ d{\isacharunderscore}{\kern0pt}triangle{\isacharunderscore}{\kern0pt}inequality{\isacharunderscore}{\kern0pt}fold{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ dpath{\isacharunderscore}{\kern0pt}p{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}dpath{\isacharunderscore}{\kern0pt}bet\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}dE\ G{\isacharparenright}{\kern0pt}\ p\ u\ v{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}u{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymnot}\ white\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}\ u{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}v{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymnot}\ white\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v\ {\isasymle}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ u\ {\isacharplus}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}length\ p{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{consider}\isamarkupfalse%
\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}white{\isacharunderscore}{\kern0pt}white{\isacharparenright}{\kern0pt}\ {\isachardoublequoteopen}white\ s\ u\ {\isasymand}\ white\ s\ v{\isachardoublequoteclose}\ {\isacharbar}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}white{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white{\isacharparenright}{\kern0pt}\ {\isachardoublequoteopen}white\ s\ u\ {\isasymand}\ {\isasymnot}\ white\ s\ v{\isachardoublequoteclose}\ {\isacharbar}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}gray{\isacharunderscore}{\kern0pt}white{\isacharparenright}{\kern0pt}\ {\isachardoublequoteopen}gray\ s\ u\ {\isasymand}\ white\ s\ v{\isachardoublequoteclose}\ {\isacharbar}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}black{\isacharunderscore}{\kern0pt}white{\isacharparenright}{\kern0pt}\ {\isachardoublequoteopen}black\ s\ u\ {\isasymand}\ white\ s\ v{\isachardoublequoteclose}\ {\isacharbar}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white{\isacharparenright}{\kern0pt}\ {\isachardoublequoteopen}{\isasymnot}\ white\ s\ u\ {\isasymand}\ {\isasymnot}\ white\ s\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ fast\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ white{\isacharunderscore}{\kern0pt}white\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}v\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ white{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}foldD{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ simp\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ u{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ white{\isacharunderscore}{\kern0pt}white\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}u\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ white{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}foldD{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ simp\isanewline
\ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ white{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ dpath{\isacharunderscore}{\kern0pt}Cons{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}dpath{\isacharunderscore}{\kern0pt}bet\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}dE\ G{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}\ {\isacharhash}{\kern0pt}\ p{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}u\ white{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}foldD{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}p\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ G{\isachardot}{\kern0pt}mem{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}edge\ intro{\isacharcolon}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}bet{\isacharunderscore}{\kern0pt}ConsI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ white{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymle}\ d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}length\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}\ {\isacharhash}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}head{\isacharunderscore}{\kern0pt}queue\ white{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white\ dpath{\isacharunderscore}{\kern0pt}Cons\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharcolon}{\kern0pt}\ d{\isacharunderscore}{\kern0pt}triangle{\isacharunderscore}{\kern0pt}inequality{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}\ {\isacharplus}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}length\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ dpath{\isacharunderscore}{\kern0pt}p\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}length{\isacharunderscore}{\kern0pt}Cons{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}\ {\isacharplus}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}length\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}head{\isacharunderscore}{\kern0pt}queue\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ u\ {\isacharplus}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}length\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ white{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}u\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ white{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}foldD{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ gray{\isacharunderscore}{\kern0pt}white\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}v\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ white{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}foldD{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ simp\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}head{\isacharunderscore}{\kern0pt}queue\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymle}\ d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ u\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ gray{\isacharunderscore}{\kern0pt}white\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ mem{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}d{\isacharunderscore}{\kern0pt}ge\ add{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}mono{\isacharparenright}{\kern0pt}\ simp\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ u\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ gray{\isacharunderscore}{\kern0pt}white\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymle}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ u\ {\isacharplus}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}length\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ dpath{\isacharunderscore}{\kern0pt}p\ gray{\isacharunderscore}{\kern0pt}white\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ intro{\isacharcolon}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}length{\isacharunderscore}{\kern0pt}geq{\isacharunderscore}{\kern0pt}{\isadigit{1}}I\ add{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}mono{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ black{\isacharunderscore}{\kern0pt}white\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ w\ \isakeyword{where}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}w\ {\isasymin}\ set\ p{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ gray{\isacharunderscore}{\kern0pt}w{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}gray\ s\ w{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ dpath{\isacharunderscore}{\kern0pt}p\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}elim\ white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}gray{\isacharunderscore}{\kern0pt}ancestor{\isacharparenright}{\kern0pt}\ simp{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ q\ r\ \isakeyword{where}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}p\ {\isacharequal}{\kern0pt}\ q\ {\isacharat}{\kern0pt}\ tl\ r{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ dpath{\isacharunderscore}{\kern0pt}q{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}dpath{\isacharunderscore}{\kern0pt}bet\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}dE\ G{\isacharparenright}{\kern0pt}\ q\ u\ w{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ dpath{\isacharunderscore}{\kern0pt}r{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}dpath{\isacharunderscore}{\kern0pt}bet\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}dE\ G{\isacharparenright}{\kern0pt}\ r\ w\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ dpath{\isacharunderscore}{\kern0pt}p\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ in{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}conv{\isacharunderscore}{\kern0pt}decomp\ elim{\isacharcolon}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}bet{\isacharunderscore}{\kern0pt}vertex{\isacharunderscore}{\kern0pt}decompE{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ dpath{\isacharunderscore}{\kern0pt}length{\isacharunderscore}{\kern0pt}p{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}dpath{\isacharunderscore}{\kern0pt}length\ p\ {\isacharequal}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}length\ q\ {\isacharplus}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}length\ r{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ dest{\isacharcolon}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}betD{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharminus}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\ intro{\isacharcolon}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}length{\isacharunderscore}{\kern0pt}append{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ black{\isacharunderscore}{\kern0pt}white\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}v\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ white{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}foldD{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ simp\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}head{\isacharunderscore}{\kern0pt}queue\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymle}\ d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ w\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ gray{\isacharunderscore}{\kern0pt}w\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ mem{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}d{\isacharunderscore}{\kern0pt}ge\ add{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}mono{\isacharparenright}{\kern0pt}\ simp\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymle}\ d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ u\ {\isacharplus}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}length\ q\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ dpath{\isacharunderscore}{\kern0pt}q\ black{\isacharunderscore}{\kern0pt}white\ gray{\isacharunderscore}{\kern0pt}w\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharcolon}{\kern0pt}\ d{\isacharunderscore}{\kern0pt}triangle{\isacharunderscore}{\kern0pt}inequality\ add{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}mono{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymle}\ d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ u\ {\isacharplus}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}length\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ dpath{\isacharunderscore}{\kern0pt}r\ gray{\isacharunderscore}{\kern0pt}w\ black{\isacharunderscore}{\kern0pt}white\ dpath{\isacharunderscore}{\kern0pt}length{\isacharunderscore}{\kern0pt}geq{\isacharunderscore}{\kern0pt}{\isadigit{1}}I\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp\ add{\isacharcolon}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}length{\isacharunderscore}{\kern0pt}p{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ u\ {\isacharplus}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}length\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ black{\isacharunderscore}{\kern0pt}white\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymle}\ d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ u\ {\isacharplus}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}length\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ dpath{\isacharunderscore}{\kern0pt}p\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ d{\isacharunderscore}{\kern0pt}triangle{\isacharunderscore}{\kern0pt}inequality{\isacharparenright}{\kern0pt}\ simp{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ d\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ u\ {\isacharplus}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}length\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharparenright}{\kern0pt}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}fold{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}bfs{\isacharunderscore}{\kern0pt}invar{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}standard{\isacharcomma}{\kern0pt}\ goal{\isacharunderscore}{\kern0pt}cases{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{1}}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{using}\isamarkupfalse%
\ follow{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{2}}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{3}}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{4}}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{using}\isamarkupfalse%
\ parent{\isacharunderscore}{\kern0pt}src{\isacharunderscore}{\kern0pt}fold\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{5}}\ v\ u{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ parent{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}edge{\isacharunderscore}{\kern0pt}fold{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{6}}\ v{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{7}}\ v\ u{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{8}}\ u\ v{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ black{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}fold{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{9}}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{using}\isamarkupfalse%
\ queue{\isacharunderscore}{\kern0pt}sorted{\isacharunderscore}{\kern0pt}wrt{\isacharunderscore}{\kern0pt}d{\isacharunderscore}{\kern0pt}fold\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{1}}{\isadigit{0}}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ d{\isacharunderscore}{\kern0pt}last{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}fold{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{1}}\ p\ u\ v{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ d{\isacharunderscore}{\kern0pt}triangle{\isacharunderscore}{\kern0pt}inequality{\isacharunderscore}{\kern0pt}fold{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{\isa{Q{\isacharunderscore}{\kern0pt}list\ {\isasymcirc}\ queue}%
}
\isamarkuptrue%
%
\isamarkupsubsection{\isa{Q{\isacharunderscore}{\kern0pt}head\ {\isasymcirc}\ queue}%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ head{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}dV{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ G{\isachardot}{\kern0pt}dV\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymnot}\ DONE\ s{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}\ {\isasymin}\ G{\isachardot}{\kern0pt}dV\ G{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ Q{\isachardot}{\kern0pt}list{\isacharunderscore}{\kern0pt}head{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsection{Basic Lemmas%
}
\isamarkuptrue%
%
\isamarkupsubsection{\isa{discover}%
}
\isamarkuptrue%
%
\isamarkupsubsubsection{\isa{queue}%
}
\isamarkuptrue%
%
\isamarkupsubsubsection{\isa{state{\isachardot}{\kern0pt}parent}%
}
\isamarkuptrue%
%
\isamarkupsubsection{\isa{traverse{\isacharunderscore}{\kern0pt}edge}%
}
\isamarkuptrue%
%
\isamarkupsubsubsection{\isa{queue}%
}
\isamarkuptrue%
%
\isamarkupsubsubsection{\isa{Q{\isacharunderscore}{\kern0pt}list\ {\isasymcirc}\ queue}%
}
\isamarkuptrue%
%
\isamarkupsubsubsection{\isa{P{\isacharunderscore}{\kern0pt}lookup\ {\isasymcirc}\ state{\isachardot}{\kern0pt}parent}%
}
\isamarkuptrue%
%
\isamarkupsubsubsection{\isa{P{\isacharunderscore}{\kern0pt}invar\ {\isasymcirc}\ state{\isachardot}{\kern0pt}parent}%
}
\isamarkuptrue%
%
\isamarkupsubsubsection{\isa{T}%
}
\isamarkuptrue%
%
\isamarkupsubsection{\isa{fold}%
}
\isamarkuptrue%
%
\isamarkupsubsubsection{\isa{Q{\isacharunderscore}{\kern0pt}invar\ {\isasymcirc}\ queue}%
}
\isamarkuptrue%
%
\isamarkupsubsubsection{\isa{Q{\isacharunderscore}{\kern0pt}list\ {\isasymcirc}\ queue}%
}
\isamarkuptrue%
%
\isamarkupsubsubsection{\isa{set\ {\isasymcirc}\ Q{\isacharunderscore}{\kern0pt}list\ {\isasymcirc}\ queue}%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ queue{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}dV{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ G{\isachardot}{\kern0pt}dV\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymnot}\ DONE\ s{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ G{\isachardot}{\kern0pt}dV\ G{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ v\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ assm{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}v\ {\isasymin}\ G{\isachardot}{\kern0pt}dV\ G{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}dV\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}tail\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ assm\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}\ {\isadigit{5}}{\isacharparenright}{\kern0pt}\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ Q{\isachardot}{\kern0pt}list{\isacharunderscore}{\kern0pt}tail\ intro{\isacharcolon}{\kern0pt}\ list{\isachardot}{\kern0pt}set{\isacharunderscore}{\kern0pt}sel{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsubsection{\isa{state{\isachardot}{\kern0pt}parent}%
}
\isamarkuptrue%
%
\isamarkupsubsubsection{\isa{P{\isacharunderscore}{\kern0pt}invar\ {\isasymcirc}\ state{\isachardot}{\kern0pt}parent}%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ dom{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}dV{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}distinct\ l{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}P{\isachardot}{\kern0pt}dom\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ G{\isachardot}{\kern0pt}dV\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}set\ l\ {\isasymsubseteq}\ G{\isachardot}{\kern0pt}dV\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}P{\isachardot}{\kern0pt}dom\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}List{\isachardot}{\kern0pt}fold\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u{\isacharparenright}{\kern0pt}\ l\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ G{\isachardot}{\kern0pt}dV\ G{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ v\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ assm{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}v\ {\isasymin}\ P{\isachardot}{\kern0pt}dom\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}List{\isachardot}{\kern0pt}fold\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u{\isacharparenright}{\kern0pt}\ l\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}v\ {\isasymin}\ G{\isachardot}{\kern0pt}dV\ G{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ l{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}List{\isachardot}{\kern0pt}fold\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u{\isacharparenright}{\kern0pt}\ l\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v\ {\isasymnoteq}\ None{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assm\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ P{\isachardot}{\kern0pt}dom{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v\ {\isasymnoteq}\ None{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isadigit{2}}{\isacharparenright}{\kern0pt}\ False\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ lookup{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ P{\isachardot}{\kern0pt}dom{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ dom{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}dV{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}P{\isachardot}{\kern0pt}dom\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ G{\isachardot}{\kern0pt}dV\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}P{\isachardot}{\kern0pt}dom\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ G{\isachardot}{\kern0pt}dV\ G{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}dV\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ G{\isachardot}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ dom{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}dV{\isacharparenright}{\kern0pt}\ simp{\isacharplus}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ ran{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}P{\isachardot}{\kern0pt}ran\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ P{\isachardot}{\kern0pt}ran\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}if\ set\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\isanewline
\ \ \ \ \ \ then\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\isanewline
\ \ \ \ \ \ else\ {\isacharbraceleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}S\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}P{\isachardot}{\kern0pt}ran\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ P{\isachardot}{\kern0pt}ran\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}if\ {\isacharquery}{\kern0pt}S\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ then\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ P{\isachardot}{\kern0pt}ran{\isacharunderscore}{\kern0pt}def\ lookup{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ override{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}P{\isachardot}{\kern0pt}ran\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}if\ {\isacharquery}{\kern0pt}S\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ then\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ P{\isachardot}{\kern0pt}ran\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ u\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ assm{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}u\ {\isasymin}\ P{\isachardot}{\kern0pt}ran\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}if\ {\isacharquery}{\kern0pt}S\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ then\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}u\ {\isasymin}\ P{\isachardot}{\kern0pt}ran\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}u\ {\isasymin}\ P{\isachardot}{\kern0pt}ran\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ v\ \isakeyword{where}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ Some\ u{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ P{\isachardot}{\kern0pt}ran{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}discovered{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ P{\isachardot}{\kern0pt}ran{\isacharunderscore}{\kern0pt}def\ lookup{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ override{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ v\ \isakeyword{where}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}v\ {\isasymin}\ {\isacharquery}{\kern0pt}S{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assm\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}u\ {\isacharequal}{\kern0pt}\ Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assm\ False\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ P{\isachardot}{\kern0pt}ran{\isacharunderscore}{\kern0pt}def\ lookup{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ override{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsubsection{\isa{T}%
}
\isamarkuptrue%
%
\isamarkupsection{Termination%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ loop{\isacharunderscore}{\kern0pt}dom{\isacharunderscore}{\kern0pt}aux{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}P{\isachardot}{\kern0pt}dom\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ G{\isachardot}{\kern0pt}dV\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}P{\isachardot}{\kern0pt}dom\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ card\ {\isacharparenleft}{\kern0pt}P{\isachardot}{\kern0pt}dom\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ card\ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}S\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}P{\isachardot}{\kern0pt}dom\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ P{\isachardot}{\kern0pt}dom\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharquery}{\kern0pt}S{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ P{\isachardot}{\kern0pt}dom{\isacharunderscore}{\kern0pt}def\ lookup{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ override{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}finite\ {\isacharparenleft}{\kern0pt}P{\isachardot}{\kern0pt}dom\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isadigit{3}}{\isacharparenright}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}subset\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ intro{\isacharcolon}{\kern0pt}\ G{\isachardot}{\kern0pt}finite{\isacharunderscore}{\kern0pt}dV{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}finite\ {\isacharquery}{\kern0pt}S{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}P{\isachardot}{\kern0pt}dom\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ {\isasyminter}\ {\isacharquery}{\kern0pt}S\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ P{\isachardot}{\kern0pt}dom{\isacharunderscore}{\kern0pt}def\ is{\isacharunderscore}{\kern0pt}discovered{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ card{\isacharunderscore}{\kern0pt}Un{\isacharunderscore}{\kern0pt}disjoint{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ loop{\isacharunderscore}{\kern0pt}dom{\isacharunderscore}{\kern0pt}aux{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ invar{\isacharunderscore}{\kern0pt}G{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ invar{\isacharunderscore}{\kern0pt}queue{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ not{\isacharunderscore}{\kern0pt}DONE{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymnot}\ DONE\ s{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ dom{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}dV{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}P{\isachardot}{\kern0pt}dom\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ G{\isachardot}{\kern0pt}dV\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}dV\ G{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ length\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}tail\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ card\ {\isacharparenleft}{\kern0pt}P{\isachardot}{\kern0pt}dom\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharless}{\kern0pt}\isanewline
\ \ \ \ \ card\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}dV\ G{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ length\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ card\ {\isacharparenleft}{\kern0pt}P{\isachardot}{\kern0pt}dom\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}\ {\isasymnoteq}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}queue\ not{\isacharunderscore}{\kern0pt}DONE\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}length\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}tail\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharless}{\kern0pt}\ length\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}queue\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ Q{\isachardot}{\kern0pt}list{\isacharunderscore}{\kern0pt}tail{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}P{\isachardot}{\kern0pt}dom\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\ card\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}dV\ G{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}G\ dom{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}dV\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ G{\isachardot}{\kern0pt}finite{\isacharunderscore}{\kern0pt}dV\ card{\isacharunderscore}{\kern0pt}mono{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ loop{\isacharunderscore}{\kern0pt}dom{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ G{\isachardot}{\kern0pt}dV\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}P{\isachardot}{\kern0pt}dom\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ G{\isachardot}{\kern0pt}dV\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}loop{\isacharunderscore}{\kern0pt}dom\ {\isacharparenleft}{\kern0pt}G{\isacharcomma}{\kern0pt}\ src{\isacharcomma}{\kern0pt}\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}dV\ G{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ length\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}P{\isachardot}{\kern0pt}dom\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ arbitrary{\isacharcolon}{\kern0pt}\ s\isanewline
\ \ \ \ \ \ \ rule{\isacharcolon}{\kern0pt}\ less{\isacharunderscore}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ less\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}DONE\ s{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}blast\ intro{\isacharcolon}{\kern0pt}\ loop{\isachardot}{\kern0pt}domintros{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}u\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}q\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}Q{\isacharunderscore}{\kern0pt}tail\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}S\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}Not\ {\isasymcirc}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}length\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ length\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharquery}{\kern0pt}q{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ card\ {\isacharquery}{\kern0pt}S{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ less{\isachardot}{\kern0pt}prems{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharminus}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ False\ G{\isachardot}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ list{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}cong{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ distinct{\isacharunderscore}{\kern0pt}card{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}P{\isachardot}{\kern0pt}dom\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}P{\isachardot}{\kern0pt}dom\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ card\ {\isacharquery}{\kern0pt}S{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ less{\isachardot}{\kern0pt}prems{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isadigit{3}}{\isacharcomma}{\kern0pt}\ {\isadigit{5}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ loop{\isacharunderscore}{\kern0pt}dom{\isacharunderscore}{\kern0pt}aux{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}dV\ G{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ length\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}P{\isachardot}{\kern0pt}dom\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ card\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}dV\ G{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ length\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharquery}{\kern0pt}q{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ card\ {\isacharquery}{\kern0pt}S\ {\isacharminus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}P{\isachardot}{\kern0pt}dom\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ card\ {\isacharquery}{\kern0pt}S{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ presburger\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}dV\ G{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ length\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharquery}{\kern0pt}q{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}P{\isachardot}{\kern0pt}dom\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharless}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}dV\ G{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ length\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}P{\isachardot}{\kern0pt}dom\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ less{\isachardot}{\kern0pt}prems\ False\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ loop{\isacharunderscore}{\kern0pt}dom{\isacharunderscore}{\kern0pt}aux{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}dV\ G{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ length\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}P{\isachardot}{\kern0pt}dom\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharless}{\kern0pt}\isanewline
\ \ \ \ \ \ \ card\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}dV\ G{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ length\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}P{\isachardot}{\kern0pt}dom\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ less{\isachardot}{\kern0pt}prems\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ invar{\isacharunderscore}{\kern0pt}queue{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ invar{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ queue{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}dV\ dom{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}dV{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ less{\isachardot}{\kern0pt}hyps\ loop{\isachardot}{\kern0pt}domintros{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsection{Invariants%
}
\isamarkuptrue%
%
\isamarkupsubsection{Definitions%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{locale}\isamarkupfalse%
\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}DONE\ {\isacharequal}{\kern0pt}\ bfs{\isacharunderscore}{\kern0pt}invar\ \isakeyword{where}\ P{\isacharunderscore}{\kern0pt}update\ {\isacharequal}{\kern0pt}\ P{\isacharunderscore}{\kern0pt}update\ \isakeyword{and}\ Q{\isacharunderscore}{\kern0pt}snoc\ {\isacharequal}{\kern0pt}\ Q{\isacharunderscore}{\kern0pt}snoc\ \isakeyword{for}\isanewline
\ \ P{\isacharunderscore}{\kern0pt}update\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}linorder\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ Q{\isacharunderscore}{\kern0pt}snoc\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}q\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}q{\isachardoublequoteclose}\ {\isacharplus}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ DONE{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}DONE\ s{\isachardoublequoteclose}\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}DONE{\isacharprime}{\kern0pt}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}n\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}q{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}m{\isacharparenright}{\kern0pt}\ state\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}DONE{\isacharprime}{\kern0pt}\ G\ src\ s\ {\isasymequiv}\isanewline
\ \ \ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}DONE\isanewline
\ \ \ \ Map{\isacharunderscore}{\kern0pt}empty\ Map{\isacharunderscore}{\kern0pt}delete\ Map{\isacharunderscore}{\kern0pt}lookup\ Map{\isacharunderscore}{\kern0pt}inorder\ Map{\isacharunderscore}{\kern0pt}inv\isanewline
\ \ \ \ Set{\isacharunderscore}{\kern0pt}empty\ Set{\isacharunderscore}{\kern0pt}insert\ Set{\isacharunderscore}{\kern0pt}delete\ Set{\isacharunderscore}{\kern0pt}isin\ Set{\isacharunderscore}{\kern0pt}inorder\ Set{\isacharunderscore}{\kern0pt}inv\isanewline
\ \ \ \ P{\isacharunderscore}{\kern0pt}empty\ P{\isacharunderscore}{\kern0pt}delete\ P{\isacharunderscore}{\kern0pt}lookup\ P{\isacharunderscore}{\kern0pt}invar\isanewline
\ \ \ \ Q{\isacharunderscore}{\kern0pt}empty\ Q{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ Q{\isacharunderscore}{\kern0pt}head\ Q{\isacharunderscore}{\kern0pt}tail\ Q{\isacharunderscore}{\kern0pt}invar\ Q{\isacharunderscore}{\kern0pt}list\isanewline
\ \ \ \ Map{\isacharunderscore}{\kern0pt}update\ G\ src\ s\ P{\isacharunderscore}{\kern0pt}update\ Q{\isacharunderscore}{\kern0pt}snoc{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}DONE{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}q{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}m{\isacharparenright}{\kern0pt}\ state\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}DONE{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ {\isasymequiv}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}DONE{\isacharprime}{\kern0pt}\ G\ src{\isachardoublequoteclose}%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Convenience Lemmas%
}
\isamarkuptrue%
%
\isamarkupsubsubsection{\isa{bfs}%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharprime}{\kern0pt}I{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}bfs{\isacharunderscore}{\kern0pt}invar{\isacharprime}{\kern0pt}\ G\ src\ s{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymnot}\ DONE\ s{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharprime}{\kern0pt}\ G\ src\ s{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharunderscore}{\kern0pt}def\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharunderscore}{\kern0pt}axioms{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}DONE{\isacharprime}{\kern0pt}I{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}bfs{\isacharunderscore}{\kern0pt}invar{\isacharprime}{\kern0pt}\ G\ src\ s{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}DONE\ s{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}DONE{\isacharprime}{\kern0pt}\ G\ src\ s{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}DONE{\isacharunderscore}{\kern0pt}def\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}DONE{\isacharunderscore}{\kern0pt}axioms{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ rev{\isacharunderscore}{\kern0pt}follow{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}Parent{\isacharunderscore}{\kern0pt}Relation{\isachardot}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}rev{\isacharunderscore}{\kern0pt}follow\ m\ v\ {\isasymnoteq}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ dest{\isacharcolon}{\kern0pt}\ parent{\isachardot}{\kern0pt}follow{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ distinct{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}Parent{\isacharunderscore}{\kern0pt}Relation{\isachardot}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}distinct\ {\isacharparenleft}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow\ m\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ distinct{\isacharunderscore}{\kern0pt}rev\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ parent{\isachardot}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}follow{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ last{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}Parent{\isacharunderscore}{\kern0pt}Relation{\isachardot}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}last\ {\isacharparenleft}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow\ m\ v{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}l\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}parent{\isachardot}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ m{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}l\ {\isacharequal}{\kern0pt}\ hd\ {\isacharquery}{\kern0pt}l\ {\isacharhash}{\kern0pt}\ tl\ {\isacharquery}{\kern0pt}l{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ parent{\isachardot}{\kern0pt}follow{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty\ hd{\isacharunderscore}{\kern0pt}Cons{\isacharunderscore}{\kern0pt}tl{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}hd\ {\isacharquery}{\kern0pt}l\ {\isacharequal}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ dest{\isacharcolon}{\kern0pt}\ parent{\isachardot}{\kern0pt}follow{\isacharunderscore}{\kern0pt}ConsD{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ parent{\isachardot}{\kern0pt}follow{\isacharunderscore}{\kern0pt}non{\isacharunderscore}{\kern0pt}empty\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp\ add{\isacharcolon}{\kern0pt}\ last{\isacharunderscore}{\kern0pt}rev{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsubsection{\isa{bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input}%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{context}\isamarkupfalse%
\ bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input\isanewline
\isakeyword{begin}\isanewline
\isacommand{sublocale}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}dgraph\ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}dE\ G{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}standard{\isacharcomma}{\kern0pt}\ goal{\isacharunderscore}{\kern0pt}cases{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{1}}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}G\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ G{\isachardot}{\kern0pt}finite{\isacharunderscore}{\kern0pt}dE{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isacommand{end}\isamarkupfalse%
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsubsection{\isa{bfs{\isacharunderscore}{\kern0pt}invar}%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharparenright}{\kern0pt}\ distinct{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}distinct\ {\isacharparenleft}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ distinct{\isacharunderscore}{\kern0pt}follow\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Basic Lemmas%
}
\isamarkuptrue%
%
\isamarkupsubsubsection{\isa{bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input}%
}
\isamarkuptrue%
%
\isamarkupsubsubsection{\isa{bfs{\isacharunderscore}{\kern0pt}invar}%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharparenright}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}dpath{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymnot}\ white\ s\ v{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}dpath{\isacharunderscore}{\kern0pt}bet\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}dE\ G{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ src\ v{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ v\ rule{\isacharcolon}{\kern0pt}\ follow{\isacharunderscore}{\kern0pt}pinduct{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ v{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}v\ {\isacharequal}{\kern0pt}\ src{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ parent{\isacharunderscore}{\kern0pt}src\ src{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}dV\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ G{\isachardot}{\kern0pt}dE{\isacharunderscore}{\kern0pt}def\ G{\isachardot}{\kern0pt}dV{\isacharunderscore}{\kern0pt}def\ follow{\isacharunderscore}{\kern0pt}psimps\ intro{\isacharcolon}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}bet{\isacharunderscore}{\kern0pt}reflexive{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ u\ \isakeyword{where}\isanewline
\ \ \ \ \ \ u{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ Some\ u{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{1}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}discovered{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}follow\ v\ {\isacharequal}{\kern0pt}\ v\ {\isacharhash}{\kern0pt}\ follow\ u{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isasymin}\ G{\isachardot}{\kern0pt}dE\ G{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isasymnot}\ white\ s\ u{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}parent\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ follow{\isacharunderscore}{\kern0pt}psimps\ intro{\isacharcolon}{\kern0pt}\ parent{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}edge{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}dpath{\isacharunderscore}{\kern0pt}bet\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}dE\ G{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ u{\isacharparenright}{\kern0pt}\ src\ u{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ u\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ {\isachardoublequoteopen}{\isadigit{1}}{\isachardot}{\kern0pt}hyps{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharcolon}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}bet{\isacharunderscore}{\kern0pt}snocI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharparenright}{\kern0pt}\ hd{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}src{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymnot}\ white\ s\ v{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}hd\ {\isacharparenleft}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ src{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ hd{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}dpath{\isacharunderscore}{\kern0pt}bet{\isacharprime}{\kern0pt}{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}rule\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}dpath{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharparenright}{\kern0pt}\ d{\isacharunderscore}{\kern0pt}triangle{\isacharunderscore}{\kern0pt}inequality{\isacharunderscore}{\kern0pt}edge{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isasymin}\ G{\isachardot}{\kern0pt}dE\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymnot}\ white\ s\ u{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymnot}\ white\ s\ v{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v\ {\isasymle}\ d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ u\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}dpath{\isacharunderscore}{\kern0pt}bet\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}dE\ G{\isacharparenright}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharbrackright}{\kern0pt}\ u\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ edges{\isacharunderscore}{\kern0pt}are{\isacharunderscore}{\kern0pt}dpath{\isacharunderscore}{\kern0pt}bet{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}\ {\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ d{\isacharunderscore}{\kern0pt}triangle{\isacharunderscore}{\kern0pt}inequality\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{\isa{bfs{\isachardot}{\kern0pt}init}%
}
\isamarkuptrue%
%
\isamarkupsubsubsection{%
}
\isamarkuptrue%
%
\isamarkupsubsubsection{%
}
\isamarkuptrue%
%
\isamarkupsubsection{\isa{{\isasymlambda}Map{\isacharunderscore}{\kern0pt}lookup\ Set{\isacharunderscore}{\kern0pt}inorder\ P{\isacharunderscore}{\kern0pt}update\ P{\isacharunderscore}{\kern0pt}lookup\ Q{\isacharunderscore}{\kern0pt}snoc\ Q{\isacharunderscore}{\kern0pt}head\ Q{\isacharunderscore}{\kern0pt}tail\ G\ src\ s{\isachardot}{\kern0pt}\ fold\ {\isacharparenleft}{\kern0pt}bfs{\isachardot}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ P{\isacharunderscore}{\kern0pt}update\ P{\isacharunderscore}{\kern0pt}lookup\ Q{\isacharunderscore}{\kern0pt}snoc\ src\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}adjacency{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ Map{\isacharunderscore}{\kern0pt}lookup\ Set{\isacharunderscore}{\kern0pt}inorder\ G\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}s{\isasymlparr}queue\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ Q{\isacharunderscore}{\kern0pt}tail\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isasymrparr}{\isacharparenright}{\kern0pt}}%
}
\isamarkuptrue%
%
\isamarkupsubsubsection{Convenience Lemmas%
}
\isamarkuptrue%
%
\isamarkupsubsubsection{%
}
\isamarkuptrue%
%
\isamarkupsubsubsection{\isa{bfs{\isacharunderscore}{\kern0pt}invar\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}lookup\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inorder\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inv\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}insert\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}isin\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}inorder\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}inv\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}invar\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}tail\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}invar\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}update\ {\isacharquery}{\kern0pt}G\ {\isacharquery}{\kern0pt}src\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}update\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}snoc\ {\isacharquery}{\kern0pt}s\ {\isasymLongrightarrow}\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}queue\ {\isacharquery}{\kern0pt}s{\isacharparenright}{\kern0pt}}%
}
\isamarkuptrue%
%
\isamarkupsubsubsection{\isa{bfs{\isacharunderscore}{\kern0pt}invar\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}lookup\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inorder\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inv\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}insert\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}isin\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}inorder\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}inv\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}invar\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}tail\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}invar\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}update\ {\isacharquery}{\kern0pt}G\ {\isacharquery}{\kern0pt}src\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}update\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}snoc\ {\isacharquery}{\kern0pt}s\ {\isasymLongrightarrow}\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}state{\isachardot}{\kern0pt}parent\ {\isacharquery}{\kern0pt}s{\isacharparenright}{\kern0pt}}%
}
\isamarkuptrue%
%
\isamarkupsubsubsection{\isa{bfs{\isacharunderscore}{\kern0pt}invar\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}lookup\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inorder\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inv\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}insert\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}isin\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}inorder\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}inv\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}invar\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}tail\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}invar\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}update\ {\isacharquery}{\kern0pt}G\ {\isacharquery}{\kern0pt}src\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}update\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}snoc\ {\isacharquery}{\kern0pt}s\ {\isasymLongrightarrow}\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}state{\isachardot}{\kern0pt}parent\ {\isacharquery}{\kern0pt}s{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}src\ {\isacharequal}{\kern0pt}\ None}%
}
\isamarkuptrue%
%
\isamarkupsubsubsection{Basic Lemmas%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{lemmas}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharparenright}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}whiteD\ {\isacharequal}{\kern0pt}\isanewline
\ \ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}fold\isanewline
\ \ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}lookup{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}lookup{\isacharunderscore}{\kern0pt}parent\isanewline
\ \ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsubsection{\isa{{\isasymlbrakk}bfs{\isacharunderscore}{\kern0pt}invar\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}lookup\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inorder\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inv\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}insert\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}isin\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}inorder\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}inv\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}invar\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}tail\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}invar\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}update\ {\isacharquery}{\kern0pt}G\ {\isacharquery}{\kern0pt}src\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}update\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}snoc\ {\isacharquery}{\kern0pt}s{\isacharsemicolon}{\kern0pt}\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}state{\isachardot}{\kern0pt}parent\ {\isacharquery}{\kern0pt}s{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}v\ {\isacharequal}{\kern0pt}\ Some\ {\isacharquery}{\kern0pt}u{\isasymrbrakk}\ {\isasymLongrightarrow}\ {\isacharquery}{\kern0pt}u\ {\isasymrightarrow}\isactrlbsub adjacency{\isachardot}{\kern0pt}dE\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}lookup\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}inorder\ {\isacharquery}{\kern0pt}G\isactrlesub {\isacharquery}{\kern0pt}v}%
}
\isamarkuptrue%
%
\isamarkupsubsubsection{\isa{{\isasymlbrakk}bfs{\isacharunderscore}{\kern0pt}invar\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}lookup\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inorder\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inv\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}insert\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}isin\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}inorder\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}inv\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}invar\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}tail\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}invar\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}update\ {\isacharquery}{\kern0pt}G\ {\isacharquery}{\kern0pt}src\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}update\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}snoc\ {\isacharquery}{\kern0pt}s{\isacharsemicolon}{\kern0pt}\ {\isacharquery}{\kern0pt}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ {\isacharquery}{\kern0pt}s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymrbrakk}\ {\isasymLongrightarrow}\ {\isasymnot}\ {\isasymnot}\ bfs{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}discovered\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharquery}{\kern0pt}src\ {\isacharparenleft}{\kern0pt}state{\isachardot}{\kern0pt}parent\ {\isacharquery}{\kern0pt}s{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}v}%
}
\isamarkuptrue%
%
\isamarkupsubsubsection{\isa{{\isasymlbrakk}bfs{\isacharunderscore}{\kern0pt}invar\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}lookup\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inorder\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inv\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}insert\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}isin\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}inorder\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}inv\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}invar\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}tail\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}invar\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}update\ {\isacharquery}{\kern0pt}G\ {\isacharquery}{\kern0pt}src\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}update\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}snoc\ {\isacharquery}{\kern0pt}s{\isacharsemicolon}{\kern0pt}\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}state{\isachardot}{\kern0pt}parent\ {\isacharquery}{\kern0pt}s{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}v\ {\isacharequal}{\kern0pt}\ Some\ {\isacharquery}{\kern0pt}u{\isasymrbrakk}\ {\isasymLongrightarrow}\ {\isasymnot}\ {\isasymnot}\ bfs{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}discovered\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharquery}{\kern0pt}src\ {\isacharparenleft}{\kern0pt}state{\isachardot}{\kern0pt}parent\ {\isacharquery}{\kern0pt}s{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}u}%
}
\isamarkuptrue%
%
\isamarkupsubsubsection{\isa{{\isasymlbrakk}bfs{\isacharunderscore}{\kern0pt}invar\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}lookup\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inorder\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inv\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}insert\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}isin\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}inorder\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}inv\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}invar\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}tail\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}invar\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}update\ {\isacharquery}{\kern0pt}G\ {\isacharquery}{\kern0pt}src\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}update\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}snoc\ {\isacharquery}{\kern0pt}s{\isacharsemicolon}{\kern0pt}\ {\isacharquery}{\kern0pt}u\ {\isasymrightarrow}\isactrlbsub adjacency{\isachardot}{\kern0pt}dE\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}lookup\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}inorder\ {\isacharquery}{\kern0pt}G\isactrlesub {\isacharquery}{\kern0pt}v{\isacharsemicolon}{\kern0pt}\ bfs{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}discovered\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharquery}{\kern0pt}src\ {\isacharparenleft}{\kern0pt}state{\isachardot}{\kern0pt}parent\ {\isacharquery}{\kern0pt}s{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}u\ {\isasymand}\ {\isacharquery}{\kern0pt}u\ {\isasymnotin}\ set\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ {\isacharquery}{\kern0pt}s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymrbrakk}\ {\isasymLongrightarrow}\ {\isasymnot}\ {\isasymnot}\ bfs{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}discovered\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharquery}{\kern0pt}src\ {\isacharparenleft}{\kern0pt}state{\isachardot}{\kern0pt}parent\ {\isacharquery}{\kern0pt}s{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}v}%
}
\isamarkuptrue%
%
\isamarkupsubsubsection{\isa{bfs{\isacharunderscore}{\kern0pt}invar\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}lookup\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inorder\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inv\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}insert\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}isin\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}inorder\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}inv\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}invar\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}tail\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}invar\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}update\ {\isacharquery}{\kern0pt}G\ {\isacharquery}{\kern0pt}src\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}update\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}snoc\ {\isacharquery}{\kern0pt}s\ {\isasymLongrightarrow}\ sorted{\isacharunderscore}{\kern0pt}wrt\ {\isacharparenleft}{\kern0pt}{\isasymlambda}u\ v{\isachardot}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}length\ {\isacharparenleft}{\kern0pt}rev\ {\isacharparenleft}{\kern0pt}parent{\isachardot}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}state{\isachardot}{\kern0pt}parent\ {\isacharquery}{\kern0pt}s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ u{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\ dpath{\isacharunderscore}{\kern0pt}length\ {\isacharparenleft}{\kern0pt}rev\ {\isacharparenleft}{\kern0pt}parent{\isachardot}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}state{\isachardot}{\kern0pt}parent\ {\isacharquery}{\kern0pt}s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ {\isacharquery}{\kern0pt}s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}}%
}
\isamarkuptrue%
%
\isamarkupsubsubsection{\isa{{\isasymlbrakk}bfs{\isacharunderscore}{\kern0pt}invar\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}lookup\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inorder\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inv\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}insert\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}isin\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}inorder\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}inv\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}invar\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}tail\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}invar\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}update\ {\isacharquery}{\kern0pt}G\ {\isacharquery}{\kern0pt}src\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}update\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}snoc\ {\isacharquery}{\kern0pt}s{\isacharsemicolon}{\kern0pt}\ {\isasymnot}\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ {\isacharparenleft}{\kern0pt}queue\ {\isacharquery}{\kern0pt}s{\isacharparenright}{\kern0pt}{\isasymrbrakk}\ {\isasymLongrightarrow}\ dpath{\isacharunderscore}{\kern0pt}length\ {\isacharparenleft}{\kern0pt}rev\ {\isacharparenleft}{\kern0pt}parent{\isachardot}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}state{\isachardot}{\kern0pt}parent\ {\isacharquery}{\kern0pt}s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}last\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ {\isacharquery}{\kern0pt}s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\ dpath{\isacharunderscore}{\kern0pt}length\ {\isacharparenleft}{\kern0pt}rev\ {\isacharparenleft}{\kern0pt}parent{\isachardot}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}state{\isachardot}{\kern0pt}parent\ {\isacharquery}{\kern0pt}s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ {\isacharquery}{\kern0pt}s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}}%
}
\isamarkuptrue%
%
\isamarkupsubsubsection{\isa{{\isasymlbrakk}bfs{\isacharunderscore}{\kern0pt}invar\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}lookup\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inorder\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inv\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}insert\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}isin\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}inorder\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}inv\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}invar\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}head\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}tail\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}invar\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}update\ {\isacharquery}{\kern0pt}G\ {\isacharquery}{\kern0pt}src\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}update\ {\isacharquery}{\kern0pt}Q{\isacharunderscore}{\kern0pt}snoc\ {\isacharquery}{\kern0pt}s{\isacharsemicolon}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}bet\ {\isacharparenleft}{\kern0pt}adjacency{\isachardot}{\kern0pt}dE\ {\isacharquery}{\kern0pt}Map{\isacharunderscore}{\kern0pt}lookup\ {\isacharquery}{\kern0pt}Set{\isacharunderscore}{\kern0pt}inorder\ {\isacharquery}{\kern0pt}G{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}p\ {\isacharquery}{\kern0pt}u\ {\isacharquery}{\kern0pt}v{\isacharsemicolon}{\kern0pt}\ {\isasymnot}\ {\isasymnot}\ bfs{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}discovered\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharquery}{\kern0pt}src\ {\isacharparenleft}{\kern0pt}state{\isachardot}{\kern0pt}parent\ {\isacharquery}{\kern0pt}s{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}u{\isacharsemicolon}{\kern0pt}\ {\isasymnot}\ {\isasymnot}\ bfs{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}discovered\ {\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharquery}{\kern0pt}src\ {\isacharparenleft}{\kern0pt}state{\isachardot}{\kern0pt}parent\ {\isacharquery}{\kern0pt}s{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}v{\isasymrbrakk}\ {\isasymLongrightarrow}\ dpath{\isacharunderscore}{\kern0pt}length\ {\isacharparenleft}{\kern0pt}rev\ {\isacharparenleft}{\kern0pt}parent{\isachardot}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}state{\isachardot}{\kern0pt}parent\ {\isacharquery}{\kern0pt}s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\ dpath{\isacharunderscore}{\kern0pt}length\ {\isacharparenleft}{\kern0pt}rev\ {\isacharparenleft}{\kern0pt}parent{\isachardot}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}state{\isachardot}{\kern0pt}parent\ {\isacharquery}{\kern0pt}s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}u{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}length\ {\isacharquery}{\kern0pt}p}%
}
\isamarkuptrue%
%
\isamarkupsubsubsection{%
}
\isamarkuptrue%
%
\isamarkupsection{Correctness%
}
\isamarkuptrue%
%
\isamarkupsubsection{Definitions%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{abbreviation}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ dist\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}n\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ enat{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}dist\ G\ {\isasymequiv}\ Shortest{\isacharunderscore}{\kern0pt}Dpath{\isachardot}{\kern0pt}dist\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}dE\ G{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}shortest{\isacharunderscore}{\kern0pt}dpath\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}n\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ list\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}shortest{\isacharunderscore}{\kern0pt}dpath\ G\ p\ u\ v\ {\isasymequiv}\ dpath{\isacharunderscore}{\kern0pt}bet\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}dE\ G{\isacharparenright}{\kern0pt}\ p\ u\ v\ {\isasymand}\ dpath{\isacharunderscore}{\kern0pt}length\ p\ {\isacharequal}{\kern0pt}\ dist\ G\ u\ v{\isachardoublequoteclose}%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Basic Lemmas%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharparenright}{\kern0pt}\ queue{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}dV{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}Q{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ G{\isachardot}{\kern0pt}dV\ G{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}queue\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}dpath{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ G{\isachardot}{\kern0pt}dV{\isacharunderscore}{\kern0pt}def\ intro{\isacharcolon}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}bet{\isacharunderscore}{\kern0pt}endpoints{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharparenright}{\kern0pt}\ dom{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}dV{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}P{\isachardot}{\kern0pt}dom\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ G{\isachardot}{\kern0pt}dV\ G{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ v\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}v\ {\isasymin}\ P{\isachardot}{\kern0pt}dom\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ u\ \isakeyword{where}\isanewline
\ \ \ \ {\isachardoublequoteopen}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ Some\ u{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ P{\isachardot}{\kern0pt}dom{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isasymin}\ G{\isachardot}{\kern0pt}dE\ G{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ parent{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}edge{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}v\ {\isasymin}\ G{\isachardot}{\kern0pt}dV\ G{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ G{\isachardot}{\kern0pt}edgeD{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Convenience Lemmas%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharparenright}{\kern0pt}\ loop{\isacharunderscore}{\kern0pt}dom{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}loop{\isacharunderscore}{\kern0pt}dom\ {\isacharparenleft}{\kern0pt}G{\isacharcomma}{\kern0pt}\ src{\isacharcomma}{\kern0pt}\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}G\ invar{\isacharunderscore}{\kern0pt}queue\ invar{\isacharunderscore}{\kern0pt}parent\ queue{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}dV\ dom{\isacharunderscore}{\kern0pt}parent{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}dV\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ loop{\isacharunderscore}{\kern0pt}dom{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ loop{\isacharunderscore}{\kern0pt}psimps{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}bfs{\isacharunderscore}{\kern0pt}invar{\isacharprime}{\kern0pt}\ G\ src\ s{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}loop\ G\ src\ s\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}if\ {\isasymnot}\ DONE\ s\ then\ loop\ G\ src\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}\ else\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ bfs{\isacharunderscore}{\kern0pt}invar{\isachardot}{\kern0pt}loop{\isacharunderscore}{\kern0pt}dom\ loop{\isachardot}{\kern0pt}psimps{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharparenright}{\kern0pt}\ loop{\isacharunderscore}{\kern0pt}psimps{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}loop\ G\ src\ s\ {\isacharequal}{\kern0pt}\ loop\ G\ src\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}DONE\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}axioms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ loop{\isacharunderscore}{\kern0pt}psimps{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}DONE{\isacharparenright}{\kern0pt}\ loop{\isacharunderscore}{\kern0pt}psimps{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}loop\ G\ src\ s\ {\isacharequal}{\kern0pt}\ s{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ DONE\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}axioms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ loop{\isacharunderscore}{\kern0pt}psimps{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ bfs{\isacharunderscore}{\kern0pt}induct{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}bfs{\isacharunderscore}{\kern0pt}invar{\isacharprime}{\kern0pt}\ G\ src\ s{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymAnd}G\ src\ s{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymnot}\ DONE\ s\ {\isasymLongrightarrow}\ P\ G\ src\ {\isacharparenleft}{\kern0pt}fold\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ P\ G\ src\ s{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}P\ G\ src\ s{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}blast\ intro{\isacharcolon}{\kern0pt}\ bfs{\isacharunderscore}{\kern0pt}invar{\isachardot}{\kern0pt}loop{\isacharunderscore}{\kern0pt}dom\ loop{\isachardot}{\kern0pt}pinduct{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Completeness%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}DONE{\isacharparenright}{\kern0pt}\ white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}reachable{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}white\ s\ v{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymnot}\ reachable\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}dE\ G{\isacharparenright}{\kern0pt}\ src\ v{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}reachable\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}dE\ G{\isacharparenright}{\kern0pt}\ src\ v{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ p\ \isakeyword{where}\isanewline
\ \ \ \ {\isachardoublequoteopen}dpath{\isacharunderscore}{\kern0pt}bet\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}dE\ G{\isacharparenright}{\kern0pt}\ p\ src\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ reachable{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}dpath{\isacharunderscore}{\kern0pt}bet\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ p\ arbitrary{\isacharcolon}{\kern0pt}\ v\ rule{\isacharcolon}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{1}}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{2}}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ src{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white\ hd{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}dpath{\isacharunderscore}{\kern0pt}bet{\isacharprime}{\kern0pt}\ last{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}dpath{\isacharunderscore}{\kern0pt}bet\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{3}}\ u\ u{\isacharprime}{\kern0pt}\ l{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ s\ u\ rule{\isacharcolon}{\kern0pt}\ vertex{\isacharunderscore}{\kern0pt}color{\isacharunderscore}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ white\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}dpath{\isacharunderscore}{\kern0pt}bet\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}dE\ G{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}l\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}u{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ src\ u{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{3}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ dpath{\isacharunderscore}{\kern0pt}bet{\isacharunderscore}{\kern0pt}pref{\isacharparenright}{\kern0pt}\ simp\isanewline
\ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ white\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ {\isachardoublequoteopen}{\isadigit{3}}{\isachardot}{\kern0pt}hyps{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ gray\isanewline
\ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}queue\ DONE\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ Q{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ DONE{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ black\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isasymin}\ G{\isachardot}{\kern0pt}dE\ G{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{3}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}bet{\isacharunderscore}{\kern0pt}def\ intro{\isacharcolon}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}snoc{\isacharunderscore}{\kern0pt}edge{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ black\ black{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}white\ {\isachardoublequoteopen}{\isadigit{3}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ completeness{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}bfs{\isacharunderscore}{\kern0pt}invar{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ s{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymnot}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}loop\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymnot}\ reachable\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}dE\ G{\isacharparenright}{\kern0pt}\ src\ v{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ rule{\isacharcolon}{\kern0pt}\ bfs{\isacharunderscore}{\kern0pt}induct{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ G\ src\ s{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}DONE\ s{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{1}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}DONE{\isacharprime}{\kern0pt}\ G\ src\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}DONE{\isacharprime}{\kern0pt}I{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{1}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}DONE{\isachardot}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}reachable{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}simp{\isacharunderscore}{\kern0pt}all\ add{\isacharcolon}{\kern0pt}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}DONE{\isachardot}{\kern0pt}loop{\isacharunderscore}{\kern0pt}psimps{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{1}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharprime}{\kern0pt}\ G\ src\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharprime}{\kern0pt}I{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ False\ {\isachardoublequoteopen}{\isadigit{1}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isachardot}{\kern0pt}bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}fold\ {\isachardoublequoteopen}{\isadigit{1}}{\isachardot}{\kern0pt}hyps{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}simp{\isacharunderscore}{\kern0pt}all\ add{\isacharcolon}{\kern0pt}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isachardot}{\kern0pt}loop{\isacharunderscore}{\kern0pt}psimps{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Soundness%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}DONE{\isacharparenright}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}d{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}dist{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymnot}\ white\ s\ v{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v\ {\isasymle}\ dist\ G\ src\ v{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}reachable\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}dE\ G{\isacharparenright}{\kern0pt}\ src\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ reachable{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}dpath{\isacharunderscore}{\kern0pt}bet\ intro{\isacharcolon}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}dpath{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ p\ \isakeyword{where}\isanewline
\ \ \ \ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}shortest{\isacharunderscore}{\kern0pt}dpath\ G\ p\ src\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}elim\ is{\isacharunderscore}{\kern0pt}shortest{\isacharunderscore}{\kern0pt}dpath{\isacharunderscore}{\kern0pt}if{\isacharunderscore}{\kern0pt}reachable{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ simp{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ p\ arbitrary{\isacharcolon}{\kern0pt}\ v\ rule{\isacharcolon}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{1}}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{2}}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ parent{\isacharunderscore}{\kern0pt}src\ hd{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}dpath{\isacharunderscore}{\kern0pt}bet{\isacharprime}{\kern0pt}\ last{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}dpath{\isacharunderscore}{\kern0pt}bet\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp\ add{\isacharcolon}{\kern0pt}\ follow{\isacharunderscore}{\kern0pt}psimps\ intro{\isacharcolon}{\kern0pt}\ list{\isacharunderscore}{\kern0pt}length{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{3}}\ u\ u{\isacharprime}{\kern0pt}\ l{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}white\ s\ u{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}dist\ G\ src\ u\ {\isacharequal}{\kern0pt}\ {\isasyminfinity}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}reachable\ dist{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}{\isasymdelta}\ {\isasymdelta}{\isacharunderscore}{\kern0pt}reachable{\isacharunderscore}{\kern0pt}conv{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{3}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharcolon}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}shortest{\isacharunderscore}{\kern0pt}dpathE{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}shortest{\isacharunderscore}{\kern0pt}dpath{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}shortest{\isacharunderscore}{\kern0pt}dpath\ G\ {\isacharparenleft}{\kern0pt}l\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}u{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ src\ u{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{3}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}auto\isanewline
\ \ \ \ \ \ \ \ \ \ \ simp\ add{\isacharcolon}{\kern0pt}\ dpath{\isacharunderscore}{\kern0pt}length{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}dpath{\isacharunderscore}{\kern0pt}weight\ dist{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}{\isasymdelta}\ is{\isacharunderscore}{\kern0pt}shortest{\isacharunderscore}{\kern0pt}dpath{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ intro{\isacharcolon}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}shortest{\isacharunderscore}{\kern0pt}dpath{\isacharunderscore}{\kern0pt}prefI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isasymin}\ G{\isachardot}{\kern0pt}dE\ G{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{3}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ last{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}dpath{\isacharunderscore}{\kern0pt}bet\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp\ add{\isacharcolon}{\kern0pt}\ edge{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}dpath{\isacharunderscore}{\kern0pt}bet\ intro{\isacharcolon}{\kern0pt}\ split{\isacharunderscore}{\kern0pt}dpath{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v\ {\isasymle}\ d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ u\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ False\ {\isachardoublequoteopen}{\isadigit{3}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ d{\isacharunderscore}{\kern0pt}triangle{\isacharunderscore}{\kern0pt}inequality{\isacharunderscore}{\kern0pt}edge{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymle}\ dist\ G\ src\ u\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{3}}{\isachardot}{\kern0pt}hyps{\isachardoublequoteclose}{\isacharbrackleft}{\kern0pt}OF\ is{\isacharunderscore}{\kern0pt}shortest{\isacharunderscore}{\kern0pt}dpath\ False{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ plus{\isacharunderscore}{\kern0pt}enat{\isacharunderscore}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ one{\isacharunderscore}{\kern0pt}enat{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ add{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}mono{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ dist\ G\ src\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{3}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharcolon}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}shortest{\isacharunderscore}{\kern0pt}dpathE{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}DONE{\isacharparenright}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}shortest{\isacharunderscore}{\kern0pt}dpath{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymnot}\ white\ s\ v{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}shortest{\isacharunderscore}{\kern0pt}dpath\ G\ {\isacharparenleft}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ src\ v{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ conjI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}dpath{\isacharunderscore}{\kern0pt}bet\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}dE\ G{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ src\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}dpath{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}d\ {\isacharparenleft}{\kern0pt}parent\ s{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ dist\ G\ src\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}d{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}dist\ dist{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}dpath{\isacharunderscore}{\kern0pt}length\ antisym{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ soundness{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}bfs{\isacharunderscore}{\kern0pt}invar{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ s{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}discovered\ src\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}loop\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}shortest{\isacharunderscore}{\kern0pt}dpath\ G\ {\isacharparenleft}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}loop\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ src\ v{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ rule{\isacharcolon}{\kern0pt}\ bfs{\isacharunderscore}{\kern0pt}induct{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ G\ src\ s{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}DONE\ s{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{1}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}DONE{\isacharprime}{\kern0pt}\ G\ src\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}DONE{\isacharprime}{\kern0pt}I{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{1}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}DONE{\isachardot}{\kern0pt}not{\isacharunderscore}{\kern0pt}white{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}shortest{\isacharunderscore}{\kern0pt}dpath{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}simp{\isacharunderscore}{\kern0pt}all\ add{\isacharcolon}{\kern0pt}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}DONE{\isachardot}{\kern0pt}loop{\isacharunderscore}{\kern0pt}psimps{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{1}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharprime}{\kern0pt}\ G\ src\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharprime}{\kern0pt}I{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ False\ {\isachardoublequoteopen}{\isadigit{1}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isachardot}{\kern0pt}loop{\isacharunderscore}{\kern0pt}psimps\ dest{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isadigit{1}}{\isachardot}{\kern0pt}hyps{\isachardoublequoteclose}\ intro{\isacharcolon}{\kern0pt}\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isachardot}{\kern0pt}bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}fold{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Correctness%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{abbreviation}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}shortest{\isacharunderscore}{\kern0pt}dpath{\isacharunderscore}{\kern0pt}Map\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}n\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}shortest{\isacharunderscore}{\kern0pt}dpath{\isacharunderscore}{\kern0pt}Map\ G\ src\ m\ {\isasymequiv}\isanewline
\ \ \ {\isasymforall}v{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}is{\isacharunderscore}{\kern0pt}discovered\ src\ m\ v\ {\isasymlongrightarrow}\ is{\isacharunderscore}{\kern0pt}shortest{\isacharunderscore}{\kern0pt}dpath\ G\ {\isacharparenleft}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow\ m\ v{\isacharparenright}{\kern0pt}\ src\ v{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymnot}\ is{\isacharunderscore}{\kern0pt}discovered\ src\ m\ v\ {\isasymlongrightarrow}\ {\isasymnot}\ reachable\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}dE\ G{\isacharparenright}{\kern0pt}\ src\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ correctness{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}bfs{\isacharunderscore}{\kern0pt}invar{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ s{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}shortest{\isacharunderscore}{\kern0pt}dpath{\isacharunderscore}{\kern0pt}Map\ G\ src\ {\isacharparenleft}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}loop\ G\ src\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ soundness\ completeness\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ bfs{\isacharunderscore}{\kern0pt}correct{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}shortest{\isacharunderscore}{\kern0pt}dpath{\isacharunderscore}{\kern0pt}Map\ G\ src\ {\isacharparenleft}{\kern0pt}bfs\ G\ src{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}init\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ correctness{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{corollary}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ bfs{\isacharparenright}{\kern0pt}\ bfs{\isacharunderscore}{\kern0pt}correct{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharprime}{\kern0pt}\ G\ src{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}shortest{\isacharunderscore}{\kern0pt}dpath{\isacharunderscore}{\kern0pt}Map\ G\ src\ {\isacharparenleft}{\kern0pt}bfs\ G\ src{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isachardot}{\kern0pt}bfs{\isacharunderscore}{\kern0pt}correct{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadelimtheory
\isanewline
%
\endisadelimtheory
%
\isatagtheory
\isacommand{end}\isamarkupfalse%
%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\end{isabellebody}%
\endinput
%:%file=~/Documents/1_projects/2022_idp/thys/BFS/BFS.thy%:%
%:%10=1%:%
%:%11=1%:%
%:%12=2%:%
%:%13=3%:%
%:%14=4%:%
%:%15=5%:%
%:%16=6%:%
%:%17=7%:%
%:%18=8%:%
%:%27=11%:%
%:%28=12%:%
%:%29=13%:%
%:%30=14%:%
%:%31=15%:%
%:%40=18%:%
%:%44=20%:%
%:%54=22%:%
%:%55=22%:%
%:%56=23%:%
%:%57=24%:%
%:%58=25%:%
%:%59=26%:%
%:%60=26%:%
%:%61=27%:%
%:%62=28%:%
%:%63=29%:%
%:%64=30%:%
%:%65=31%:%
%:%66=32%:%
%:%67=33%:%
%:%68=34%:%
%:%69=35%:%
%:%70=36%:%
%:%71=37%:%
%:%72=38%:%
%:%73=39%:%
%:%74=40%:%
%:%75=41%:%
%:%76=42%:%
%:%77=43%:%
%:%78=44%:%
%:%79=45%:%
%:%80=46%:%
%:%81=47%:%
%:%82=48%:%
%:%83=49%:%
%:%84=50%:%
%:%85=51%:%
%:%86=52%:%
%:%87=53%:%
%:%88=54%:%
%:%89=55%:%
%:%91=58%:%
%:%92=59%:%
%:%93=60%:%
%:%94=61%:%
%:%95=62%:%
%:%97=65%:%
%:%98=65%:%
%:%99=66%:%
%:%101=68%:%
%:%102=69%:%
%:%103=70%:%
%:%104=70%:%
%:%105=71%:%
%:%106=72%:%
%:%107=73%:%
%:%108=73%:%
%:%109=74%:%
%:%110=75%:%
%:%111=76%:%
%:%112=76%:%
%:%113=77%:%
%:%115=79%:%
%:%116=80%:%
%:%117=81%:%
%:%118=81%:%
%:%119=82%:%
%:%121=84%:%
%:%122=85%:%
%:%123=86%:%
%:%124=86%:%
%:%125=87%:%
%:%131=93%:%
%:%134=94%:%
%:%138=94%:%
%:%139=94%:%
%:%144=94%:%
%:%147=95%:%
%:%148=96%:%
%:%149=96%:%
%:%150=97%:%
%:%151=98%:%
%:%152=99%:%
%:%153=99%:%
%:%154=100%:%
%:%158=104%:%
%:%159=105%:%
%:%160=106%:%
%:%161=106%:%
%:%162=107%:%
%:%163=108%:%
%:%164=109%:%
%:%172=111%:%
%:%176=113%:%
%:%188=116%:%
%:%189=117%:%
%:%190=118%:%
%:%192=121%:%
%:%193=121%:%
%:%194=122%:%
%:%195=123%:%
%:%196=124%:%
%:%197=125%:%
%:%198=126%:%
%:%199=127%:%
%:%200=128%:%
%:%201=129%:%
%:%202=130%:%
%:%203=131%:%
%:%204=132%:%
%:%205=133%:%
%:%206=133%:%
%:%207=134%:%
%:%220=142%:%
%:%232=145%:%
%:%233=146%:%
%:%234=147%:%
%:%235=148%:%
%:%236=149%:%
%:%240=153%:%
%:%241=154%:%
%:%243=157%:%
%:%244=157%:%
%:%245=158%:%
%:%246=159%:%
%:%247=160%:%
%:%248=160%:%
%:%249=161%:%
%:%250=162%:%
%:%251=163%:%
%:%252=163%:%
%:%253=164%:%
%:%254=165%:%
%:%255=166%:%
%:%256=166%:%
%:%257=167%:%
%:%258=168%:%
%:%259=169%:%
%:%260=169%:%
%:%261=170%:%
%:%262=171%:%
%:%263=172%:%
%:%264=172%:%
%:%265=173%:%
%:%266=174%:%
%:%267=175%:%
%:%268=176%:%
%:%269=177%:%
%:%270=178%:%
%:%271=179%:%
%:%272=180%:%
%:%273=181%:%
%:%274=182%:%
%:%275=183%:%
%:%276=184%:%
%:%277=185%:%
%:%278=186%:%
%:%279=187%:%
%:%280=188%:%
%:%281=189%:%
%:%282=190%:%
%:%285=194%:%
%:%286=195%:%
%:%290=199%:%
%:%291=200%:%
%:%295=204%:%
%:%296=205%:%
%:%297=206%:%
%:%298=207%:%
%:%302=211%:%
%:%303=212%:%
%:%304=213%:%
%:%305=214%:%
%:%307=217%:%
%:%308=217%:%
%:%309=218%:%
%:%315=224%:%
%:%316=225%:%
%:%317=226%:%
%:%318=226%:%
%:%319=227%:%
%:%321=230%:%
%:%322=231%:%
%:%324=234%:%
%:%325=234%:%
%:%326=235%:%
%:%329=236%:%
%:%333=236%:%
%:%334=236%:%
%:%335=237%:%
%:%336=237%:%
%:%341=237%:%
%:%344=238%:%
%:%345=239%:%
%:%346=239%:%
%:%347=240%:%
%:%350=241%:%
%:%354=241%:%
%:%355=241%:%
%:%356=242%:%
%:%357=242%:%
%:%362=242%:%
%:%365=243%:%
%:%366=244%:%
%:%367=244%:%
%:%368=245%:%
%:%371=246%:%
%:%375=246%:%
%:%376=246%:%
%:%377=247%:%
%:%378=247%:%
%:%383=247%:%
%:%386=248%:%
%:%387=249%:%
%:%388=249%:%
%:%389=250%:%
%:%392=251%:%
%:%396=251%:%
%:%397=251%:%
%:%402=251%:%
%:%405=252%:%
%:%406=253%:%
%:%407=253%:%
%:%408=254%:%
%:%409=255%:%
%:%412=256%:%
%:%416=256%:%
%:%417=256%:%
%:%418=257%:%
%:%419=257%:%
%:%424=257%:%
%:%427=258%:%
%:%428=259%:%
%:%429=259%:%
%:%430=260%:%
%:%431=261%:%
%:%434=262%:%
%:%438=262%:%
%:%439=262%:%
%:%440=263%:%
%:%441=263%:%
%:%446=263%:%
%:%449=264%:%
%:%450=265%:%
%:%451=265%:%
%:%452=266%:%
%:%453=267%:%
%:%456=268%:%
%:%460=268%:%
%:%461=268%:%
%:%462=269%:%
%:%463=269%:%
%:%468=269%:%
%:%471=270%:%
%:%472=271%:%
%:%473=271%:%
%:%474=272%:%
%:%475=273%:%
%:%476=274%:%
%:%483=275%:%
%:%484=275%:%
%:%485=276%:%
%:%486=276%:%
%:%487=277%:%
%:%488=277%:%
%:%489=278%:%
%:%490=278%:%
%:%491=279%:%
%:%492=279%:%
%:%493=280%:%
%:%494=280%:%
%:%495=281%:%
%:%496=281%:%
%:%497=282%:%
%:%503=282%:%
%:%506=283%:%
%:%507=284%:%
%:%508=284%:%
%:%509=285%:%
%:%512=286%:%
%:%516=286%:%
%:%517=286%:%
%:%518=287%:%
%:%519=287%:%
%:%524=287%:%
%:%527=288%:%
%:%528=289%:%
%:%529=289%:%
%:%530=290%:%
%:%531=291%:%
%:%532=292%:%
%:%533=293%:%
%:%536=294%:%
%:%540=294%:%
%:%541=294%:%
%:%542=295%:%
%:%543=295%:%
%:%548=295%:%
%:%551=296%:%
%:%552=297%:%
%:%553=297%:%
%:%554=298%:%
%:%555=299%:%
%:%556=300%:%
%:%557=301%:%
%:%560=302%:%
%:%564=302%:%
%:%565=302%:%
%:%566=303%:%
%:%567=303%:%
%:%572=303%:%
%:%575=304%:%
%:%576=305%:%
%:%577=305%:%
%:%578=306%:%
%:%585=307%:%
%:%586=307%:%
%:%587=308%:%
%:%588=308%:%
%:%589=309%:%
%:%590=309%:%
%:%591=309%:%
%:%592=309%:%
%:%593=310%:%
%:%594=310%:%
%:%595=311%:%
%:%596=311%:%
%:%597=312%:%
%:%598=312%:%
%:%599=312%:%
%:%600=312%:%
%:%601=313%:%
%:%602=313%:%
%:%603=314%:%
%:%604=314%:%
%:%605=315%:%
%:%606=315%:%
%:%607=315%:%
%:%608=315%:%
%:%609=316%:%
%:%610=316%:%
%:%611=317%:%
%:%612=317%:%
%:%613=318%:%
%:%614=318%:%
%:%615=318%:%
%:%616=318%:%
%:%617=319%:%
%:%618=319%:%
%:%619=320%:%
%:%620=320%:%
%:%621=321%:%
%:%622=321%:%
%:%623=321%:%
%:%624=322%:%
%:%625=322%:%
%:%626=323%:%
%:%627=323%:%
%:%628=324%:%
%:%629=324%:%
%:%630=324%:%
%:%631=325%:%
%:%632=325%:%
%:%633=326%:%
%:%634=326%:%
%:%635=327%:%
%:%636=327%:%
%:%637=327%:%
%:%638=328%:%
%:%639=328%:%
%:%640=329%:%
%:%641=329%:%
%:%642=330%:%
%:%643=330%:%
%:%644=330%:%
%:%645=331%:%
%:%646=331%:%
%:%647=332%:%
%:%648=332%:%
%:%649=333%:%
%:%650=333%:%
%:%651=333%:%
%:%652=333%:%
%:%653=334%:%
%:%654=334%:%
%:%655=335%:%
%:%656=335%:%
%:%657=336%:%
%:%658=336%:%
%:%659=336%:%
%:%660=337%:%
%:%661=337%:%
%:%662=338%:%
%:%663=338%:%
%:%664=339%:%
%:%665=339%:%
%:%666=339%:%
%:%667=340%:%
%:%677=343%:%
%:%678=344%:%
%:%682=347%:%
%:%686=349%:%
%:%688=351%:%
%:%689=351%:%
%:%690=352%:%
%:%693=353%:%
%:%697=353%:%
%:%698=353%:%
%:%703=353%:%
%:%706=354%:%
%:%707=355%:%
%:%708=355%:%
%:%709=356%:%
%:%712=357%:%
%:%716=357%:%
%:%717=357%:%
%:%726=359%:%
%:%728=361%:%
%:%729=361%:%
%:%730=362%:%
%:%733=363%:%
%:%737=363%:%
%:%738=363%:%
%:%743=363%:%
%:%746=364%:%
%:%747=365%:%
%:%748=365%:%
%:%749=366%:%
%:%750=367%:%
%:%753=368%:%
%:%757=368%:%
%:%758=368%:%
%:%759=369%:%
%:%760=369%:%
%:%765=369%:%
%:%768=370%:%
%:%769=371%:%
%:%770=371%:%
%:%771=372%:%
%:%772=373%:%
%:%773=374%:%
%:%774=375%:%
%:%777=376%:%
%:%781=376%:%
%:%782=376%:%
%:%783=377%:%
%:%784=377%:%
%:%789=377%:%
%:%792=378%:%
%:%793=379%:%
%:%794=379%:%
%:%795=380%:%
%:%796=381%:%
%:%799=382%:%
%:%803=382%:%
%:%804=382%:%
%:%805=383%:%
%:%806=383%:%
%:%811=383%:%
%:%814=384%:%
%:%815=385%:%
%:%816=385%:%
%:%817=386%:%
%:%818=387%:%
%:%819=388%:%
%:%823=392%:%
%:%826=393%:%
%:%830=393%:%
%:%831=393%:%
%:%832=394%:%
%:%833=394%:%
%:%838=394%:%
%:%841=395%:%
%:%842=396%:%
%:%843=396%:%
%:%844=397%:%
%:%845=398%:%
%:%848=399%:%
%:%852=399%:%
%:%853=399%:%
%:%854=400%:%
%:%855=400%:%
%:%864=402%:%
%:%866=404%:%
%:%867=404%:%
%:%868=405%:%
%:%869=406%:%
%:%870=407%:%
%:%877=408%:%
%:%878=408%:%
%:%879=409%:%
%:%880=409%:%
%:%881=410%:%
%:%882=410%:%
%:%883=411%:%
%:%884=411%:%
%:%885=412%:%
%:%886=412%:%
%:%887=413%:%
%:%888=413%:%
%:%889=414%:%
%:%890=414%:%
%:%891=415%:%
%:%892=415%:%
%:%893=416%:%
%:%894=416%:%
%:%899=416%:%
%:%902=417%:%
%:%903=418%:%
%:%904=418%:%
%:%905=419%:%
%:%906=420%:%
%:%907=421%:%
%:%908=422%:%
%:%909=423%:%
%:%910=424%:%
%:%913=425%:%
%:%917=425%:%
%:%918=425%:%
%:%919=426%:%
%:%920=426%:%
%:%921=427%:%
%:%922=427%:%
%:%923=428%:%
%:%924=428%:%
%:%925=429%:%
%:%926=429%:%
%:%927=430%:%
%:%928=430%:%
%:%929=431%:%
%:%930=431%:%
%:%931=432%:%
%:%932=432%:%
%:%933=433%:%
%:%934=434%:%
%:%935=435%:%
%:%936=435%:%
%:%937=436%:%
%:%938=436%:%
%:%939=436%:%
%:%940=437%:%
%:%942=439%:%
%:%943=440%:%
%:%944=440%:%
%:%945=441%:%
%:%946=441%:%
%:%947=442%:%
%:%948=442%:%
%:%949=442%:%
%:%950=443%:%
%:%953=446%:%
%:%954=447%:%
%:%955=447%:%
%:%956=448%:%
%:%957=448%:%
%:%958=449%:%
%:%959=449%:%
%:%960=449%:%
%:%961=450%:%
%:%964=453%:%
%:%965=454%:%
%:%966=454%:%
%:%967=455%:%
%:%968=455%:%
%:%969=456%:%
%:%970=456%:%
%:%971=456%:%
%:%972=457%:%
%:%973=457%:%
%:%974=458%:%
%:%975=458%:%
%:%976=458%:%
%:%977=459%:%
%:%978=459%:%
%:%979=460%:%
%:%985=460%:%
%:%988=461%:%
%:%989=462%:%
%:%990=462%:%
%:%991=463%:%
%:%992=464%:%
%:%993=465%:%
%:%996=466%:%
%:%1000=466%:%
%:%1001=466%:%
%:%1002=467%:%
%:%1003=467%:%
%:%1008=467%:%
%:%1011=468%:%
%:%1012=469%:%
%:%1013=469%:%
%:%1014=470%:%
%:%1015=471%:%
%:%1016=472%:%
%:%1017=473%:%
%:%1018=474%:%
%:%1019=475%:%
%:%1021=477%:%
%:%1028=478%:%
%:%1029=478%:%
%:%1030=479%:%
%:%1031=479%:%
%:%1032=480%:%
%:%1036=484%:%
%:%1037=485%:%
%:%1038=485%:%
%:%1039=486%:%
%:%1040=486%:%
%:%1041=487%:%
%:%1042=487%:%
%:%1043=488%:%
%:%1044=488%:%
%:%1045=489%:%
%:%1046=489%:%
%:%1047=490%:%
%:%1053=490%:%
%:%1056=491%:%
%:%1057=492%:%
%:%1058=492%:%
%:%1059=493%:%
%:%1060=494%:%
%:%1061=495%:%
%:%1062=496%:%
%:%1066=500%:%
%:%1069=501%:%
%:%1073=501%:%
%:%1074=501%:%
%:%1075=502%:%
%:%1076=502%:%
%:%1077=503%:%
%:%1078=503%:%
%:%1079=504%:%
%:%1080=504%:%
%:%1081=505%:%
%:%1082=505%:%
%:%1083=506%:%
%:%1084=506%:%
%:%1085=507%:%
%:%1086=507%:%
%:%1087=508%:%
%:%1088=508%:%
%:%1089=509%:%
%:%1090=510%:%
%:%1091=511%:%
%:%1092=511%:%
%:%1093=512%:%
%:%1094=512%:%
%:%1095=512%:%
%:%1096=513%:%
%:%1100=517%:%
%:%1101=518%:%
%:%1102=518%:%
%:%1103=519%:%
%:%1104=519%:%
%:%1105=520%:%
%:%1106=520%:%
%:%1107=520%:%
%:%1108=521%:%
%:%1112=525%:%
%:%1113=526%:%
%:%1114=526%:%
%:%1115=527%:%
%:%1116=527%:%
%:%1117=528%:%
%:%1118=528%:%
%:%1119=528%:%
%:%1120=529%:%
%:%1124=533%:%
%:%1125=534%:%
%:%1126=534%:%
%:%1127=535%:%
%:%1128=535%:%
%:%1129=536%:%
%:%1130=536%:%
%:%1131=536%:%
%:%1132=537%:%
%:%1133=537%:%
%:%1134=538%:%
%:%1140=538%:%
%:%1143=539%:%
%:%1144=540%:%
%:%1145=540%:%
%:%1146=541%:%
%:%1147=542%:%
%:%1148=543%:%
%:%1149=544%:%
%:%1153=548%:%
%:%1160=549%:%
%:%1161=549%:%
%:%1162=550%:%
%:%1163=550%:%
%:%1164=551%:%
%:%1168=555%:%
%:%1169=556%:%
%:%1170=556%:%
%:%1171=557%:%
%:%1172=557%:%
%:%1173=558%:%
%:%1174=558%:%
%:%1175=559%:%
%:%1176=559%:%
%:%1177=560%:%
%:%1183=560%:%
%:%1186=561%:%
%:%1187=562%:%
%:%1188=562%:%
%:%1189=563%:%
%:%1190=564%:%
%:%1194=568%:%
%:%1197=569%:%
%:%1201=569%:%
%:%1202=569%:%
%:%1203=570%:%
%:%1204=570%:%
%:%1209=570%:%
%:%1212=571%:%
%:%1213=572%:%
%:%1214=572%:%
%:%1215=573%:%
%:%1216=574%:%
%:%1217=575%:%
%:%1220=576%:%
%:%1224=576%:%
%:%1225=576%:%
%:%1226=577%:%
%:%1227=577%:%
%:%1232=577%:%
%:%1235=578%:%
%:%1236=579%:%
%:%1237=579%:%
%:%1238=580%:%
%:%1239=581%:%
%:%1240=582%:%
%:%1243=583%:%
%:%1247=583%:%
%:%1248=583%:%
%:%1249=584%:%
%:%1250=584%:%
%:%1251=585%:%
%:%1252=585%:%
%:%1253=586%:%
%:%1254=586%:%
%:%1255=587%:%
%:%1256=587%:%
%:%1257=588%:%
%:%1258=588%:%
%:%1259=589%:%
%:%1260=589%:%
%:%1261=590%:%
%:%1262=590%:%
%:%1263=591%:%
%:%1264=592%:%
%:%1265=593%:%
%:%1266=593%:%
%:%1267=594%:%
%:%1268=594%:%
%:%1269=594%:%
%:%1270=595%:%
%:%1272=597%:%
%:%1273=598%:%
%:%1274=598%:%
%:%1275=599%:%
%:%1276=599%:%
%:%1277=600%:%
%:%1278=600%:%
%:%1279=600%:%
%:%1280=601%:%
%:%1283=604%:%
%:%1284=605%:%
%:%1285=605%:%
%:%1286=606%:%
%:%1287=606%:%
%:%1288=607%:%
%:%1289=607%:%
%:%1290=607%:%
%:%1291=608%:%
%:%1294=611%:%
%:%1295=612%:%
%:%1296=612%:%
%:%1297=613%:%
%:%1298=613%:%
%:%1299=614%:%
%:%1300=614%:%
%:%1301=614%:%
%:%1302=615%:%
%:%1303=615%:%
%:%1304=616%:%
%:%1305=616%:%
%:%1306=616%:%
%:%1307=617%:%
%:%1308=617%:%
%:%1309=618%:%
%:%1315=618%:%
%:%1318=619%:%
%:%1319=620%:%
%:%1320=620%:%
%:%1321=621%:%
%:%1322=622%:%
%:%1323=623%:%
%:%1324=624%:%
%:%1326=626%:%
%:%1333=627%:%
%:%1334=627%:%
%:%1335=628%:%
%:%1336=628%:%
%:%1337=629%:%
%:%1341=633%:%
%:%1342=634%:%
%:%1343=634%:%
%:%1344=635%:%
%:%1345=635%:%
%:%1346=636%:%
%:%1347=636%:%
%:%1348=637%:%
%:%1349=637%:%
%:%1350=638%:%
%:%1356=638%:%
%:%1359=639%:%
%:%1360=640%:%
%:%1361=640%:%
%:%1362=641%:%
%:%1363=642%:%
%:%1365=644%:%
%:%1368=645%:%
%:%1372=645%:%
%:%1373=645%:%
%:%1374=646%:%
%:%1375=646%:%
%:%1384=648%:%
%:%1386=650%:%
%:%1387=650%:%
%:%1388=651%:%
%:%1389=652%:%
%:%1390=653%:%
%:%1391=654%:%
%:%1392=655%:%
%:%1393=655%:%
%:%1394=656%:%
%:%1400=662%:%
%:%1401=663%:%
%:%1402=664%:%
%:%1403=664%:%
%:%1404=665%:%
%:%1406=667%:%
%:%1408=669%:%
%:%1409=669%:%
%:%1410=670%:%
%:%1411=671%:%
%:%1412=672%:%
%:%1415=673%:%
%:%1419=673%:%
%:%1420=673%:%
%:%1421=674%:%
%:%1422=674%:%
%:%1427=674%:%
%:%1430=675%:%
%:%1431=676%:%
%:%1432=676%:%
%:%1433=677%:%
%:%1436=678%:%
%:%1440=678%:%
%:%1441=678%:%
%:%1442=679%:%
%:%1443=679%:%
%:%1448=679%:%
%:%1451=680%:%
%:%1452=681%:%
%:%1453=681%:%
%:%1454=682%:%
%:%1457=683%:%
%:%1461=683%:%
%:%1462=683%:%
%:%1463=684%:%
%:%1464=684%:%
%:%1469=684%:%
%:%1472=685%:%
%:%1473=686%:%
%:%1474=686%:%
%:%1475=687%:%
%:%1478=688%:%
%:%1482=688%:%
%:%1483=688%:%
%:%1484=689%:%
%:%1485=689%:%
%:%1490=689%:%
%:%1493=690%:%
%:%1494=691%:%
%:%1495=691%:%
%:%1496=692%:%
%:%1499=693%:%
%:%1503=693%:%
%:%1504=693%:%
%:%1505=694%:%
%:%1506=694%:%
%:%1507=695%:%
%:%1508=695%:%
%:%1509=696%:%
%:%1510=697%:%
%:%1511=698%:%
%:%1512=698%:%
%:%1513=699%:%
%:%1514=699%:%
%:%1515=700%:%
%:%1516=700%:%
%:%1517=701%:%
%:%1518=701%:%
%:%1519=702%:%
%:%1520=702%:%
%:%1521=703%:%
%:%1522=703%:%
%:%1523=704%:%
%:%1524=704%:%
%:%1525=705%:%
%:%1526=705%:%
%:%1527=706%:%
%:%1528=706%:%
%:%1529=707%:%
%:%1530=707%:%
%:%1531=708%:%
%:%1532=708%:%
%:%1533=709%:%
%:%1543=711%:%
%:%1545=713%:%
%:%1546=713%:%
%:%1547=714%:%
%:%1548=715%:%
%:%1549=716%:%
%:%1552=717%:%
%:%1556=717%:%
%:%1557=717%:%
%:%1558=718%:%
%:%1559=718%:%
%:%1564=718%:%
%:%1567=719%:%
%:%1568=720%:%
%:%1569=720%:%
%:%1570=721%:%
%:%1571=722%:%
%:%1572=723%:%
%:%1573=724%:%
%:%1576=725%:%
%:%1580=725%:%
%:%1581=725%:%
%:%1582=726%:%
%:%1583=726%:%
%:%1588=726%:%
%:%1591=727%:%
%:%1592=728%:%
%:%1593=728%:%
%:%1594=729%:%
%:%1597=730%:%
%:%1601=730%:%
%:%1602=730%:%
%:%1603=731%:%
%:%1604=731%:%
%:%1613=733%:%
%:%1615=735%:%
%:%1616=735%:%
%:%1617=736%:%
%:%1618=737%:%
%:%1619=738%:%
%:%1622=739%:%
%:%1626=739%:%
%:%1627=739%:%
%:%1628=740%:%
%:%1629=740%:%
%:%1634=740%:%
%:%1637=741%:%
%:%1638=742%:%
%:%1639=742%:%
%:%1640=743%:%
%:%1641=744%:%
%:%1642=745%:%
%:%1645=746%:%
%:%1649=746%:%
%:%1650=746%:%
%:%1651=747%:%
%:%1652=747%:%
%:%1657=747%:%
%:%1660=748%:%
%:%1661=749%:%
%:%1662=749%:%
%:%1663=750%:%
%:%1666=751%:%
%:%1670=751%:%
%:%1671=751%:%
%:%1672=752%:%
%:%1673=752%:%
%:%1682=754%:%
%:%1684=756%:%
%:%1685=756%:%
%:%1686=757%:%
%:%1689=758%:%
%:%1693=758%:%
%:%1694=758%:%
%:%1699=758%:%
%:%1702=759%:%
%:%1703=760%:%
%:%1704=760%:%
%:%1705=761%:%
%:%1708=762%:%
%:%1712=762%:%
%:%1713=762%:%
%:%1714=763%:%
%:%1715=763%:%
%:%1724=765%:%
%:%1726=767%:%
%:%1727=767%:%
%:%1728=768%:%
%:%1729=769%:%
%:%1730=770%:%
%:%1733=771%:%
%:%1737=771%:%
%:%1738=771%:%
%:%1739=772%:%
%:%1740=772%:%
%:%1745=772%:%
%:%1748=773%:%
%:%1749=774%:%
%:%1750=774%:%
%:%1751=775%:%
%:%1752=776%:%
%:%1759=777%:%
%:%1760=777%:%
%:%1761=778%:%
%:%1762=778%:%
%:%1763=779%:%
%:%1764=779%:%
%:%1765=780%:%
%:%1766=780%:%
%:%1767=781%:%
%:%1768=781%:%
%:%1769=782%:%
%:%1770=782%:%
%:%1771=783%:%
%:%1772=783%:%
%:%1773=784%:%
%:%1774=784%:%
%:%1775=785%:%
%:%1776=785%:%
%:%1777=786%:%
%:%1787=788%:%
%:%1789=790%:%
%:%1790=790%:%
%:%1791=791%:%
%:%1792=792%:%
%:%1795=793%:%
%:%1799=793%:%
%:%1800=793%:%
%:%1801=794%:%
%:%1802=794%:%
%:%1807=794%:%
%:%1810=795%:%
%:%1811=796%:%
%:%1812=796%:%
%:%1813=797%:%
%:%1814=798%:%
%:%1816=800%:%
%:%1819=801%:%
%:%1823=801%:%
%:%1824=801%:%
%:%1825=802%:%
%:%1826=802%:%
%:%1831=802%:%
%:%1834=803%:%
%:%1835=804%:%
%:%1836=804%:%
%:%1837=805%:%
%:%1838=806%:%
%:%1845=807%:%
%:%1846=807%:%
%:%1847=808%:%
%:%1848=808%:%
%:%1849=809%:%
%:%1850=809%:%
%:%1851=810%:%
%:%1852=810%:%
%:%1853=811%:%
%:%1854=811%:%
%:%1855=812%:%
%:%1856=812%:%
%:%1857=813%:%
%:%1858=813%:%
%:%1859=814%:%
%:%1860=814%:%
%:%1861=815%:%
%:%1862=815%:%
%:%1863=816%:%
%:%1864=816%:%
%:%1865=817%:%
%:%1866=817%:%
%:%1867=818%:%
%:%1868=818%:%
%:%1869=819%:%
%:%1870=819%:%
%:%1871=820%:%
%:%1872=820%:%
%:%1873=821%:%
%:%1874=821%:%
%:%1875=822%:%
%:%1885=824%:%
%:%1887=826%:%
%:%1888=826%:%
%:%1889=827%:%
%:%1890=828%:%
%:%1897=829%:%
%:%1898=829%:%
%:%1899=830%:%
%:%1900=830%:%
%:%1901=831%:%
%:%1902=831%:%
%:%1903=832%:%
%:%1904=832%:%
%:%1905=833%:%
%:%1906=833%:%
%:%1907=834%:%
%:%1908=834%:%
%:%1909=835%:%
%:%1910=835%:%
%:%1911=836%:%
%:%1912=836%:%
%:%1913=837%:%
%:%1914=837%:%
%:%1915=838%:%
%:%1916=838%:%
%:%1917=839%:%
%:%1918=839%:%
%:%1919=840%:%
%:%1920=840%:%
%:%1921=841%:%
%:%1931=843%:%
%:%1933=845%:%
%:%1934=845%:%
%:%1935=846%:%
%:%1936=847%:%
%:%1937=848%:%
%:%1938=849%:%
%:%1941=850%:%
%:%1945=850%:%
%:%1946=850%:%
%:%1947=851%:%
%:%1948=851%:%
%:%1953=851%:%
%:%1956=852%:%
%:%1957=853%:%
%:%1958=853%:%
%:%1959=854%:%
%:%1960=855%:%
%:%1963=856%:%
%:%1967=856%:%
%:%1968=856%:%
%:%1969=857%:%
%:%1970=857%:%
%:%1975=857%:%
%:%1978=858%:%
%:%1979=859%:%
%:%1980=859%:%
%:%1981=860%:%
%:%1982=861%:%
%:%1983=862%:%
%:%1990=863%:%
%:%1991=863%:%
%:%1992=864%:%
%:%1993=864%:%
%:%1994=865%:%
%:%1995=865%:%
%:%1996=866%:%
%:%1997=866%:%
%:%1998=867%:%
%:%1999=867%:%
%:%2000=868%:%
%:%2001=868%:%
%:%2002=869%:%
%:%2003=869%:%
%:%2004=870%:%
%:%2010=870%:%
%:%2013=871%:%
%:%2014=872%:%
%:%2015=872%:%
%:%2016=873%:%
%:%2017=874%:%
%:%2018=875%:%
%:%2025=876%:%
%:%2026=876%:%
%:%2027=877%:%
%:%2028=877%:%
%:%2029=878%:%
%:%2030=878%:%
%:%2031=879%:%
%:%2032=879%:%
%:%2033=880%:%
%:%2034=880%:%
%:%2035=881%:%
%:%2036=881%:%
%:%2037=882%:%
%:%2038=882%:%
%:%2039=883%:%
%:%2040=883%:%
%:%2041=884%:%
%:%2042=884%:%
%:%2043=885%:%
%:%2044=885%:%
%:%2045=886%:%
%:%2046=886%:%
%:%2047=887%:%
%:%2048=887%:%
%:%2049=888%:%
%:%2050=888%:%
%:%2051=889%:%
%:%2052=889%:%
%:%2053=890%:%
%:%2054=890%:%
%:%2055=891%:%
%:%2056=891%:%
%:%2057=892%:%
%:%2058=892%:%
%:%2059=893%:%
%:%2060=893%:%
%:%2061=894%:%
%:%2071=896%:%
%:%2073=898%:%
%:%2074=898%:%
%:%2075=899%:%
%:%2082=900%:%
%:%2083=900%:%
%:%2084=901%:%
%:%2085=901%:%
%:%2086=902%:%
%:%2087=902%:%
%:%2088=903%:%
%:%2089=903%:%
%:%2090=904%:%
%:%2096=904%:%
%:%2099=905%:%
%:%2100=906%:%
%:%2101=906%:%
%:%2102=907%:%
%:%2103=908%:%
%:%2106=909%:%
%:%2110=909%:%
%:%2111=909%:%
%:%2112=910%:%
%:%2113=910%:%
%:%2118=910%:%
%:%2121=911%:%
%:%2122=912%:%
%:%2123=912%:%
%:%2124=913%:%
%:%2125=914%:%
%:%2128=915%:%
%:%2132=915%:%
%:%2133=915%:%
%:%2134=916%:%
%:%2135=916%:%
%:%2136=917%:%
%:%2137=917%:%
%:%2138=918%:%
%:%2139=918%:%
%:%2140=919%:%
%:%2141=919%:%
%:%2142=920%:%
%:%2143=920%:%
%:%2144=921%:%
%:%2145=921%:%
%:%2146=922%:%
%:%2147=923%:%
%:%2148=924%:%
%:%2149=924%:%
%:%2150=925%:%
%:%2151=925%:%
%:%2152=926%:%
%:%2153=926%:%
%:%2154=927%:%
%:%2155=928%:%
%:%2156=929%:%
%:%2157=929%:%
%:%2158=930%:%
%:%2159=930%:%
%:%2160=931%:%
%:%2161=931%:%
%:%2162=932%:%
%:%2163=932%:%
%:%2164=933%:%
%:%2165=933%:%
%:%2166=934%:%
%:%2167=934%:%
%:%2168=935%:%
%:%2169=935%:%
%:%2170=935%:%
%:%2171=936%:%
%:%2172=937%:%
%:%2173=938%:%
%:%2174=938%:%
%:%2175=939%:%
%:%2176=939%:%
%:%2177=940%:%
%:%2178=940%:%
%:%2179=940%:%
%:%2180=941%:%
%:%2181=941%:%
%:%2182=942%:%
%:%2183=942%:%
%:%2184=943%:%
%:%2185=943%:%
%:%2186=943%:%
%:%2187=944%:%
%:%2188=945%:%
%:%2189=946%:%
%:%2190=946%:%
%:%2191=947%:%
%:%2192=947%:%
%:%2193=948%:%
%:%2194=948%:%
%:%2195=949%:%
%:%2196=949%:%
%:%2197=950%:%
%:%2198=950%:%
%:%2199=951%:%
%:%2200=951%:%
%:%2201=952%:%
%:%2207=952%:%
%:%2210=953%:%
%:%2211=954%:%
%:%2212=954%:%
%:%2213=955%:%
%:%2214=956%:%
%:%2221=957%:%
%:%2222=957%:%
%:%2223=958%:%
%:%2224=958%:%
%:%2225=959%:%
%:%2226=959%:%
%:%2227=960%:%
%:%2228=960%:%
%:%2229=961%:%
%:%2230=961%:%
%:%2231=962%:%
%:%2232=962%:%
%:%2233=963%:%
%:%2234=963%:%
%:%2235=964%:%
%:%2236=964%:%
%:%2237=965%:%
%:%2238=965%:%
%:%2239=966%:%
%:%2240=966%:%
%:%2241=967%:%
%:%2242=967%:%
%:%2243=968%:%
%:%2244=968%:%
%:%2245=969%:%
%:%2251=969%:%
%:%2254=970%:%
%:%2255=971%:%
%:%2256=971%:%
%:%2257=972%:%
%:%2258=973%:%
%:%2259=974%:%
%:%2260=975%:%
%:%2267=976%:%
%:%2268=976%:%
%:%2269=977%:%
%:%2270=977%:%
%:%2271=978%:%
%:%2272=978%:%
%:%2273=979%:%
%:%2274=979%:%
%:%2275=980%:%
%:%2276=980%:%
%:%2277=981%:%
%:%2278=981%:%
%:%2279=982%:%
%:%2280=982%:%
%:%2281=983%:%
%:%2282=983%:%
%:%2283=984%:%
%:%2284=984%:%
%:%2285=985%:%
%:%2286=985%:%
%:%2287=986%:%
%:%2288=986%:%
%:%2289=987%:%
%:%2290=988%:%
%:%2291=988%:%
%:%2292=989%:%
%:%2293=989%:%
%:%2294=990%:%
%:%2295=990%:%
%:%2296=991%:%
%:%2297=991%:%
%:%2298=991%:%
%:%2299=992%:%
%:%2300=992%:%
%:%2301=993%:%
%:%2302=993%:%
%:%2303=994%:%
%:%2304=994%:%
%:%2305=994%:%
%:%2306=995%:%
%:%2307=995%:%
%:%2308=996%:%
%:%2309=996%:%
%:%2310=997%:%
%:%2311=997%:%
%:%2312=997%:%
%:%2313=998%:%
%:%2314=998%:%
%:%2315=999%:%
%:%2316=999%:%
%:%2317=1000%:%
%:%2318=1000%:%
%:%2319=1000%:%
%:%2320=1001%:%
%:%2321=1001%:%
%:%2322=1002%:%
%:%2328=1002%:%
%:%2331=1003%:%
%:%2332=1004%:%
%:%2333=1004%:%
%:%2334=1005%:%
%:%2335=1006%:%
%:%2336=1007%:%
%:%2343=1008%:%
%:%2344=1008%:%
%:%2345=1009%:%
%:%2346=1009%:%
%:%2347=1010%:%
%:%2348=1010%:%
%:%2349=1011%:%
%:%2350=1011%:%
%:%2351=1012%:%
%:%2352=1012%:%
%:%2353=1013%:%
%:%2354=1013%:%
%:%2355=1014%:%
%:%2356=1014%:%
%:%2357=1015%:%
%:%2358=1015%:%
%:%2359=1015%:%
%:%2360=1016%:%
%:%2361=1016%:%
%:%2362=1017%:%
%:%2363=1017%:%
%:%2364=1018%:%
%:%2365=1018%:%
%:%2366=1018%:%
%:%2367=1019%:%
%:%2368=1019%:%
%:%2369=1020%:%
%:%2370=1020%:%
%:%2371=1021%:%
%:%2372=1021%:%
%:%2373=1021%:%
%:%2374=1022%:%
%:%2375=1022%:%
%:%2376=1023%:%
%:%2377=1023%:%
%:%2378=1024%:%
%:%2379=1024%:%
%:%2380=1024%:%
%:%2381=1025%:%
%:%2382=1025%:%
%:%2383=1026%:%
%:%2389=1026%:%
%:%2392=1027%:%
%:%2393=1028%:%
%:%2394=1028%:%
%:%2395=1029%:%
%:%2402=1030%:%
%:%2403=1030%:%
%:%2404=1031%:%
%:%2405=1031%:%
%:%2406=1032%:%
%:%2407=1032%:%
%:%2408=1033%:%
%:%2409=1033%:%
%:%2410=1034%:%
%:%2411=1034%:%
%:%2412=1035%:%
%:%2413=1035%:%
%:%2414=1036%:%
%:%2415=1036%:%
%:%2416=1037%:%
%:%2417=1037%:%
%:%2418=1037%:%
%:%2419=1038%:%
%:%2420=1038%:%
%:%2421=1039%:%
%:%2422=1039%:%
%:%2423=1039%:%
%:%2424=1040%:%
%:%2426=1042%:%
%:%2427=1043%:%
%:%2428=1043%:%
%:%2429=1044%:%
%:%2430=1044%:%
%:%2431=1044%:%
%:%2432=1045%:%
%:%2433=1045%:%
%:%2434=1046%:%
%:%2444=1048%:%
%:%2446=1050%:%
%:%2447=1050%:%
%:%2448=1051%:%
%:%2449=1052%:%
%:%2456=1053%:%
%:%2457=1053%:%
%:%2458=1054%:%
%:%2459=1054%:%
%:%2460=1055%:%
%:%2461=1055%:%
%:%2462=1056%:%
%:%2463=1056%:%
%:%2464=1057%:%
%:%2465=1057%:%
%:%2466=1058%:%
%:%2467=1059%:%
%:%2468=1059%:%
%:%2469=1060%:%
%:%2470=1060%:%
%:%2471=1061%:%
%:%2472=1061%:%
%:%2473=1062%:%
%:%2474=1062%:%
%:%2475=1063%:%
%:%2476=1063%:%
%:%2477=1064%:%
%:%2478=1064%:%
%:%2479=1065%:%
%:%2480=1065%:%
%:%2481=1066%:%
%:%2482=1066%:%
%:%2483=1067%:%
%:%2484=1067%:%
%:%2485=1068%:%
%:%2486=1068%:%
%:%2487=1068%:%
%:%2488=1069%:%
%:%2489=1069%:%
%:%2490=1070%:%
%:%2491=1070%:%
%:%2492=1071%:%
%:%2493=1071%:%
%:%2494=1071%:%
%:%2495=1072%:%
%:%2496=1072%:%
%:%2497=1073%:%
%:%2498=1073%:%
%:%2499=1074%:%
%:%2500=1074%:%
%:%2501=1074%:%
%:%2502=1075%:%
%:%2503=1075%:%
%:%2504=1076%:%
%:%2505=1076%:%
%:%2506=1077%:%
%:%2507=1077%:%
%:%2508=1078%:%
%:%2509=1078%:%
%:%2510=1079%:%
%:%2511=1080%:%
%:%2512=1081%:%
%:%2513=1081%:%
%:%2514=1082%:%
%:%2515=1082%:%
%:%2516=1083%:%
%:%2517=1083%:%
%:%2518=1084%:%
%:%2519=1084%:%
%:%2520=1085%:%
%:%2526=1085%:%
%:%2529=1086%:%
%:%2530=1087%:%
%:%2531=1087%:%
%:%2532=1088%:%
%:%2533=1089%:%
%:%2540=1090%:%
%:%2541=1090%:%
%:%2542=1091%:%
%:%2543=1091%:%
%:%2544=1092%:%
%:%2545=1092%:%
%:%2546=1093%:%
%:%2547=1093%:%
%:%2548=1094%:%
%:%2549=1094%:%
%:%2550=1095%:%
%:%2551=1095%:%
%:%2552=1096%:%
%:%2553=1096%:%
%:%2554=1097%:%
%:%2555=1097%:%
%:%2556=1098%:%
%:%2557=1098%:%
%:%2558=1099%:%
%:%2559=1099%:%
%:%2560=1099%:%
%:%2561=1100%:%
%:%2562=1100%:%
%:%2563=1101%:%
%:%2564=1101%:%
%:%2565=1102%:%
%:%2566=1102%:%
%:%2567=1102%:%
%:%2568=1103%:%
%:%2569=1103%:%
%:%2570=1104%:%
%:%2571=1104%:%
%:%2572=1105%:%
%:%2578=1105%:%
%:%2581=1106%:%
%:%2582=1107%:%
%:%2583=1107%:%
%:%2584=1108%:%
%:%2585=1109%:%
%:%2592=1110%:%
%:%2593=1110%:%
%:%2594=1111%:%
%:%2595=1111%:%
%:%2596=1112%:%
%:%2597=1112%:%
%:%2598=1113%:%
%:%2599=1113%:%
%:%2600=1114%:%
%:%2601=1114%:%
%:%2602=1115%:%
%:%2603=1115%:%
%:%2604=1116%:%
%:%2605=1117%:%
%:%2606=1118%:%
%:%2607=1118%:%
%:%2608=1119%:%
%:%2609=1119%:%
%:%2610=1119%:%
%:%2611=1120%:%
%:%2612=1120%:%
%:%2613=1121%:%
%:%2614=1121%:%
%:%2615=1122%:%
%:%2616=1122%:%
%:%2617=1122%:%
%:%2618=1123%:%
%:%2619=1124%:%
%:%2620=1125%:%
%:%2621=1125%:%
%:%2622=1126%:%
%:%2623=1126%:%
%:%2624=1127%:%
%:%2625=1128%:%
%:%2626=1128%:%
%:%2627=1129%:%
%:%2628=1129%:%
%:%2629=1130%:%
%:%2630=1130%:%
%:%2631=1131%:%
%:%2632=1131%:%
%:%2633=1131%:%
%:%2634=1132%:%
%:%2635=1132%:%
%:%2636=1133%:%
%:%2637=1133%:%
%:%2638=1133%:%
%:%2639=1134%:%
%:%2640=1134%:%
%:%2641=1135%:%
%:%2642=1135%:%
%:%2643=1136%:%
%:%2644=1136%:%
%:%2645=1136%:%
%:%2646=1137%:%
%:%2647=1137%:%
%:%2648=1138%:%
%:%2649=1138%:%
%:%2650=1139%:%
%:%2651=1139%:%
%:%2652=1139%:%
%:%2653=1140%:%
%:%2654=1140%:%
%:%2655=1141%:%
%:%2656=1141%:%
%:%2657=1142%:%
%:%2658=1142%:%
%:%2659=1143%:%
%:%2660=1143%:%
%:%2661=1144%:%
%:%2662=1144%:%
%:%2663=1145%:%
%:%2664=1145%:%
%:%2665=1146%:%
%:%2666=1146%:%
%:%2667=1147%:%
%:%2668=1147%:%
%:%2669=1148%:%
%:%2670=1148%:%
%:%2671=1149%:%
%:%2672=1149%:%
%:%2673=1150%:%
%:%2674=1150%:%
%:%2675=1151%:%
%:%2676=1151%:%
%:%2677=1152%:%
%:%2678=1153%:%
%:%2679=1153%:%
%:%2680=1154%:%
%:%2681=1154%:%
%:%2682=1155%:%
%:%2683=1155%:%
%:%2684=1156%:%
%:%2685=1156%:%
%:%2686=1156%:%
%:%2687=1157%:%
%:%2688=1157%:%
%:%2689=1158%:%
%:%2690=1158%:%
%:%2691=1159%:%
%:%2692=1159%:%
%:%2693=1159%:%
%:%2694=1160%:%
%:%2695=1160%:%
%:%2696=1161%:%
%:%2697=1161%:%
%:%2698=1162%:%
%:%2699=1162%:%
%:%2700=1162%:%
%:%2701=1163%:%
%:%2702=1163%:%
%:%2703=1164%:%
%:%2709=1164%:%
%:%2712=1165%:%
%:%2713=1166%:%
%:%2714=1166%:%
%:%2715=1167%:%
%:%2716=1168%:%
%:%2723=1169%:%
%:%2724=1169%:%
%:%2725=1170%:%
%:%2726=1170%:%
%:%2727=1171%:%
%:%2728=1171%:%
%:%2729=1172%:%
%:%2730=1172%:%
%:%2731=1173%:%
%:%2732=1173%:%
%:%2733=1173%:%
%:%2734=1174%:%
%:%2735=1174%:%
%:%2736=1175%:%
%:%2737=1175%:%
%:%2738=1176%:%
%:%2739=1176%:%
%:%2740=1176%:%
%:%2741=1177%:%
%:%2742=1177%:%
%:%2743=1178%:%
%:%2753=1180%:%
%:%2755=1182%:%
%:%2756=1182%:%
%:%2757=1183%:%
%:%2758=1184%:%
%:%2759=1185%:%
%:%2760=1186%:%
%:%2761=1187%:%
%:%2762=1188%:%
%:%2765=1189%:%
%:%2769=1189%:%
%:%2770=1189%:%
%:%2771=1190%:%
%:%2772=1190%:%
%:%2773=1191%:%
%:%2774=1191%:%
%:%2775=1192%:%
%:%2776=1192%:%
%:%2777=1193%:%
%:%2778=1193%:%
%:%2779=1194%:%
%:%2780=1194%:%
%:%2781=1195%:%
%:%2782=1195%:%
%:%2783=1196%:%
%:%2784=1196%:%
%:%2785=1197%:%
%:%2786=1197%:%
%:%2787=1198%:%
%:%2788=1198%:%
%:%2789=1199%:%
%:%2790=1199%:%
%:%2791=1200%:%
%:%2792=1200%:%
%:%2793=1201%:%
%:%2794=1201%:%
%:%2795=1202%:%
%:%2796=1202%:%
%:%2797=1203%:%
%:%2798=1203%:%
%:%2799=1204%:%
%:%2800=1204%:%
%:%2801=1205%:%
%:%2802=1205%:%
%:%2803=1206%:%
%:%2804=1206%:%
%:%2805=1207%:%
%:%2806=1207%:%
%:%2807=1208%:%
%:%2808=1208%:%
%:%2809=1209%:%
%:%2810=1209%:%
%:%2811=1210%:%
%:%2812=1210%:%
%:%2813=1211%:%
%:%2814=1211%:%
%:%2815=1212%:%
%:%2816=1212%:%
%:%2817=1213%:%
%:%2818=1213%:%
%:%2819=1214%:%
%:%2820=1214%:%
%:%2821=1215%:%
%:%2822=1215%:%
%:%2823=1216%:%
%:%2824=1216%:%
%:%2825=1217%:%
%:%2826=1217%:%
%:%2827=1218%:%
%:%2828=1218%:%
%:%2829=1219%:%
%:%2830=1219%:%
%:%2831=1220%:%
%:%2832=1220%:%
%:%2833=1221%:%
%:%2834=1221%:%
%:%2835=1222%:%
%:%2836=1222%:%
%:%2837=1223%:%
%:%2838=1223%:%
%:%2839=1224%:%
%:%2845=1224%:%
%:%2848=1225%:%
%:%2849=1226%:%
%:%2850=1226%:%
%:%2851=1227%:%
%:%2852=1228%:%
%:%2853=1229%:%
%:%2854=1230%:%
%:%2855=1231%:%
%:%2862=1232%:%
%:%2863=1232%:%
%:%2864=1233%:%
%:%2865=1233%:%
%:%2866=1234%:%
%:%2867=1234%:%
%:%2868=1235%:%
%:%2869=1235%:%
%:%2870=1236%:%
%:%2871=1236%:%
%:%2872=1237%:%
%:%2873=1237%:%
%:%2874=1238%:%
%:%2875=1238%:%
%:%2876=1239%:%
%:%2882=1239%:%
%:%2885=1240%:%
%:%2886=1241%:%
%:%2887=1241%:%
%:%2888=1242%:%
%:%2889=1243%:%
%:%2890=1244%:%
%:%2897=1245%:%
%:%2898=1245%:%
%:%2899=1246%:%
%:%2900=1246%:%
%:%2901=1247%:%
%:%2902=1247%:%
%:%2903=1248%:%
%:%2904=1248%:%
%:%2905=1249%:%
%:%2906=1249%:%
%:%2907=1250%:%
%:%2908=1250%:%
%:%2909=1251%:%
%:%2910=1251%:%
%:%2911=1252%:%
%:%2917=1252%:%
%:%2920=1253%:%
%:%2921=1254%:%
%:%2922=1254%:%
%:%2923=1255%:%
%:%2924=1256%:%
%:%2925=1257%:%
%:%2928=1258%:%
%:%2932=1258%:%
%:%2933=1258%:%
%:%2934=1259%:%
%:%2935=1259%:%
%:%2940=1259%:%
%:%2943=1260%:%
%:%2944=1261%:%
%:%2945=1261%:%
%:%2946=1262%:%
%:%2947=1263%:%
%:%2948=1264%:%
%:%2949=1265%:%
%:%2950=1265%:%
%:%2951=1266%:%
%:%2952=1267%:%
%:%2953=1268%:%
%:%2954=1269%:%
%:%2961=1270%:%
%:%2962=1270%:%
%:%2963=1271%:%
%:%2964=1271%:%
%:%2965=1272%:%
%:%2966=1273%:%
%:%2967=1274%:%
%:%2968=1275%:%
%:%2969=1276%:%
%:%2970=1277%:%
%:%2971=1277%:%
%:%2972=1278%:%
%:%2973=1278%:%
%:%2974=1279%:%
%:%2975=1279%:%
%:%2976=1280%:%
%:%2977=1280%:%
%:%2978=1281%:%
%:%2979=1281%:%
%:%2980=1282%:%
%:%2981=1282%:%
%:%2982=1283%:%
%:%2983=1283%:%
%:%2984=1284%:%
%:%2985=1284%:%
%:%2986=1284%:%
%:%2987=1285%:%
%:%2988=1285%:%
%:%2989=1286%:%
%:%2990=1286%:%
%:%2991=1287%:%
%:%2992=1287%:%
%:%2993=1287%:%
%:%2994=1288%:%
%:%2995=1288%:%
%:%2996=1289%:%
%:%2997=1289%:%
%:%2998=1290%:%
%:%2999=1290%:%
%:%3000=1291%:%
%:%3001=1291%:%
%:%3002=1292%:%
%:%3003=1292%:%
%:%3004=1293%:%
%:%3005=1293%:%
%:%3006=1294%:%
%:%3007=1294%:%
%:%3008=1295%:%
%:%3009=1295%:%
%:%3010=1296%:%
%:%3011=1296%:%
%:%3012=1297%:%
%:%3013=1297%:%
%:%3014=1297%:%
%:%3015=1298%:%
%:%3016=1298%:%
%:%3017=1299%:%
%:%3018=1299%:%
%:%3019=1300%:%
%:%3020=1300%:%
%:%3021=1300%:%
%:%3022=1301%:%
%:%3023=1301%:%
%:%3024=1302%:%
%:%3025=1302%:%
%:%3026=1303%:%
%:%3027=1303%:%
%:%3028=1303%:%
%:%3029=1304%:%
%:%3030=1304%:%
%:%3031=1305%:%
%:%3032=1305%:%
%:%3033=1306%:%
%:%3034=1306%:%
%:%3035=1306%:%
%:%3036=1307%:%
%:%3037=1307%:%
%:%3038=1308%:%
%:%3039=1308%:%
%:%3040=1309%:%
%:%3041=1309%:%
%:%3042=1309%:%
%:%3043=1310%:%
%:%3044=1310%:%
%:%3045=1311%:%
%:%3046=1311%:%
%:%3047=1312%:%
%:%3048=1312%:%
%:%3049=1313%:%
%:%3050=1313%:%
%:%3051=1314%:%
%:%3052=1314%:%
%:%3053=1315%:%
%:%3054=1315%:%
%:%3055=1316%:%
%:%3056=1316%:%
%:%3057=1316%:%
%:%3058=1317%:%
%:%3059=1317%:%
%:%3060=1318%:%
%:%3061=1318%:%
%:%3062=1319%:%
%:%3063=1319%:%
%:%3064=1319%:%
%:%3065=1320%:%
%:%3066=1320%:%
%:%3067=1321%:%
%:%3068=1321%:%
%:%3069=1322%:%
%:%3070=1322%:%
%:%3071=1322%:%
%:%3072=1323%:%
%:%3073=1323%:%
%:%3074=1324%:%
%:%3075=1324%:%
%:%3076=1325%:%
%:%3077=1325%:%
%:%3078=1325%:%
%:%3079=1326%:%
%:%3080=1326%:%
%:%3081=1327%:%
%:%3082=1327%:%
%:%3083=1328%:%
%:%3084=1328%:%
%:%3085=1328%:%
%:%3086=1329%:%
%:%3087=1329%:%
%:%3088=1330%:%
%:%3089=1330%:%
%:%3090=1331%:%
%:%3091=1331%:%
%:%3092=1332%:%
%:%3093=1332%:%
%:%3094=1332%:%
%:%3095=1333%:%
%:%3096=1334%:%
%:%3097=1335%:%
%:%3098=1335%:%
%:%3099=1336%:%
%:%3100=1336%:%
%:%3101=1337%:%
%:%3102=1337%:%
%:%3103=1337%:%
%:%3104=1338%:%
%:%3105=1339%:%
%:%3106=1340%:%
%:%3107=1341%:%
%:%3108=1341%:%
%:%3109=1342%:%
%:%3110=1342%:%
%:%3111=1343%:%
%:%3112=1343%:%
%:%3113=1344%:%
%:%3114=1344%:%
%:%3115=1345%:%
%:%3116=1346%:%
%:%3117=1346%:%
%:%3118=1347%:%
%:%3119=1347%:%
%:%3120=1348%:%
%:%3121=1348%:%
%:%3122=1349%:%
%:%3123=1349%:%
%:%3124=1349%:%
%:%3125=1350%:%
%:%3126=1350%:%
%:%3127=1351%:%
%:%3128=1351%:%
%:%3129=1352%:%
%:%3130=1352%:%
%:%3131=1352%:%
%:%3132=1353%:%
%:%3133=1353%:%
%:%3134=1354%:%
%:%3135=1354%:%
%:%3136=1355%:%
%:%3137=1355%:%
%:%3138=1355%:%
%:%3139=1356%:%
%:%3140=1356%:%
%:%3141=1357%:%
%:%3142=1357%:%
%:%3143=1358%:%
%:%3144=1358%:%
%:%3145=1358%:%
%:%3146=1359%:%
%:%3147=1359%:%
%:%3148=1360%:%
%:%3149=1360%:%
%:%3150=1361%:%
%:%3151=1361%:%
%:%3152=1361%:%
%:%3153=1362%:%
%:%3154=1362%:%
%:%3155=1363%:%
%:%3156=1363%:%
%:%3157=1364%:%
%:%3158=1364%:%
%:%3159=1364%:%
%:%3160=1365%:%
%:%3161=1365%:%
%:%3162=1366%:%
%:%3163=1366%:%
%:%3164=1367%:%
%:%3165=1367%:%
%:%3166=1368%:%
%:%3167=1368%:%
%:%3168=1369%:%
%:%3169=1369%:%
%:%3170=1370%:%
%:%3171=1370%:%
%:%3172=1370%:%
%:%3173=1371%:%
%:%3174=1371%:%
%:%3175=1372%:%
%:%3176=1372%:%
%:%3177=1373%:%
%:%3178=1373%:%
%:%3179=1373%:%
%:%3180=1374%:%
%:%3181=1374%:%
%:%3182=1375%:%
%:%3183=1375%:%
%:%3184=1376%:%
%:%3185=1376%:%
%:%3186=1376%:%
%:%3187=1377%:%
%:%3188=1377%:%
%:%3189=1378%:%
%:%3190=1378%:%
%:%3191=1379%:%
%:%3197=1379%:%
%:%3200=1380%:%
%:%3201=1381%:%
%:%3202=1381%:%
%:%3203=1382%:%
%:%3210=1383%:%
%:%3211=1383%:%
%:%3212=1384%:%
%:%3213=1384%:%
%:%3214=1385%:%
%:%3215=1385%:%
%:%3216=1385%:%
%:%3217=1385%:%
%:%3218=1386%:%
%:%3219=1386%:%
%:%3220=1387%:%
%:%3221=1387%:%
%:%3222=1388%:%
%:%3223=1388%:%
%:%3224=1388%:%
%:%3225=1388%:%
%:%3226=1389%:%
%:%3227=1389%:%
%:%3228=1390%:%
%:%3229=1390%:%
%:%3230=1391%:%
%:%3231=1391%:%
%:%3232=1391%:%
%:%3233=1391%:%
%:%3234=1392%:%
%:%3235=1392%:%
%:%3236=1393%:%
%:%3237=1393%:%
%:%3238=1394%:%
%:%3239=1394%:%
%:%3240=1394%:%
%:%3241=1394%:%
%:%3242=1395%:%
%:%3243=1395%:%
%:%3244=1396%:%
%:%3245=1396%:%
%:%3246=1397%:%
%:%3247=1397%:%
%:%3248=1397%:%
%:%3249=1398%:%
%:%3250=1398%:%
%:%3251=1399%:%
%:%3252=1399%:%
%:%3253=1400%:%
%:%3254=1400%:%
%:%3255=1400%:%
%:%3256=1401%:%
%:%3257=1401%:%
%:%3258=1402%:%
%:%3259=1402%:%
%:%3260=1403%:%
%:%3261=1403%:%
%:%3262=1403%:%
%:%3263=1404%:%
%:%3264=1404%:%
%:%3265=1405%:%
%:%3266=1405%:%
%:%3267=1406%:%
%:%3268=1406%:%
%:%3269=1406%:%
%:%3270=1407%:%
%:%3271=1407%:%
%:%3272=1408%:%
%:%3273=1408%:%
%:%3274=1409%:%
%:%3275=1409%:%
%:%3276=1409%:%
%:%3277=1409%:%
%:%3278=1410%:%
%:%3279=1410%:%
%:%3280=1411%:%
%:%3281=1411%:%
%:%3282=1412%:%
%:%3283=1412%:%
%:%3284=1412%:%
%:%3285=1413%:%
%:%3286=1413%:%
%:%3287=1414%:%
%:%3288=1414%:%
%:%3289=1415%:%
%:%3290=1415%:%
%:%3291=1415%:%
%:%3292=1416%:%
%:%3321=1427%:%
%:%3322=1427%:%
%:%3323=1428%:%
%:%3324=1429%:%
%:%3325=1430%:%
%:%3326=1431%:%
%:%3329=1432%:%
%:%3333=1432%:%
%:%3334=1432%:%
%:%3335=1433%:%
%:%3336=1433%:%
%:%3350=1435%:%
%:%3412=1482%:%
%:%3413=1482%:%
%:%3414=1483%:%
%:%3415=1484%:%
%:%3416=1485%:%
%:%3417=1486%:%
%:%3418=1487%:%
%:%3419=1488%:%
%:%3426=1489%:%
%:%3427=1489%:%
%:%3428=1490%:%
%:%3429=1490%:%
%:%3430=1491%:%
%:%3431=1491%:%
%:%3432=1492%:%
%:%3433=1492%:%
%:%3434=1493%:%
%:%3435=1493%:%
%:%3436=1494%:%
%:%3437=1494%:%
%:%3438=1495%:%
%:%3439=1495%:%
%:%3440=1496%:%
%:%3441=1496%:%
%:%3442=1497%:%
%:%3443=1497%:%
%:%3444=1498%:%
%:%3445=1498%:%
%:%3446=1499%:%
%:%3447=1499%:%
%:%3448=1500%:%
%:%3449=1500%:%
%:%3450=1501%:%
%:%3451=1501%:%
%:%3452=1502%:%
%:%3453=1502%:%
%:%3454=1503%:%
%:%3455=1503%:%
%:%3456=1504%:%
%:%3457=1504%:%
%:%3458=1505%:%
%:%3459=1505%:%
%:%3460=1506%:%
%:%3461=1506%:%
%:%3462=1507%:%
%:%3463=1507%:%
%:%3464=1508%:%
%:%3465=1508%:%
%:%3466=1509%:%
%:%3467=1509%:%
%:%3468=1510%:%
%:%3497=1520%:%
%:%3498=1520%:%
%:%3499=1521%:%
%:%3500=1522%:%
%:%3501=1523%:%
%:%3502=1524%:%
%:%3503=1525%:%
%:%3510=1526%:%
%:%3511=1526%:%
%:%3512=1527%:%
%:%3513=1527%:%
%:%3514=1528%:%
%:%3515=1528%:%
%:%3516=1529%:%
%:%3517=1529%:%
%:%3518=1530%:%
%:%3519=1530%:%
%:%3520=1531%:%
%:%3521=1531%:%
%:%3522=1532%:%
%:%3523=1532%:%
%:%3524=1533%:%
%:%3525=1533%:%
%:%3526=1534%:%
%:%3527=1534%:%
%:%3528=1535%:%
%:%3529=1535%:%
%:%3530=1536%:%
%:%3531=1536%:%
%:%3532=1537%:%
%:%3533=1537%:%
%:%3534=1538%:%
%:%3535=1538%:%
%:%3536=1539%:%
%:%3537=1539%:%
%:%3538=1540%:%
%:%3539=1540%:%
%:%3540=1541%:%
%:%3541=1541%:%
%:%3542=1542%:%
%:%3543=1542%:%
%:%3544=1543%:%
%:%3545=1543%:%
%:%3546=1544%:%
%:%3547=1544%:%
%:%3548=1545%:%
%:%3549=1545%:%
%:%3550=1546%:%
%:%3551=1546%:%
%:%3552=1547%:%
%:%3558=1547%:%
%:%3561=1548%:%
%:%3562=1549%:%
%:%3563=1549%:%
%:%3564=1550%:%
%:%3565=1551%:%
%:%3566=1552%:%
%:%3567=1553%:%
%:%3570=1554%:%
%:%3574=1554%:%
%:%3575=1554%:%
%:%3576=1555%:%
%:%3577=1555%:%
%:%3582=1555%:%
%:%3585=1556%:%
%:%3586=1557%:%
%:%3587=1557%:%
%:%3588=1558%:%
%:%3589=1559%:%
%:%3590=1560%:%
%:%3591=1561%:%
%:%3595=1565%:%
%:%3602=1566%:%
%:%3603=1566%:%
%:%3604=1567%:%
%:%3605=1567%:%
%:%3606=1568%:%
%:%3607=1568%:%
%:%3608=1569%:%
%:%3609=1569%:%
%:%3610=1570%:%
%:%3611=1570%:%
%:%3612=1571%:%
%:%3613=1571%:%
%:%3614=1572%:%
%:%3615=1572%:%
%:%3616=1573%:%
%:%3617=1573%:%
%:%3618=1574%:%
%:%3619=1574%:%
%:%3620=1575%:%
%:%3621=1575%:%
%:%3622=1576%:%
%:%3623=1576%:%
%:%3624=1577%:%
%:%3625=1577%:%
%:%3626=1578%:%
%:%3627=1578%:%
%:%3628=1578%:%
%:%3629=1579%:%
%:%3630=1580%:%
%:%3631=1580%:%
%:%3632=1581%:%
%:%3633=1581%:%
%:%3634=1581%:%
%:%3635=1582%:%
%:%3636=1582%:%
%:%3637=1583%:%
%:%3638=1583%:%
%:%3639=1583%:%
%:%3640=1584%:%
%:%3641=1584%:%
%:%3642=1585%:%
%:%3643=1585%:%
%:%3644=1586%:%
%:%3645=1586%:%
%:%3646=1587%:%
%:%3647=1587%:%
%:%3648=1588%:%
%:%3649=1588%:%
%:%3650=1588%:%
%:%3651=1589%:%
%:%3652=1590%:%
%:%3653=1590%:%
%:%3654=1591%:%
%:%3655=1591%:%
%:%3656=1592%:%
%:%3657=1592%:%
%:%3658=1592%:%
%:%3659=1593%:%
%:%3660=1593%:%
%:%3661=1594%:%
%:%3662=1594%:%
%:%3663=1595%:%
%:%3664=1595%:%
%:%3665=1595%:%
%:%3666=1596%:%
%:%3667=1596%:%
%:%3668=1597%:%
%:%3669=1597%:%
%:%3670=1598%:%
%:%3671=1598%:%
%:%3672=1599%:%
%:%3673=1599%:%
%:%3674=1600%:%
%:%3693=1608%:%
%:%3703=1610%:%
%:%3704=1610%:%
%:%3705=1611%:%
%:%3706=1612%:%
%:%3707=1613%:%
%:%3708=1614%:%
%:%3709=1615%:%
%:%3711=1617%:%
%:%3718=1618%:%
%:%3719=1618%:%
%:%3720=1619%:%
%:%3721=1619%:%
%:%3722=1620%:%
%:%3723=1620%:%
%:%3724=1621%:%
%:%3725=1621%:%
%:%3726=1622%:%
%:%3727=1622%:%
%:%3728=1623%:%
%:%3729=1623%:%
%:%3730=1623%:%
%:%3731=1624%:%
%:%3732=1624%:%
%:%3733=1625%:%
%:%3734=1625%:%
%:%3735=1626%:%
%:%3736=1626%:%
%:%3737=1626%:%
%:%3738=1627%:%
%:%3739=1627%:%
%:%3740=1628%:%
%:%3741=1628%:%
%:%3742=1628%:%
%:%3743=1629%:%
%:%3744=1629%:%
%:%3745=1630%:%
%:%3746=1630%:%
%:%3747=1630%:%
%:%3748=1631%:%
%:%3749=1631%:%
%:%3750=1632%:%
%:%3756=1632%:%
%:%3759=1633%:%
%:%3760=1634%:%
%:%3761=1634%:%
%:%3762=1635%:%
%:%3763=1636%:%
%:%3764=1637%:%
%:%3765=1638%:%
%:%3766=1639%:%
%:%3767=1640%:%
%:%3772=1645%:%
%:%3779=1646%:%
%:%3780=1646%:%
%:%3781=1647%:%
%:%3782=1647%:%
%:%3783=1648%:%
%:%3784=1648%:%
%:%3785=1649%:%
%:%3786=1649%:%
%:%3787=1650%:%
%:%3788=1650%:%
%:%3789=1651%:%
%:%3790=1651%:%
%:%3791=1652%:%
%:%3792=1652%:%
%:%3793=1653%:%
%:%3794=1653%:%
%:%3795=1653%:%
%:%3796=1654%:%
%:%3797=1654%:%
%:%3798=1655%:%
%:%3799=1655%:%
%:%3800=1656%:%
%:%3801=1656%:%
%:%3802=1656%:%
%:%3803=1657%:%
%:%3804=1657%:%
%:%3805=1658%:%
%:%3811=1658%:%
%:%3814=1659%:%
%:%3815=1660%:%
%:%3816=1660%:%
%:%3817=1661%:%
%:%3818=1662%:%
%:%3819=1663%:%
%:%3820=1664%:%
%:%3821=1665%:%
%:%3822=1666%:%
%:%3825=1667%:%
%:%3829=1667%:%
%:%3830=1667%:%
%:%3831=1668%:%
%:%3832=1668%:%
%:%3833=1669%:%
%:%3834=1670%:%
%:%3835=1671%:%
%:%3836=1671%:%
%:%3837=1672%:%
%:%3838=1672%:%
%:%3839=1673%:%
%:%3840=1673%:%
%:%3841=1674%:%
%:%3842=1674%:%
%:%3843=1675%:%
%:%3844=1675%:%
%:%3845=1676%:%
%:%3846=1676%:%
%:%3847=1677%:%
%:%3848=1677%:%
%:%3849=1678%:%
%:%3850=1678%:%
%:%3851=1679%:%
%:%3852=1679%:%
%:%3853=1680%:%
%:%3854=1680%:%
%:%3855=1681%:%
%:%3856=1681%:%
%:%3857=1682%:%
%:%3858=1683%:%
%:%3859=1683%:%
%:%3860=1684%:%
%:%3861=1684%:%
%:%3862=1685%:%
%:%3863=1685%:%
%:%3864=1686%:%
%:%3865=1686%:%
%:%3866=1686%:%
%:%3867=1687%:%
%:%3868=1687%:%
%:%3869=1688%:%
%:%3870=1688%:%
%:%3871=1689%:%
%:%3872=1689%:%
%:%3873=1689%:%
%:%3874=1690%:%
%:%3875=1691%:%
%:%3876=1692%:%
%:%3877=1692%:%
%:%3878=1693%:%
%:%3879=1693%:%
%:%3880=1693%:%
%:%3881=1694%:%
%:%3882=1694%:%
%:%3883=1695%:%
%:%3884=1695%:%
%:%3885=1695%:%
%:%3886=1696%:%
%:%3887=1696%:%
%:%3888=1697%:%
%:%3889=1697%:%
%:%3890=1698%:%
%:%3891=1698%:%
%:%3892=1698%:%
%:%3893=1699%:%
%:%3894=1700%:%
%:%3895=1701%:%
%:%3896=1701%:%
%:%3897=1702%:%
%:%3898=1702%:%
%:%3899=1703%:%
%:%3900=1703%:%
%:%3901=1704%:%
%:%3902=1704%:%
%:%3903=1705%:%
%:%3904=1705%:%
%:%3905=1706%:%
%:%3920=1708%:%
%:%3924=1710%:%
%:%3934=1716%:%
%:%3935=1716%:%
%:%3936=1717%:%
%:%3937=1718%:%
%:%3938=1719%:%
%:%3939=1720%:%
%:%3940=1721%:%
%:%3941=1722%:%
%:%3942=1723%:%
%:%3943=1724%:%
%:%3944=1725%:%
%:%3945=1726%:%
%:%3946=1727%:%
%:%3947=1727%:%
%:%3948=1728%:%
%:%3954=1734%:%
%:%3955=1735%:%
%:%3956=1736%:%
%:%3957=1736%:%
%:%3958=1737%:%
%:%3965=1739%:%
%:%3979=1743%:%
%:%3980=1743%:%
%:%3981=1744%:%
%:%3982=1745%:%
%:%3983=1746%:%
%:%3986=1747%:%
%:%3990=1747%:%
%:%3991=1747%:%
%:%3992=1748%:%
%:%3993=1748%:%
%:%3998=1748%:%
%:%4001=1749%:%
%:%4002=1750%:%
%:%4003=1750%:%
%:%4004=1751%:%
%:%4005=1752%:%
%:%4006=1753%:%
%:%4009=1754%:%
%:%4013=1754%:%
%:%4014=1754%:%
%:%4015=1755%:%
%:%4016=1755%:%
%:%4021=1755%:%
%:%4024=1756%:%
%:%4025=1757%:%
%:%4026=1757%:%
%:%4027=1758%:%
%:%4028=1759%:%
%:%4031=1760%:%
%:%4035=1760%:%
%:%4036=1760%:%
%:%4037=1761%:%
%:%4038=1761%:%
%:%4043=1761%:%
%:%4046=1762%:%
%:%4047=1763%:%
%:%4048=1763%:%
%:%4049=1764%:%
%:%4050=1765%:%
%:%4053=1766%:%
%:%4057=1766%:%
%:%4058=1766%:%
%:%4059=1767%:%
%:%4060=1767%:%
%:%4061=1768%:%
%:%4062=1768%:%
%:%4067=1768%:%
%:%4070=1769%:%
%:%4071=1770%:%
%:%4072=1770%:%
%:%4073=1771%:%
%:%4074=1772%:%
%:%4081=1773%:%
%:%4082=1773%:%
%:%4083=1774%:%
%:%4084=1774%:%
%:%4085=1775%:%
%:%4086=1775%:%
%:%4087=1776%:%
%:%4088=1776%:%
%:%4089=1777%:%
%:%4090=1777%:%
%:%4091=1778%:%
%:%4092=1778%:%
%:%4093=1779%:%
%:%4094=1779%:%
%:%4095=1780%:%
%:%4096=1780%:%
%:%4097=1781%:%
%:%4098=1781%:%
%:%4099=1782%:%
%:%4100=1782%:%
%:%4101=1783%:%
%:%4102=1783%:%
%:%4103=1784%:%
%:%4128=1788%:%
%:%4129=1788%:%
%:%4130=1789%:%
%:%4131=1790%:%
%:%4132=1790%:%
%:%4139=1791%:%
%:%4140=1791%:%
%:%4141=1792%:%
%:%4142=1792%:%
%:%4143=1793%:%
%:%4144=1793%:%
%:%4145=1794%:%
%:%4146=1794%:%
%:%4147=1795%:%
%:%4148=1795%:%
%:%4149=1796%:%
%:%4155=1796%:%
%:%4158=1797%:%
%:%4176=1805%:%
%:%4177=1805%:%
%:%4178=1806%:%
%:%4181=1807%:%
%:%4185=1807%:%
%:%4186=1807%:%
%:%4187=1808%:%
%:%4188=1808%:%
%:%4202=1810%:%
%:%4220=1818%:%
%:%4221=1818%:%
%:%4222=1819%:%
%:%4223=1820%:%
%:%4226=1821%:%
%:%4230=1821%:%
%:%4231=1821%:%
%:%4232=1822%:%
%:%4233=1822%:%
%:%4234=1823%:%
%:%4235=1823%:%
%:%4236=1824%:%
%:%4237=1824%:%
%:%4238=1825%:%
%:%4239=1825%:%
%:%4240=1826%:%
%:%4241=1826%:%
%:%4242=1827%:%
%:%4243=1827%:%
%:%4244=1828%:%
%:%4245=1828%:%
%:%4246=1829%:%
%:%4247=1829%:%
%:%4248=1830%:%
%:%4249=1830%:%
%:%4250=1831%:%
%:%4251=1831%:%
%:%4252=1832%:%
%:%4253=1832%:%
%:%4254=1832%:%
%:%4255=1833%:%
%:%4256=1834%:%
%:%4257=1834%:%
%:%4258=1835%:%
%:%4259=1835%:%
%:%4260=1836%:%
%:%4261=1836%:%
%:%4262=1837%:%
%:%4263=1838%:%
%:%4264=1839%:%
%:%4265=1840%:%
%:%4266=1840%:%
%:%4267=1841%:%
%:%4268=1841%:%
%:%4269=1842%:%
%:%4270=1842%:%
%:%4271=1842%:%
%:%4272=1843%:%
%:%4273=1843%:%
%:%4274=1844%:%
%:%4275=1844%:%
%:%4276=1845%:%
%:%4277=1845%:%
%:%4278=1845%:%
%:%4279=1846%:%
%:%4280=1846%:%
%:%4281=1847%:%
%:%4282=1847%:%
%:%4283=1848%:%
%:%4289=1848%:%
%:%4292=1849%:%
%:%4293=1850%:%
%:%4294=1850%:%
%:%4295=1851%:%
%:%4296=1852%:%
%:%4299=1853%:%
%:%4303=1853%:%
%:%4304=1853%:%
%:%4305=1854%:%
%:%4306=1854%:%
%:%4311=1854%:%
%:%4314=1855%:%
%:%4315=1856%:%
%:%4316=1857%:%
%:%4317=1858%:%
%:%4318=1859%:%
%:%4319=1860%:%
%:%4320=1860%:%
%:%4321=1861%:%
%:%4322=1862%:%
%:%4323=1863%:%
%:%4324=1864%:%
%:%4331=1865%:%
%:%4332=1865%:%
%:%4333=1866%:%
%:%4334=1866%:%
%:%4335=1867%:%
%:%4336=1867%:%
%:%4337=1868%:%
%:%4338=1868%:%
%:%4339=1869%:%
%:%4340=1869%:%
%:%4341=1870%:%
%:%4342=1870%:%
%:%4343=1871%:%
%:%4344=1871%:%
%:%4345=1872%:%
%:%4346=1872%:%
%:%4347=1873%:%
%:%4378=1887%:%
%:%4398=1919%:%
%:%4408=1933%:%
%:%4409=1933%:%
%:%4410=1934%:%
%:%4411=1935%:%
%:%4412=1936%:%
%:%4451=1974%:%
%:%4455=1976%:%
%:%4465=1978%:%
%:%4466=1978%:%
%:%4467=1979%:%
%:%4468=1980%:%
%:%4469=1981%:%
%:%4470=1981%:%
%:%4471=1982%:%
%:%4478=1984%:%
%:%4488=1986%:%
%:%4489=1986%:%
%:%4490=1987%:%
%:%4493=1988%:%
%:%4497=1988%:%
%:%4498=1988%:%
%:%4499=1989%:%
%:%4500=1989%:%
%:%4505=1989%:%
%:%4508=1990%:%
%:%4509=1991%:%
%:%4510=1991%:%
%:%4511=1992%:%
%:%4518=1993%:%
%:%4519=1993%:%
%:%4520=1994%:%
%:%4521=1994%:%
%:%4522=1995%:%
%:%4523=1995%:%
%:%4524=1996%:%
%:%4525=1996%:%
%:%4526=1996%:%
%:%4527=1997%:%
%:%4528=1998%:%
%:%4529=1998%:%
%:%4530=1999%:%
%:%4531=1999%:%
%:%4532=2000%:%
%:%4533=2000%:%
%:%4534=2001%:%
%:%4535=2001%:%
%:%4536=2002%:%
%:%4537=2002%:%
%:%4538=2003%:%
%:%4553=2005%:%
%:%4563=2007%:%
%:%4564=2007%:%
%:%4565=2008%:%
%:%4568=2009%:%
%:%4572=2009%:%
%:%4573=2009%:%
%:%4574=2010%:%
%:%4575=2010%:%
%:%4580=2010%:%
%:%4583=2011%:%
%:%4584=2012%:%
%:%4585=2012%:%
%:%4586=2013%:%
%:%4587=2014%:%
%:%4590=2015%:%
%:%4594=2015%:%
%:%4595=2015%:%
%:%4596=2016%:%
%:%4597=2016%:%
%:%4602=2016%:%
%:%4605=2017%:%
%:%4606=2018%:%
%:%4607=2018%:%
%:%4608=2019%:%
%:%4611=2020%:%
%:%4615=2020%:%
%:%4616=2020%:%
%:%4617=2021%:%
%:%4618=2021%:%
%:%4623=2021%:%
%:%4626=2022%:%
%:%4627=2023%:%
%:%4628=2023%:%
%:%4629=2024%:%
%:%4632=2025%:%
%:%4636=2025%:%
%:%4637=2025%:%
%:%4638=2026%:%
%:%4639=2026%:%
%:%4644=2026%:%
%:%4647=2027%:%
%:%4648=2028%:%
%:%4649=2028%:%
%:%4650=2029%:%
%:%4651=2030%:%
%:%4652=2031%:%
%:%4655=2032%:%
%:%4659=2032%:%
%:%4660=2032%:%
%:%4661=2033%:%
%:%4662=2033%:%
%:%4676=2035%:%
%:%4686=2037%:%
%:%4687=2037%:%
%:%4688=2038%:%
%:%4689=2039%:%
%:%4696=2040%:%
%:%4697=2040%:%
%:%4698=2041%:%
%:%4699=2041%:%
%:%4700=2042%:%
%:%4701=2042%:%
%:%4702=2042%:%
%:%4703=2043%:%
%:%4704=2044%:%
%:%4705=2044%:%
%:%4706=2045%:%
%:%4707=2045%:%
%:%4708=2046%:%
%:%4709=2046%:%
%:%4710=2047%:%
%:%4711=2047%:%
%:%4712=2048%:%
%:%4713=2048%:%
%:%4714=2049%:%
%:%4715=2049%:%
%:%4716=2050%:%
%:%4717=2050%:%
%:%4718=2051%:%
%:%4719=2051%:%
%:%4720=2052%:%
%:%4721=2052%:%
%:%4722=2053%:%
%:%4723=2053%:%
%:%4724=2054%:%
%:%4725=2054%:%
%:%4726=2055%:%
%:%4727=2055%:%
%:%4728=2056%:%
%:%4729=2056%:%
%:%4730=2057%:%
%:%4731=2057%:%
%:%4732=2058%:%
%:%4733=2058%:%
%:%4734=2059%:%
%:%4735=2059%:%
%:%4736=2060%:%
%:%4737=2060%:%
%:%4738=2061%:%
%:%4739=2061%:%
%:%4740=2062%:%
%:%4741=2062%:%
%:%4742=2063%:%
%:%4743=2063%:%
%:%4744=2064%:%
%:%4745=2064%:%
%:%4746=2065%:%
%:%4747=2065%:%
%:%4748=2066%:%
%:%4749=2066%:%
%:%4750=2067%:%
%:%4751=2067%:%
%:%4752=2068%:%
%:%4753=2068%:%
%:%4754=2069%:%
%:%4755=2069%:%
%:%4756=2070%:%
%:%4757=2070%:%
%:%4758=2071%:%
%:%4759=2071%:%
%:%4760=2072%:%
%:%4761=2072%:%
%:%4762=2073%:%
%:%4763=2073%:%
%:%4764=2074%:%
%:%4765=2074%:%
%:%4766=2075%:%
%:%4767=2075%:%
%:%4768=2076%:%
%:%4769=2076%:%
%:%4770=2077%:%
%:%4771=2077%:%
%:%4772=2078%:%
%:%4773=2078%:%
%:%4774=2079%:%
%:%4775=2079%:%
%:%4776=2080%:%
%:%4777=2080%:%
%:%4778=2081%:%
%:%4779=2081%:%
%:%4780=2082%:%
%:%4781=2082%:%
%:%4782=2083%:%
%:%4788=2083%:%
%:%4791=2084%:%
%:%4792=2085%:%
%:%4793=2085%:%
%:%4794=2086%:%
%:%4795=2087%:%
%:%4796=2088%:%
%:%4799=2089%:%
%:%4803=2089%:%
%:%4804=2089%:%
%:%4805=2090%:%
%:%4806=2090%:%
%:%4807=2091%:%
%:%4808=2091%:%
%:%4809=2092%:%
%:%4810=2092%:%
%:%4811=2093%:%
%:%4812=2093%:%
%:%4813=2094%:%
%:%4814=2094%:%
%:%4815=2095%:%
%:%4816=2095%:%
%:%4817=2096%:%
%:%4818=2096%:%
%:%4819=2097%:%
%:%4820=2097%:%
%:%4821=2098%:%
%:%4822=2098%:%
%:%4823=2099%:%
%:%4824=2099%:%
%:%4825=2100%:%
%:%4826=2100%:%
%:%4827=2101%:%
%:%4828=2101%:%
%:%4829=2102%:%
%:%4830=2102%:%
%:%4831=2103%:%
%:%4832=2103%:%
%:%4833=2104%:%
%:%4834=2104%:%
%:%4835=2105%:%
%:%4836=2105%:%
%:%4837=2106%:%
%:%4838=2106%:%
%:%4839=2107%:%
%:%4840=2107%:%
%:%4841=2108%:%
%:%4842=2108%:%
%:%4843=2109%:%
%:%4844=2109%:%
%:%4845=2110%:%
%:%4860=2112%:%
%:%4870=2114%:%
%:%4871=2114%:%
%:%4872=2115%:%
%:%4873=2116%:%
%:%4880=2117%:%
%:%4881=2117%:%
%:%4882=2118%:%
%:%4883=2118%:%
%:%4884=2119%:%
%:%4885=2119%:%
%:%4886=2120%:%
%:%4887=2120%:%
%:%4888=2121%:%
%:%4889=2121%:%
%:%4890=2121%:%
%:%4891=2122%:%
%:%4892=2123%:%
%:%4893=2123%:%
%:%4894=2124%:%
%:%4895=2124%:%
%:%4896=2125%:%
%:%4897=2125%:%
%:%4898=2126%:%
%:%4899=2126%:%
%:%4900=2127%:%
%:%4901=2127%:%
%:%4902=2128%:%
%:%4903=2128%:%
%:%4904=2129%:%
%:%4905=2129%:%
%:%4906=2130%:%
%:%4907=2130%:%
%:%4908=2131%:%
%:%4909=2131%:%
%:%4910=2132%:%
%:%4911=2132%:%
%:%4912=2133%:%
%:%4913=2133%:%
%:%4914=2134%:%
%:%4915=2134%:%
%:%4916=2135%:%
%:%4917=2135%:%
%:%4918=2136%:%
%:%4919=2136%:%
%:%4920=2137%:%
%:%4921=2137%:%
%:%4922=2138%:%
%:%4923=2138%:%
%:%4924=2139%:%
%:%4925=2139%:%
%:%4926=2140%:%
%:%4927=2140%:%
%:%4928=2141%:%
%:%4929=2141%:%
%:%4930=2142%:%
%:%4931=2142%:%
%:%4932=2143%:%
%:%4933=2143%:%
%:%4934=2144%:%
%:%4935=2144%:%
%:%4936=2145%:%
%:%4937=2145%:%
%:%4938=2146%:%
%:%4939=2146%:%
%:%4940=2147%:%
%:%4941=2147%:%
%:%4942=2148%:%
%:%4943=2148%:%
%:%4944=2149%:%
%:%4945=2149%:%
%:%4946=2150%:%
%:%4947=2151%:%
%:%4948=2152%:%
%:%4949=2153%:%
%:%4950=2153%:%
%:%4951=2154%:%
%:%4952=2154%:%
%:%4953=2155%:%
%:%4954=2155%:%
%:%4955=2156%:%
%:%4956=2156%:%
%:%4957=2157%:%
%:%4958=2157%:%
%:%4959=2158%:%
%:%4960=2158%:%
%:%4961=2159%:%
%:%4962=2159%:%
%:%4963=2159%:%
%:%4964=2160%:%
%:%4965=2160%:%
%:%4966=2161%:%
%:%4967=2161%:%
%:%4968=2162%:%
%:%4969=2162%:%
%:%4970=2163%:%
%:%4971=2163%:%
%:%4972=2163%:%
%:%4973=2164%:%
%:%4974=2164%:%
%:%4975=2165%:%
%:%4976=2165%:%
%:%4977=2166%:%
%:%4978=2166%:%
%:%4979=2166%:%
%:%4980=2167%:%
%:%4981=2167%:%
%:%4982=2168%:%
%:%4983=2168%:%
%:%4984=2169%:%
%:%4985=2169%:%
%:%4986=2170%:%
%:%4992=2170%:%
%:%4995=2171%:%
%:%4996=2172%:%
%:%4997=2172%:%
%:%4998=2173%:%
%:%4999=2174%:%
%:%5006=2175%:%
%:%5007=2175%:%
%:%5008=2176%:%
%:%5009=2176%:%
%:%5010=2177%:%
%:%5011=2177%:%
%:%5012=2178%:%
%:%5013=2178%:%
%:%5014=2179%:%
%:%5015=2179%:%
%:%5016=2180%:%
%:%5017=2180%:%
%:%5018=2181%:%
%:%5019=2181%:%
%:%5020=2182%:%
%:%5026=2182%:%
%:%5029=2183%:%
%:%5030=2184%:%
%:%5031=2184%:%
%:%5032=2185%:%
%:%5033=2186%:%
%:%5034=2187%:%
%:%5037=2188%:%
%:%5041=2188%:%
%:%5042=2188%:%
%:%5043=2189%:%
%:%5044=2189%:%
%:%5045=2190%:%
%:%5046=2190%:%
%:%5047=2191%:%
%:%5048=2191%:%
%:%5049=2192%:%
%:%5050=2192%:%
%:%5051=2193%:%
%:%5052=2193%:%
%:%5053=2194%:%
%:%5054=2194%:%
%:%5055=2195%:%
%:%5056=2195%:%
%:%5057=2196%:%
%:%5058=2196%:%
%:%5059=2197%:%
%:%5060=2197%:%
%:%5061=2198%:%
%:%5062=2198%:%
%:%5063=2199%:%
%:%5064=2199%:%
%:%5065=2200%:%
%:%5066=2200%:%
%:%5067=2201%:%
%:%5068=2201%:%
%:%5069=2202%:%
%:%5070=2202%:%
%:%5071=2203%:%
%:%5072=2203%:%
%:%5073=2204%:%
%:%5074=2204%:%
%:%5075=2205%:%
%:%5076=2205%:%
%:%5077=2206%:%
%:%5078=2206%:%
%:%5079=2207%:%
%:%5080=2207%:%
%:%5081=2208%:%
%:%5082=2208%:%
%:%5083=2209%:%
%:%5098=2211%:%
%:%5108=2213%:%
%:%5109=2213%:%
%:%5110=2214%:%
%:%5112=2216%:%
%:%5113=2217%:%
%:%5114=2218%:%
%:%5115=2218%:%
%:%5116=2219%:%
%:%5117=2220%:%
%:%5120=2221%:%
%:%5124=2221%:%
%:%5125=2221%:%
%:%5126=2222%:%
%:%5127=2222%:%
%:%5132=2222%:%
%:%5135=2223%:%
%:%5136=2224%:%
%:%5137=2224%:%
%:%5138=2225%:%
%:%5141=2226%:%
%:%5145=2226%:%
%:%5146=2226%:%
%:%5147=2227%:%
%:%5148=2227%:%
%:%5153=2227%:%
%:%5156=2228%:%
%:%5157=2229%:%
%:%5158=2229%:%
%:%5159=2230%:%
%:%5160=2231%:%
%:%5163=2232%:%
%:%5167=2232%:%
%:%5168=2232%:%
%:%5169=2233%:%
%:%5170=2233%:%
%:%5175=2233%:%
%:%5180=2234%:%
%:%5185=2235%:%