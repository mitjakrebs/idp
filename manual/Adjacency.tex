%
\begin{isabellebody}%
\setisabellecontext{Adjacency}%
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Medium level%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\begin{isamarkuptext}%
As mentioned above, a graph on the high level of abstraction is a set of edges. Hence, we would
expect a graph to provide basic set operations such as insert, delete, union, intersection, and
difference. Moreover, many graph algorithms, including breadth-first and depth-first search, involve
iterating, or, folding, over all vertices adjacent to a given vertex. Thus, we would have liked to
specify a graph on the medium level of abstraction via the following locales.%
\end{isamarkuptext}\isamarkuptrue%
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsubsection{Adjacency structure%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
\isacommand{theory}\isamarkupfalse%
\ Adjacency\isanewline
\ \ \isakeyword{imports}\isanewline
\ \ \ \ {\isachardoublequoteopen}HOL{\isacharminus}{\kern0pt}Data{\isacharunderscore}{\kern0pt}Structures{\isachardot}{\kern0pt}Set{\isacharunderscore}{\kern0pt}Specs{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharslash}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharslash}{\kern0pt}Map{\isacharslash}{\kern0pt}Map{\isacharunderscore}{\kern0pt}Specs{\isacharunderscore}{\kern0pt}Ext{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharslash}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharslash}{\kern0pt}Orderings{\isacharunderscore}{\kern0pt}Ext{\isachardoublequoteclose}\isanewline
\isakeyword{begin}%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\begin{isamarkuptext}%
\isatt{P{\kern0pt}o{\kern0pt}r{\kern0pt}t{\kern0pt}s{\kern0pt}}%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{locale}\isamarkupfalse%
\ Adjacency{\isacharunderscore}{\kern0pt}Structure\ {\isacharequal}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ empty\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}g{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{fixes}\ insert\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}linorder\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}g\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}g{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{fixes}\ delete\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}g\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}g{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{fixes}\ adj\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}g\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ list{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{fixes}\ inv\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}g\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ adj{\isacharunderscore}{\kern0pt}empty{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}adj\ v\ empty\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ adj{\isacharunderscore}{\kern0pt}insert{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}inv\ G\ {\isasymand}\ Sorted{\isacharunderscore}{\kern0pt}Less{\isachardot}{\kern0pt}sorted\ {\isacharparenleft}{\kern0pt}adj\ u\ G{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ adj\ u\ {\isacharparenleft}{\kern0pt}insert\ v\ w\ G{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}if\ u\ {\isacharequal}{\kern0pt}\ v\ then\ ins{\isacharunderscore}{\kern0pt}list\ w\ {\isacharparenleft}{\kern0pt}adj\ u\ G{\isacharparenright}{\kern0pt}\ else\ adj\ u\ G{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ adj{\isacharunderscore}{\kern0pt}delete{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}inv\ G\ {\isasymand}\ Sorted{\isacharunderscore}{\kern0pt}Less{\isachardot}{\kern0pt}sorted\ {\isacharparenleft}{\kern0pt}adj\ u\ G{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ adj\ u\ {\isacharparenleft}{\kern0pt}delete\ v\ w\ G{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}if\ u\ {\isacharequal}{\kern0pt}\ v\ then\ List{\isacharunderscore}{\kern0pt}Ins{\isacharunderscore}{\kern0pt}Del{\isachardot}{\kern0pt}del{\isacharunderscore}{\kern0pt}list\ w\ {\isacharparenleft}{\kern0pt}adj\ u\ G{\isacharparenright}{\kern0pt}\ else\ adj\ u\ G{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ inv{\isacharunderscore}{\kern0pt}empty{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}inv\ empty{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ inv{\isacharunderscore}{\kern0pt}insert{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}inv\ G\ {\isasymand}\ Sorted{\isacharunderscore}{\kern0pt}Less{\isachardot}{\kern0pt}sorted\ {\isacharparenleft}{\kern0pt}adj\ u\ G{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ inv\ {\isacharparenleft}{\kern0pt}insert\ u\ v\ G{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ inv{\isacharunderscore}{\kern0pt}delete{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}inv\ G\ {\isasymand}\ Sorted{\isacharunderscore}{\kern0pt}Less{\isachardot}{\kern0pt}sorted\ {\isacharparenleft}{\kern0pt}adj\ u\ G{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ inv\ {\isacharparenleft}{\kern0pt}delete\ u\ v\ G{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{definition}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ Adjacency{\isacharunderscore}{\kern0pt}Structure{\isacharparenright}{\kern0pt}\ invar\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}g\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}invar\ G\ {\isasymequiv}\ inv\ G\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}v{\isachardot}{\kern0pt}\ Sorted{\isacharunderscore}{\kern0pt}Less{\isachardot}{\kern0pt}sorted\ {\isacharparenleft}{\kern0pt}adj\ v\ G{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ Adjacency{\isacharunderscore}{\kern0pt}Structure{\isacharparenright}{\kern0pt}\ invarD{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}inv\ G{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymforall}v{\isachardot}{\kern0pt}\ Sorted{\isacharunderscore}{\kern0pt}Less{\isachardot}{\kern0pt}sorted\ {\isacharparenleft}{\kern0pt}adj\ v\ G{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp{\isacharunderscore}{\kern0pt}all\ add{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ Adjacency{\isacharunderscore}{\kern0pt}Structure{\isacharparenright}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}empty{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}invar\ empty{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ inv{\isacharunderscore}{\kern0pt}empty\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}def\ adj{\isacharunderscore}{\kern0pt}empty{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ Adjacency{\isacharunderscore}{\kern0pt}Structure{\isacharparenright}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}insert{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}invar\ {\isacharparenleft}{\kern0pt}insert\ u\ v\ G{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}def\ adj{\isacharunderscore}{\kern0pt}insert\ intro{\isacharcolon}{\kern0pt}\ inv{\isacharunderscore}{\kern0pt}insert\ sorted{\isacharunderscore}{\kern0pt}ins{\isacharunderscore}{\kern0pt}list{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ Adjacency{\isacharunderscore}{\kern0pt}Structure{\isacharparenright}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}delete{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}invar\ {\isacharparenleft}{\kern0pt}delete\ u\ v\ G{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}def\ adj{\isacharunderscore}{\kern0pt}delete\ intro{\isacharcolon}{\kern0pt}\ inv{\isacharunderscore}{\kern0pt}delete\ List{\isacharunderscore}{\kern0pt}Ins{\isacharunderscore}{\kern0pt}Del{\isachardot}{\kern0pt}sorted{\isacharunderscore}{\kern0pt}del{\isacharunderscore}{\kern0pt}list{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ Adjacency{\isacharunderscore}{\kern0pt}Structure{\isacharparenright}{\kern0pt}\ distinct{\isacharunderscore}{\kern0pt}adj{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}inv\ G\ {\isasymand}\ Sorted{\isacharunderscore}{\kern0pt}Less{\isachardot}{\kern0pt}sorted\ {\isacharparenleft}{\kern0pt}adj\ v\ G{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}distinct\ {\isacharparenleft}{\kern0pt}adj\ v\ G{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ sorted{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}distinct{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}drule\ conjunct{\isadigit{2}}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{locale}\isamarkupfalse%
\ Finite{\isacharunderscore}{\kern0pt}Adjacency{\isacharunderscore}{\kern0pt}Structure\ {\isacharequal}{\kern0pt}\ Adjacency{\isacharunderscore}{\kern0pt}Structure\ \isakeyword{where}\ insert\ {\isacharequal}{\kern0pt}\ insert\ \isakeyword{for}\isanewline
\ \ insert\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}linorder\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}g\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}g{\isachardoublequoteclose}\ {\isacharplus}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ finite{\isacharunderscore}{\kern0pt}domain{\isacharunderscore}{\kern0pt}tbd{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}inv\ G\ {\isasymLongrightarrow}\ finite\ {\isacharbraceleft}{\kern0pt}v{\isachardot}{\kern0pt}\ adj\ v\ G\ {\isasymnoteq}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{locale}\isamarkupfalse%
\ Adjacency{\isacharunderscore}{\kern0pt}Structure{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ {\isacharequal}{\kern0pt}\ Adjacency{\isacharunderscore}{\kern0pt}Structure\ \isakeyword{where}\ insert\ {\isacharequal}{\kern0pt}\ insert\ \isakeyword{for}\isanewline
\ \ insert\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}linorder\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}g\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}g{\isachardoublequoteclose}\ {\isacharplus}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ union\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}g\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}g\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}g{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{fixes}\ difference\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}g\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}g\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}g{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ adj{\isacharunderscore}{\kern0pt}union{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymlbrakk}\ inv\ G{\isadigit{1}}{\isacharsemicolon}{\kern0pt}\ Sorted{\isacharunderscore}{\kern0pt}Less{\isachardot}{\kern0pt}sorted\ {\isacharparenleft}{\kern0pt}adj\ v\ G{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharsemicolon}{\kern0pt}\ inv\ G{\isadigit{2}}{\isacharsemicolon}{\kern0pt}\ Sorted{\isacharunderscore}{\kern0pt}Less{\isachardot}{\kern0pt}sorted\ {\isacharparenleft}{\kern0pt}adj\ v\ G{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymrbrakk}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ adj\ v\ {\isacharparenleft}{\kern0pt}union\ G{\isadigit{1}}\ G{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fold\ ins{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}adj\ v\ G{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}adj\ v\ G{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ adj{\isacharunderscore}{\kern0pt}difference{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymlbrakk}\ inv\ G{\isadigit{1}}{\isacharsemicolon}{\kern0pt}\ Sorted{\isacharunderscore}{\kern0pt}Less{\isachardot}{\kern0pt}sorted\ {\isacharparenleft}{\kern0pt}adj\ v\ G{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharsemicolon}{\kern0pt}\ inv\ G{\isadigit{2}}{\isacharsemicolon}{\kern0pt}\ Sorted{\isacharunderscore}{\kern0pt}Less{\isachardot}{\kern0pt}sorted\ {\isacharparenleft}{\kern0pt}adj\ v\ G{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymrbrakk}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ adj\ v\ {\isacharparenleft}{\kern0pt}difference\ G{\isadigit{1}}\ G{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fold\ List{\isacharunderscore}{\kern0pt}Ins{\isacharunderscore}{\kern0pt}Del{\isachardot}{\kern0pt}del{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}adj\ v\ G{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}adj\ v\ G{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ inv{\isacharunderscore}{\kern0pt}union{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}inv\ G{\isadigit{1}}\ {\isasymLongrightarrow}\ inv\ G{\isadigit{2}}\ {\isasymLongrightarrow}\ inv\ {\isacharparenleft}{\kern0pt}union\ G{\isadigit{1}}\ G{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ inv{\isacharunderscore}{\kern0pt}difference{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}inv\ G{\isadigit{1}}\ {\isasymLongrightarrow}\ inv\ G{\isadigit{2}}\ {\isasymLongrightarrow}\ inv\ {\isacharparenleft}{\kern0pt}difference\ G{\isadigit{1}}\ G{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{locale}\isamarkupfalse%
\ Finite{\isacharunderscore}{\kern0pt}Adjacency{\isacharunderscore}{\kern0pt}Structure{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ {\isacharequal}{\kern0pt}\ Adjacency{\isacharunderscore}{\kern0pt}Structure{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ \isakeyword{where}\ insert\ {\isacharequal}{\kern0pt}\ insert\ \isakeyword{for}\isanewline
\ \ insert\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}linorder\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}g\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}g{\isachardoublequoteclose}\ {\isacharplus}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ finite{\isacharunderscore}{\kern0pt}domain{\isacharunderscore}{\kern0pt}tbd{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}inv\ G\ {\isasymLongrightarrow}\ finite\ {\isacharbraceleft}{\kern0pt}v{\isachardot}{\kern0pt}\ adj\ v\ G\ {\isasymnoteq}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}%
\begin{isamarkuptext}%
Unfortunately, we were not able to refactor in time the entire formalization such that it uses
locale \isa{Finite{\isacharunderscore}{\kern0pt}Adjacency{\isacharunderscore}{\kern0pt}Structure{\isacharunderscore}{\kern0pt}{\isadigit{2}}} instead of the following one.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{locale}\isamarkupfalse%
\ adjacency\ {\isacharequal}{\kern0pt}\isanewline
\ \ M{\isacharcolon}{\kern0pt}\ Map{\isacharunderscore}{\kern0pt}by{\isacharunderscore}{\kern0pt}Ordered\ \isakeyword{where}\isanewline
\ \ empty\ {\isacharequal}{\kern0pt}\ Map{\isacharunderscore}{\kern0pt}empty\ \isakeyword{and}\isanewline
\ \ update\ {\isacharequal}{\kern0pt}\ Map{\isacharunderscore}{\kern0pt}update\ \isakeyword{and}\isanewline
\ \ delete\ {\isacharequal}{\kern0pt}\ Map{\isacharunderscore}{\kern0pt}delete\ \isakeyword{and}\isanewline
\ \ lookup\ {\isacharequal}{\kern0pt}\ Map{\isacharunderscore}{\kern0pt}lookup\ \isakeyword{and}\isanewline
\ \ inorder\ {\isacharequal}{\kern0pt}\ Map{\isacharunderscore}{\kern0pt}inorder\ \isakeyword{and}\isanewline
\ \ inv\ {\isacharequal}{\kern0pt}\ Map{\isacharunderscore}{\kern0pt}inv\ {\isacharplus}{\kern0pt}\isanewline
\ \ S{\isacharcolon}{\kern0pt}\ Set{\isacharunderscore}{\kern0pt}by{\isacharunderscore}{\kern0pt}Ordered\ \isakeyword{where}\isanewline
\ \ empty\ {\isacharequal}{\kern0pt}\ Set{\isacharunderscore}{\kern0pt}empty\ \isakeyword{and}\isanewline
\ \ insert\ {\isacharequal}{\kern0pt}\ Set{\isacharunderscore}{\kern0pt}insert\ \isakeyword{and}\isanewline
\ \ delete\ {\isacharequal}{\kern0pt}\ Set{\isacharunderscore}{\kern0pt}delete\ \isakeyword{and}\isanewline
\ \ isin\ {\isacharequal}{\kern0pt}\ Set{\isacharunderscore}{\kern0pt}isin\ \isakeyword{and}\isanewline
\ \ inorder\ {\isacharequal}{\kern0pt}\ Set{\isacharunderscore}{\kern0pt}inorder\ \isakeyword{and}\isanewline
\ \ inv\ {\isacharequal}{\kern0pt}\ Set{\isacharunderscore}{\kern0pt}inv\ \isakeyword{for}\isanewline
\ \ Map{\isacharunderscore}{\kern0pt}empty\ \isakeyword{and}\isanewline
\ \ Map{\isacharunderscore}{\kern0pt}update\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}linorder\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}s\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ Map{\isacharunderscore}{\kern0pt}delete\ \isakeyword{and}\isanewline
\ \ Map{\isacharunderscore}{\kern0pt}lookup\ \isakeyword{and}\isanewline
\ \ Map{\isacharunderscore}{\kern0pt}inorder\ \isakeyword{and}\isanewline
\ \ Map{\isacharunderscore}{\kern0pt}inv\ \isakeyword{and}\isanewline
\ \ Set{\isacharunderscore}{\kern0pt}empty\ \isakeyword{and}\isanewline
\ \ Set{\isacharunderscore}{\kern0pt}insert\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}s\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}s{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ Set{\isacharunderscore}{\kern0pt}delete\ \isakeyword{and}\isanewline
\ \ Set{\isacharunderscore}{\kern0pt}isin\ \isakeyword{and}\isanewline
\ \ Set{\isacharunderscore}{\kern0pt}inorder\ \isakeyword{and}\isanewline
\ \ Set{\isacharunderscore}{\kern0pt}inv\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ invar\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}invar\ G\ {\isasymequiv}\ M{\isachardot}{\kern0pt}invar\ G\ {\isasymand}\ Ball\ {\isacharparenleft}{\kern0pt}M{\isachardot}{\kern0pt}ran\ G{\isacharparenright}{\kern0pt}\ S{\isachardot}{\kern0pt}invar{\isachardoublequoteclose}\isanewline
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ invarD{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}M{\isachardot}{\kern0pt}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}Ball\ {\isacharparenleft}{\kern0pt}M{\isachardot}{\kern0pt}ran\ G{\isacharparenright}{\kern0pt}\ S{\isachardot}{\kern0pt}invar{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp{\isacharunderscore}{\kern0pt}all\ add{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}empty{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}invar\ Map{\isacharunderscore}{\kern0pt}empty{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}def\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}standard{\isacharcomma}{\kern0pt}\ goal{\isacharunderscore}{\kern0pt}cases{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{1}}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ M{\isachardot}{\kern0pt}invar{\isacharunderscore}{\kern0pt}empty\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{2}}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ M{\isachardot}{\kern0pt}ran{\isacharunderscore}{\kern0pt}def\ M{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}empty{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}update{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}S{\isachardot}{\kern0pt}invar\ s{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}invar\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}update\ v\ s\ G{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}def\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}standard{\isacharcomma}{\kern0pt}\ goal{\isacharunderscore}{\kern0pt}cases{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{1}}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}def\ intro{\isacharcolon}{\kern0pt}\ M{\isachardot}{\kern0pt}invar{\isacharunderscore}{\kern0pt}update{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{2}}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ s{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ assm{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}s{\isacharprime}{\kern0pt}\ {\isasymin}\ M{\isachardot}{\kern0pt}ran\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}update\ v\ s\ G{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ v{\isacharprime}{\kern0pt}\ \isakeyword{where}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}Map{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}update\ v\ s\ G{\isacharparenright}{\kern0pt}\ v{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Some\ s{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ M{\isachardot}{\kern0pt}ran{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}S{\isachardot}{\kern0pt}invar\ s{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}v{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ v{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}def\ M{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}update\ M{\isachardot}{\kern0pt}ran{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ list{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}adjacency{\isacharunderscore}{\kern0pt}list\ G\ u\ {\isasymequiv}\ case\ Map{\isacharunderscore}{\kern0pt}lookup\ G\ u\ of\ None\ {\isasymRightarrow}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharbar}{\kern0pt}\ Some\ s\ {\isasymRightarrow}\ Set{\isacharunderscore}{\kern0pt}inorder\ s{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}adjacency{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}finite\ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}set\isanewline
\ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ distinct{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}distinct\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{unfolding}\isamarkupfalse%
\ adjacency{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}Map{\isacharunderscore}{\kern0pt}lookup\ G\ v{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}def\ M{\isachardot}{\kern0pt}ran{\isacharunderscore}{\kern0pt}def\ S{\isachardot}{\kern0pt}invar{\isacharunderscore}{\kern0pt}def\ intro{\isacharcolon}{\kern0pt}\ sorted{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}distinct{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ mem{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}lookup{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}Some{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ u{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}s{\isachardot}{\kern0pt}\ Map{\isacharunderscore}{\kern0pt}lookup\ G\ u\ {\isacharequal}{\kern0pt}\ Some\ s\ {\isasymand}\ v\ {\isasymin}\ S{\isachardot}{\kern0pt}set\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}force\ simp\ add{\isacharcolon}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ S{\isachardot}{\kern0pt}set{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ mem{\isacharunderscore}{\kern0pt}adjacencyE{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ u{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{obtains}\ s\ \isakeyword{where}\isanewline
\ \ \ \ {\isachardoublequoteopen}Map{\isacharunderscore}{\kern0pt}lookup\ G\ u\ {\isacharequal}{\kern0pt}\ Some\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}v\ {\isasymin}\ S{\isachardot}{\kern0pt}set\ s{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ mem{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}lookup{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}Some{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ mem{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}inorder{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ u{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}s{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ s{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inorder\ G{\isacharparenright}{\kern0pt}\ {\isasymand}\ v\ {\isasymin}\ S{\isachardot}{\kern0pt}set\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}standard{\isacharcomma}{\kern0pt}\ goal{\isacharunderscore}{\kern0pt}cases{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{1}}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ s\ \isakeyword{where}\isanewline
\ \ \ \ {\isachardoublequoteopen}Map{\isacharunderscore}{\kern0pt}lookup\ G\ u\ {\isacharequal}{\kern0pt}\ Some\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}v\ {\isasymin}\ S{\isachardot}{\kern0pt}set\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}elim\ mem{\isacharunderscore}{\kern0pt}adjacencyE{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}force\ simp\ add{\isacharcolon}{\kern0pt}\ M{\isachardot}{\kern0pt}mem{\isacharunderscore}{\kern0pt}inorder{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}lookup{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}Some\ dest{\isacharcolon}{\kern0pt}\ invarD{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{2}}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ s\ \isakeyword{where}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ s{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inorder\ G{\isacharparenright}{\kern0pt}\ {\isasymand}\ v\ {\isasymin}\ S{\isachardot}{\kern0pt}set\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}elim\ exE{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}Map{\isacharunderscore}{\kern0pt}lookup\ G\ u\ {\isacharequal}{\kern0pt}\ Some\ s\ {\isasymand}\ v\ {\isasymin}\ S{\isachardot}{\kern0pt}set\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ M{\isachardot}{\kern0pt}mem{\isacharunderscore}{\kern0pt}inorder{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}lookup{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}Some\ dest{\isacharcolon}{\kern0pt}\ invarD{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ S{\isachardot}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\ adjacency{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}inorder{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ u{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymUnion}p{\isasymin}set\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inorder\ G{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ if\ u\ {\isacharequal}{\kern0pt}\ fst\ p\ then\ S{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{{\isacharbraceleft}{\kern0pt}}\isamarkupfalse%
\ \isacommand{fix}\isamarkupfalse%
\ v\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ u{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}s{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ s{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inorder\ G{\isacharparenright}{\kern0pt}\ {\isasymand}\ v\ {\isasymin}\ S{\isachardot}{\kern0pt}set\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ mem{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}inorder{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}p{\isasymin}set\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inorder\ G{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ u\ {\isacharequal}{\kern0pt}\ fst\ p\ {\isasymand}\ v\ {\isasymin}\ S{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ v\ {\isasymin}\ {\isacharparenleft}{\kern0pt}{\isasymUnion}p{\isasymin}set\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inorder\ G{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ if\ u\ {\isacharequal}{\kern0pt}\ fst\ p\ then\ S{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ u{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ \ \ \ v\ {\isasymin}\ {\isacharparenleft}{\kern0pt}{\isasymUnion}p{\isasymin}set\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inorder\ G{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ if\ u\ {\isacharequal}{\kern0pt}\ fst\ p\ then\ S{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\ \isacommand{{\isacharbraceright}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
This locale specifies a graph as a \isa{Map{\isacharunderscore}{\kern0pt}by{\isacharunderscore}{\kern0pt}Ordered} mapping a vertex to its adjacency, which
is specified as a \isa{Set{\isacharunderscore}{\kern0pt}by{\isacharunderscore}{\kern0pt}Ordered}.%
\end{isamarkuptext}\isamarkuptrue%
%
\begin{isamarkuptext}%
We define graph operations insert, delete, union, as well as difference, and show that they
correspond to the respective set operations in terms of \isa{adjacency{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list}. Let us
first look at how to insert an edge.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{definition}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ insert\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ {\isasymtimes}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}insert\ p\ G\ {\isasymequiv}\isanewline
\ \ \ let\ u\ {\isacharequal}{\kern0pt}\ fst\ p{\isacharsemicolon}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ snd\ p\isanewline
\ \ \ in\ let\ s\ {\isacharequal}{\kern0pt}\ case\ Map{\isacharunderscore}{\kern0pt}lookup\ G\ u\ of\ None\ {\isasymRightarrow}\ Set{\isacharunderscore}{\kern0pt}empty\ {\isacharbar}{\kern0pt}\ Some\ s{\isacharprime}{\kern0pt}\ {\isasymRightarrow}\ s{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \ \ in\ Map{\isacharunderscore}{\kern0pt}update\ u\ {\isacharparenleft}{\kern0pt}Set{\isacharunderscore}{\kern0pt}insert\ v\ s{\isacharparenright}{\kern0pt}\ G{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}insert{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}invar\ {\isacharparenleft}{\kern0pt}insert\ p\ G{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}Map{\isacharunderscore}{\kern0pt}lookup\ G\ {\isacharparenleft}{\kern0pt}fst\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ None\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ S{\isachardot}{\kern0pt}invar{\isacharunderscore}{\kern0pt}empty\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ insert{\isacharunderscore}{\kern0pt}def\ intro{\isacharcolon}{\kern0pt}\ S{\isachardot}{\kern0pt}invar{\isacharunderscore}{\kern0pt}insert\ invar{\isacharunderscore}{\kern0pt}update{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Some\ s{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}S{\isachardot}{\kern0pt}invar\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}def\ M{\isachardot}{\kern0pt}ran{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ insert{\isacharunderscore}{\kern0pt}def\ Some\ intro{\isacharcolon}{\kern0pt}\ S{\isachardot}{\kern0pt}invar{\isacharunderscore}{\kern0pt}insert\ invar{\isacharunderscore}{\kern0pt}update{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}insert{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}insert\ p\ G{\isacharparenright}{\kern0pt}\ w\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}if\ w\ {\isacharequal}{\kern0pt}\ fst\ p\ then\ ins{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ w{\isacharparenright}{\kern0pt}\ else\ adjacency{\isacharunderscore}{\kern0pt}list\ G\ w{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}Map{\isacharunderscore}{\kern0pt}lookup\ G\ {\isacharparenleft}{\kern0pt}fst\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ None\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}u\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}fst\ p{\isachardoublequoteclose}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}v\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}snd\ p{\isachardoublequoteclose}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}singleton\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}Set{\isacharunderscore}{\kern0pt}insert\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}\ Set{\isacharunderscore}{\kern0pt}empty{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}insert\ p\ G{\isacharparenright}{\kern0pt}\ w\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}case\ Map{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}insert\ p\ G{\isacharparenright}{\kern0pt}\ w\ of\ None\ {\isasymRightarrow}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharbar}{\kern0pt}\ Some\ s\ {\isasymRightarrow}\ Set{\isacharunderscore}{\kern0pt}inorder\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}case\ Map{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}update\ {\isacharquery}{\kern0pt}u\ {\isacharquery}{\kern0pt}singleton\ G{\isacharparenright}{\kern0pt}\ w\ of\ None\ {\isasymRightarrow}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharbar}{\kern0pt}\ Some\ s\ {\isasymRightarrow}\ Set{\isacharunderscore}{\kern0pt}inorder\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ insert{\isacharunderscore}{\kern0pt}def\ None{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}case\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}lookup\ G{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}u\ {\isasymmapsto}\ {\isacharquery}{\kern0pt}singleton{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ w\ of\ None\ {\isasymRightarrow}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharbar}{\kern0pt}\ Some\ s\ {\isasymRightarrow}\ Set{\isacharunderscore}{\kern0pt}inorder\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}def\ M{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}update{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}if\ w\ {\isacharequal}{\kern0pt}\ {\isacharquery}{\kern0pt}u\ then\ ins{\isacharunderscore}{\kern0pt}list\ {\isacharquery}{\kern0pt}v\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ w{\isacharparenright}{\kern0pt}\ else\ adjacency{\isacharunderscore}{\kern0pt}list\ G\ w{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}w\ {\isacharequal}{\kern0pt}\ {\isacharquery}{\kern0pt}u{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}case\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}lookup\ G{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}u\ {\isasymmapsto}\ {\isacharquery}{\kern0pt}singleton{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ w\ of\ None\ {\isasymRightarrow}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharbar}{\kern0pt}\ Some\ s\ {\isasymRightarrow}\ Set{\isacharunderscore}{\kern0pt}inorder\ s{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ ins{\isacharunderscore}{\kern0pt}list\ {\isacharquery}{\kern0pt}v\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ S{\isachardot}{\kern0pt}inorder{\isacharunderscore}{\kern0pt}inv{\isacharunderscore}{\kern0pt}empty\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ S{\isachardot}{\kern0pt}inorder{\isacharunderscore}{\kern0pt}empty\ S{\isachardot}{\kern0pt}inorder{\isacharunderscore}{\kern0pt}insert{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ None{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Some\ s{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ invar{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}S{\isachardot}{\kern0pt}invar\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}def\ M{\isachardot}{\kern0pt}ran{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}u\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}fst\ p{\isachardoublequoteclose}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}v\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}snd\ p{\isachardoublequoteclose}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}insert\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}Set{\isacharunderscore}{\kern0pt}insert\ {\isacharquery}{\kern0pt}v\ s{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}insert\ p\ G{\isacharparenright}{\kern0pt}\ w\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}case\ Map{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}insert\ p\ G{\isacharparenright}{\kern0pt}\ w\ of\ None\ {\isasymRightarrow}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharbar}{\kern0pt}\ Some\ s\ {\isasymRightarrow}\ Set{\isacharunderscore}{\kern0pt}inorder\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}case\ Map{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}update\ {\isacharquery}{\kern0pt}u\ {\isacharquery}{\kern0pt}insert\ G{\isacharparenright}{\kern0pt}\ w\ of\ None\ {\isasymRightarrow}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharbar}{\kern0pt}\ Some\ s\ {\isasymRightarrow}\ Set{\isacharunderscore}{\kern0pt}inorder\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ insert{\isacharunderscore}{\kern0pt}def\ Some{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}case\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}lookup\ G{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}u\ {\isasymmapsto}\ {\isacharquery}{\kern0pt}insert{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ w\ of\ None\ {\isasymRightarrow}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharbar}{\kern0pt}\ Some\ s\ {\isasymRightarrow}\ Set{\isacharunderscore}{\kern0pt}inorder\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}def\ M{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}update{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}if\ w\ {\isacharequal}{\kern0pt}\ {\isacharquery}{\kern0pt}u\ then\ ins{\isacharunderscore}{\kern0pt}list\ {\isacharquery}{\kern0pt}v\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ w{\isacharparenright}{\kern0pt}\ else\ adjacency{\isacharunderscore}{\kern0pt}list\ G\ w{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}w\ {\isacharequal}{\kern0pt}\ {\isacharquery}{\kern0pt}u{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}case\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}lookup\ G{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}u\ {\isasymmapsto}\ {\isacharquery}{\kern0pt}insert{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ w\ of\ None\ {\isasymRightarrow}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharbar}{\kern0pt}\ Some\ s\ {\isasymRightarrow}\ Set{\isacharunderscore}{\kern0pt}inorder\ s{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ ins{\isacharunderscore}{\kern0pt}list\ {\isacharquery}{\kern0pt}v\ {\isacharparenleft}{\kern0pt}Set{\isacharunderscore}{\kern0pt}inorder\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ invar\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ S{\isachardot}{\kern0pt}invar{\isacharunderscore}{\kern0pt}def\ S{\isachardot}{\kern0pt}inorder{\isacharunderscore}{\kern0pt}insert{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ Some{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}insert{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}insert\ p\ G{\isacharparenright}{\kern0pt}\ u{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ u{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}if\ u\ {\isacharequal}{\kern0pt}\ fst\ p\ then\ {\isacharbraceleft}{\kern0pt}snd\ p{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}Map{\isacharunderscore}{\kern0pt}lookup\ G\ {\isacharparenleft}{\kern0pt}fst\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ None\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}singleton\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}Set{\isacharunderscore}{\kern0pt}insert\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}\ Set{\isacharunderscore}{\kern0pt}empty{\isachardoublequoteclose}\isanewline
\ \ \isacommand{{\isacharbraceleft}{\kern0pt}}\isamarkupfalse%
\ \isacommand{fix}\isamarkupfalse%
\ v\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}insert\ p\ G{\isacharparenright}{\kern0pt}\ u{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ \ \ \ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}update\ {\isacharparenleft}{\kern0pt}fst\ p{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}singleton\ G{\isacharparenright}{\kern0pt}\ u{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ insert{\isacharunderscore}{\kern0pt}def\ None{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}s{\isachardot}{\kern0pt}\ Map{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}update\ {\isacharparenleft}{\kern0pt}fst\ p{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}singleton\ G{\isacharparenright}{\kern0pt}\ u\ {\isacharequal}{\kern0pt}\ Some\ s\ {\isasymand}\ v\ {\isasymin}\ S{\isachardot}{\kern0pt}set\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ mem{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}lookup{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}Some{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}s{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}lookup\ G{\isacharparenleft}{\kern0pt}fst\ p\ {\isasymmapsto}\ {\isacharquery}{\kern0pt}singleton{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ u\ {\isacharequal}{\kern0pt}\ Some\ s\ {\isasymand}\ v\ {\isasymin}\ S{\isachardot}{\kern0pt}set\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ M{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}update\ dest{\isacharcolon}{\kern0pt}\ invarD{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ u{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}if\ u\ {\isacharequal}{\kern0pt}\ fst\ p\ then\ {\isacharbraceleft}{\kern0pt}snd\ p{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ S{\isachardot}{\kern0pt}invar{\isacharunderscore}{\kern0pt}empty\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ None\ mem{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}lookup{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}Some\ S{\isachardot}{\kern0pt}set{\isacharunderscore}{\kern0pt}insert\ S{\isachardot}{\kern0pt}set{\isacharunderscore}{\kern0pt}empty{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}insert\ p\ G{\isacharparenright}{\kern0pt}\ u{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ \ \ \ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ u{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}if\ u\ {\isacharequal}{\kern0pt}\ fst\ p\ then\ {\isacharbraceleft}{\kern0pt}snd\ p{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\ \isacommand{{\isacharbraceright}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Some\ s{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ invar{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}S{\isachardot}{\kern0pt}invar\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}def\ M{\isachardot}{\kern0pt}ran{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}insert\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}Set{\isacharunderscore}{\kern0pt}insert\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}\ s{\isachardoublequoteclose}\isanewline
\ \ \isacommand{{\isacharbraceleft}{\kern0pt}}\isamarkupfalse%
\ \isacommand{fix}\isamarkupfalse%
\ v\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}insert\ p\ G{\isacharparenright}{\kern0pt}\ u{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ \ \ \ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}update\ {\isacharparenleft}{\kern0pt}fst\ p{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}insert\ G{\isacharparenright}{\kern0pt}\ u{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ insert{\isacharunderscore}{\kern0pt}def\ Some{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}s{\isachardot}{\kern0pt}\ Map{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}update\ {\isacharparenleft}{\kern0pt}fst\ p{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}insert\ G{\isacharparenright}{\kern0pt}\ u\ {\isacharequal}{\kern0pt}\ Some\ s\ {\isasymand}\ v\ {\isasymin}\ S{\isachardot}{\kern0pt}set\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ mem{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}lookup{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}Some{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}s{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}lookup\ G{\isacharparenleft}{\kern0pt}fst\ p\ {\isasymmapsto}\ {\isacharquery}{\kern0pt}insert{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ u\ {\isacharequal}{\kern0pt}\ Some\ s\ {\isasymand}\ v\ {\isasymin}\ S{\isachardot}{\kern0pt}set\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ M{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}update\ dest{\isacharcolon}{\kern0pt}\ invarD{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ u{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}if\ u\ {\isacharequal}{\kern0pt}\ fst\ p\ then\ {\isacharbraceleft}{\kern0pt}snd\ p{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ invar\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ Some\ mem{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}lookup{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}Some\ S{\isachardot}{\kern0pt}set{\isacharunderscore}{\kern0pt}insert{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}insert\ p\ G{\isacharparenright}{\kern0pt}\ u{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ \ \ \ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ u{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}if\ u\ {\isacharequal}{\kern0pt}\ fst\ p\ then\ {\isacharbraceleft}{\kern0pt}snd\ p{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\ \isacommand{{\isacharbraceright}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}insert{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}invar\ {\isacharparenleft}{\kern0pt}fold\ insert\ l\ G{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ l\ arbitrary{\isacharcolon}{\kern0pt}\ G{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Nil\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Cons\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}insert\ Cons{\isachardot}{\kern0pt}hyps{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}insert{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}fold\ insert\ l\ G{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ v{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}{\isasymUnion}p{\isasymin}set\ l{\isachardot}{\kern0pt}\ if\ v\ {\isacharequal}{\kern0pt}\ fst\ p\ then\ {\isacharbraceleft}{\kern0pt}snd\ p{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ l\ arbitrary{\isacharcolon}{\kern0pt}\ G{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Nil\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Cons\ p\ ps{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}fold\ insert\ {\isacharparenleft}{\kern0pt}p\ {\isacharhash}{\kern0pt}\ ps{\isacharparenright}{\kern0pt}\ G{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}fold\ insert\ ps\ {\isacharparenleft}{\kern0pt}insert\ p\ G{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}insert\ p\ G{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymUnion}p{\isasymin}set\ ps{\isachardot}{\kern0pt}\ if\ v\ {\isacharequal}{\kern0pt}\ fst\ p\ then\ {\isacharbraceleft}{\kern0pt}snd\ p{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isachardot}{\kern0pt}prems\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ invar{\isacharunderscore}{\kern0pt}insert\ Cons{\isachardot}{\kern0pt}hyps{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ v{\isacharparenright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}if\ v\ {\isacharequal}{\kern0pt}\ fst\ p\ then\ {\isacharbraceleft}{\kern0pt}snd\ p{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymUnion}p{\isasymin}set\ ps{\isachardot}{\kern0pt}\ if\ v\ {\isacharequal}{\kern0pt}\ fst\ p\ then\ {\isacharbraceleft}{\kern0pt}snd\ p{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isachardot}{\kern0pt}prems\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}insert{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ v{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}{\isasymUnion}p{\isasymin}set\ {\isacharparenleft}{\kern0pt}p\ {\isacharhash}{\kern0pt}\ ps{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ if\ v\ {\isacharequal}{\kern0pt}\ fst\ p\ then\ {\isacharbraceleft}{\kern0pt}snd\ p{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ insert{\isacharprime}{\kern0pt}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}insert{\isacharprime}{\kern0pt}\ {\isasymequiv}\ curry\ insert{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}insert{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}invar\ {\isacharparenleft}{\kern0pt}insert{\isacharprime}{\kern0pt}\ u\ v\ G{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ insert{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ intro{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}insert{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}insert{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}insert{\isacharprime}{\kern0pt}\ u\ v\ G{\isacharparenright}{\kern0pt}\ w\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}if\ w\ {\isacharequal}{\kern0pt}\ u\ then\ ins{\isacharunderscore}{\kern0pt}list\ v\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ w{\isacharparenright}{\kern0pt}\ else\ adjacency{\isacharunderscore}{\kern0pt}list\ G\ w{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ insert{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ adjacency{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}insert{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}insert{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}insert{\isacharprime}{\kern0pt}\ u\ v\ G{\isacharparenright}{\kern0pt}\ w{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ w{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}if\ w\ {\isacharequal}{\kern0pt}\ u\ then\ {\isacharbraceleft}{\kern0pt}v{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ insert{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ adjacency{\isacharunderscore}{\kern0pt}insert{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}insert{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}invar\ {\isacharparenleft}{\kern0pt}fold\ {\isacharparenleft}{\kern0pt}insert{\isacharprime}{\kern0pt}\ u{\isacharparenright}{\kern0pt}\ l\ G{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ l\ arbitrary{\isacharcolon}{\kern0pt}\ G{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Nil\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Cons\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}insert{\isacharprime}{\kern0pt}\ Cons{\isachardot}{\kern0pt}hyps{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}insert{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}fold\ {\isacharparenleft}{\kern0pt}insert{\isacharprime}{\kern0pt}\ u{\isacharparenright}{\kern0pt}\ l\ G{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ v{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}{\isasymUnion}w{\isasymin}set\ l{\isachardot}{\kern0pt}\ if\ v\ {\isacharequal}{\kern0pt}\ u\ then\ {\isacharbraceleft}{\kern0pt}w{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ l\ arbitrary{\isacharcolon}{\kern0pt}\ G{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Nil\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Cons\ w\ ws{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}fold\ {\isacharparenleft}{\kern0pt}insert{\isacharprime}{\kern0pt}\ u{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}w\ {\isacharhash}{\kern0pt}\ ws{\isacharparenright}{\kern0pt}\ G{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}fold\ {\isacharparenleft}{\kern0pt}insert{\isacharprime}{\kern0pt}\ u{\isacharparenright}{\kern0pt}\ ws\ {\isacharparenleft}{\kern0pt}insert{\isacharprime}{\kern0pt}\ u\ w\ G{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}insert{\isacharprime}{\kern0pt}\ u\ w\ G{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}{\isasymUnion}x{\isasymin}set\ ws{\isachardot}{\kern0pt}\ if\ v\ {\isacharequal}{\kern0pt}\ u\ then\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isachardot}{\kern0pt}prems\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ invar{\isacharunderscore}{\kern0pt}insert{\isacharprime}{\kern0pt}\ Cons{\isachardot}{\kern0pt}hyps{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ v{\isacharparenright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}if\ v\ {\isacharequal}{\kern0pt}\ u\ then\ {\isacharbraceleft}{\kern0pt}w{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymUnion}x{\isasymin}set\ ws{\isachardot}{\kern0pt}\ if\ v\ {\isacharequal}{\kern0pt}\ u\ then\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isachardot}{\kern0pt}prems\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}insert{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ v{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}{\isasymUnion}x{\isasymin}set\ {\isacharparenleft}{\kern0pt}w\ {\isacharhash}{\kern0pt}\ ws{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ if\ v\ {\isacharequal}{\kern0pt}\ u\ then\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
Let us now look at how to delete an edge.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{definition}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ delete\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ {\isasymtimes}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}delete\ p\ G\ {\isasymequiv}\isanewline
\ \ \ case\ Map{\isacharunderscore}{\kern0pt}lookup\ G\ {\isacharparenleft}{\kern0pt}fst\ p{\isacharparenright}{\kern0pt}\ of\isanewline
\ \ \ \ \ None\ {\isasymRightarrow}\ G\ {\isacharbar}{\kern0pt}\isanewline
\ \ \ \ \ Some\ s\ {\isasymRightarrow}\ Map{\isacharunderscore}{\kern0pt}update\ {\isacharparenleft}{\kern0pt}fst\ p{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Set{\isacharunderscore}{\kern0pt}delete\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}\ s{\isacharparenright}{\kern0pt}\ G{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}delete{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}invar\ {\isacharparenleft}{\kern0pt}delete\ p\ G{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}Map{\isacharunderscore}{\kern0pt}lookup\ G\ {\isacharparenleft}{\kern0pt}fst\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ None\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ delete{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Some\ s{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}S{\isachardot}{\kern0pt}invar\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}def\ M{\isachardot}{\kern0pt}ran{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ delete{\isacharunderscore}{\kern0pt}def\ Some\ intro{\isacharcolon}{\kern0pt}\ S{\isachardot}{\kern0pt}invar{\isacharunderscore}{\kern0pt}delete\ intro{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}update{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}delete{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}delete\ p\ G{\isacharparenright}{\kern0pt}\ w\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}if\ w\ {\isacharequal}{\kern0pt}\ fst\ p\ then\ List{\isacharunderscore}{\kern0pt}Ins{\isacharunderscore}{\kern0pt}Del{\isachardot}{\kern0pt}del{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ w{\isacharparenright}{\kern0pt}\ else\ adjacency{\isacharunderscore}{\kern0pt}list\ G\ w{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}Map{\isacharunderscore}{\kern0pt}lookup\ G\ {\isacharparenleft}{\kern0pt}fst\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ None\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}u\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}fst\ p{\isachardoublequoteclose}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}v\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}snd\ p{\isachardoublequoteclose}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}singleton\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}Set{\isacharunderscore}{\kern0pt}insert\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}\ Set{\isacharunderscore}{\kern0pt}empty{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}delete\ p\ G{\isacharparenright}{\kern0pt}\ w\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}case\ Map{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}delete\ p\ G{\isacharparenright}{\kern0pt}\ w\ of\ None\ {\isasymRightarrow}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharbar}{\kern0pt}\ Some\ s\ {\isasymRightarrow}\ Set{\isacharunderscore}{\kern0pt}inorder\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}case\ Map{\isacharunderscore}{\kern0pt}lookup\ G\ w\ of\ None\ {\isasymRightarrow}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharbar}{\kern0pt}\ Some\ s\ {\isasymRightarrow}\ Set{\isacharunderscore}{\kern0pt}inorder\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ delete{\isacharunderscore}{\kern0pt}def\ None{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}if\ w\ {\isacharequal}{\kern0pt}\ {\isacharquery}{\kern0pt}u\ then\ List{\isacharunderscore}{\kern0pt}Ins{\isacharunderscore}{\kern0pt}Del{\isachardot}{\kern0pt}del{\isacharunderscore}{\kern0pt}list\ {\isacharquery}{\kern0pt}v\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ w{\isacharparenright}{\kern0pt}\ else\ adjacency{\isacharunderscore}{\kern0pt}list\ G\ w{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ None{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Some\ s{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ invar{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}S{\isachardot}{\kern0pt}invar\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}def\ M{\isachardot}{\kern0pt}ran{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}u\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}fst\ p{\isachardoublequoteclose}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}v\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}snd\ p{\isachardoublequoteclose}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}delete\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}Set{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}v\ s{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}delete\ p\ G{\isacharparenright}{\kern0pt}\ w\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}case\ Map{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}delete\ p\ G{\isacharparenright}{\kern0pt}\ w\ of\ None\ {\isasymRightarrow}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharbar}{\kern0pt}\ Some\ s\ {\isasymRightarrow}\ Set{\isacharunderscore}{\kern0pt}inorder\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}case\ Map{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}update\ {\isacharquery}{\kern0pt}u\ {\isacharquery}{\kern0pt}delete\ G{\isacharparenright}{\kern0pt}\ w\ of\ None\ {\isasymRightarrow}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharbar}{\kern0pt}\ Some\ s\ {\isasymRightarrow}\ Set{\isacharunderscore}{\kern0pt}inorder\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ delete{\isacharunderscore}{\kern0pt}def\ Some{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}case\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}lookup\ G{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}u\ {\isasymmapsto}\ {\isacharquery}{\kern0pt}delete{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ w\ of\ None\ {\isasymRightarrow}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharbar}{\kern0pt}\ Some\ s\ {\isasymRightarrow}\ Set{\isacharunderscore}{\kern0pt}inorder\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}def\ M{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}update{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}if\ w\ {\isacharequal}{\kern0pt}\ {\isacharquery}{\kern0pt}u\ then\ List{\isacharunderscore}{\kern0pt}Ins{\isacharunderscore}{\kern0pt}Del{\isachardot}{\kern0pt}del{\isacharunderscore}{\kern0pt}list\ {\isacharquery}{\kern0pt}v\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ w{\isacharparenright}{\kern0pt}\ else\ adjacency{\isacharunderscore}{\kern0pt}list\ G\ w{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}w\ {\isacharequal}{\kern0pt}\ {\isacharquery}{\kern0pt}u{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}case\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}lookup\ G{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}u\ {\isasymmapsto}\ {\isacharquery}{\kern0pt}delete{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ w\ of\ None\ {\isasymRightarrow}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharbar}{\kern0pt}\ Some\ s\ {\isasymRightarrow}\ Set{\isacharunderscore}{\kern0pt}inorder\ s{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ List{\isacharunderscore}{\kern0pt}Ins{\isacharunderscore}{\kern0pt}Del{\isachardot}{\kern0pt}del{\isacharunderscore}{\kern0pt}list\ {\isacharquery}{\kern0pt}v\ {\isacharparenleft}{\kern0pt}Set{\isacharunderscore}{\kern0pt}inorder\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ invar\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ S{\isachardot}{\kern0pt}invar{\isacharunderscore}{\kern0pt}def\ S{\isachardot}{\kern0pt}inorder{\isacharunderscore}{\kern0pt}delete{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ Some{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ delete{\isacharprime}{\kern0pt}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}delete{\isacharprime}{\kern0pt}\ {\isasymequiv}\ curry\ delete{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}delete{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}invar\ {\isacharparenleft}{\kern0pt}delete{\isacharprime}{\kern0pt}\ u\ v\ G{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ delete{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ intro{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}delete{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}delete{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}delete{\isacharprime}{\kern0pt}\ u\ v\ G{\isacharparenright}{\kern0pt}\ w\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}if\ w\ {\isacharequal}{\kern0pt}\ u\ then\ List{\isacharunderscore}{\kern0pt}Ins{\isacharunderscore}{\kern0pt}Del{\isachardot}{\kern0pt}del{\isacharunderscore}{\kern0pt}list\ v\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ w{\isacharparenright}{\kern0pt}\ else\ adjacency{\isacharunderscore}{\kern0pt}list\ G\ w{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ delete{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ adjacency{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}delete{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
Let us now look at how to union two graphs.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{definition}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ insert{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ {\isasymtimes}\ {\isacharprime}{\kern0pt}s\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}insert{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ p\ G\ {\isasymequiv}\isanewline
\ \ \ let\ v\ {\isacharequal}{\kern0pt}\ fst\ p{\isacharsemicolon}{\kern0pt}\ s\ {\isacharequal}{\kern0pt}\ snd\ p\isanewline
\ \ \ in\ let\ s{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ case\ Map{\isacharunderscore}{\kern0pt}lookup\ G\ v\ of\ None\ {\isasymRightarrow}\ s\ {\isacharbar}{\kern0pt}\ Some\ s{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ {\isasymRightarrow}\ fold\ Set{\isacharunderscore}{\kern0pt}insert\ {\isacharparenleft}{\kern0pt}Set{\isacharunderscore}{\kern0pt}inorder\ s{\isacharparenright}{\kern0pt}\ s{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \ \ in\ Map{\isacharunderscore}{\kern0pt}update\ v\ s{\isacharprime}{\kern0pt}\ G{\isachardoublequoteclose}\isanewline
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ Set{\isacharunderscore}{\kern0pt}by{\isacharunderscore}{\kern0pt}Ordered{\isacharparenright}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}insert{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ s{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}invar\ {\isacharparenleft}{\kern0pt}fold\ insert\ l\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ l\ arbitrary{\isacharcolon}{\kern0pt}\ s{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}insert{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ Set{\isacharunderscore}{\kern0pt}by{\isacharunderscore}{\kern0pt}Ordered{\isacharparenright}{\kern0pt}\ fold{\isacharunderscore}{\kern0pt}insert{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ s{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}fold\ insert\ l\ s{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ set\ s\ {\isasymunion}\ List{\isachardot}{\kern0pt}set\ l{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ l\ arbitrary{\isacharcolon}{\kern0pt}\ s{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Nil\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Cons\ x\ xs{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}fold\ insert\ {\isacharparenleft}{\kern0pt}x\ {\isacharhash}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}\ s{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}fold\ insert\ xs\ {\isacharparenleft}{\kern0pt}insert\ x\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}insert\ x\ s{\isacharparenright}{\kern0pt}\ {\isasymunion}\ List{\isachardot}{\kern0pt}set\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isachardot}{\kern0pt}prems\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ invar{\isacharunderscore}{\kern0pt}insert\ Cons{\isachardot}{\kern0pt}hyps{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ set\ s\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isasymunion}\ List{\isachardot}{\kern0pt}set\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isachardot}{\kern0pt}prems\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}insert{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ set\ s\ {\isasymunion}\ List{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}x\ {\isacharhash}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}insert{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}S{\isachardot}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}invar\ {\isacharparenleft}{\kern0pt}insert{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ p\ G{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}Map{\isacharunderscore}{\kern0pt}lookup\ G\ {\isacharparenleft}{\kern0pt}fst\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ None\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ insert{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}def\ intro{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}update{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Some\ s{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}S{\isachardot}{\kern0pt}invar\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}def\ M{\isachardot}{\kern0pt}ran{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ insert{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}def\ Some\ intro{\isacharcolon}{\kern0pt}\ S{\isachardot}{\kern0pt}invar{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}insert\ invar{\isacharunderscore}{\kern0pt}update{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}insert{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}S{\isachardot}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}insert{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ p\ G{\isacharparenright}{\kern0pt}\ u{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ u{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}if\ u\ {\isacharequal}{\kern0pt}\ fst\ p\ then\ S{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}Map{\isacharunderscore}{\kern0pt}lookup\ G\ {\isacharparenleft}{\kern0pt}fst\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ None\isanewline
\ \ \isacommand{{\isacharbraceleft}{\kern0pt}}\isamarkupfalse%
\ \isacommand{fix}\isamarkupfalse%
\ v\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}insert{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ p\ G{\isacharparenright}{\kern0pt}\ u{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ \ \ \ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}update\ {\isacharparenleft}{\kern0pt}fst\ p{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}\ G{\isacharparenright}{\kern0pt}\ u{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ insert{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}def\ None{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}s{\isachardot}{\kern0pt}\ Map{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}update\ {\isacharparenleft}{\kern0pt}fst\ p{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}\ G{\isacharparenright}{\kern0pt}\ u\ {\isacharequal}{\kern0pt}\ Some\ s\ {\isasymand}\ v\ {\isasymin}\ S{\isachardot}{\kern0pt}set\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ mem{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}lookup{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}Some{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}s{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}lookup\ G{\isacharparenleft}{\kern0pt}fst\ p\ {\isasymmapsto}\ snd\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ u\ {\isacharequal}{\kern0pt}\ Some\ s\ {\isasymand}\ v\ {\isasymin}\ S{\isachardot}{\kern0pt}set\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ M{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}update\ dest{\isacharcolon}{\kern0pt}\ invarD{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ u{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}if\ u\ {\isacharequal}{\kern0pt}\ fst\ p\ then\ S{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ None\ mem{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}lookup{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}Some{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}insert{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ p\ G{\isacharparenright}{\kern0pt}\ u{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ \ \ \ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ u{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}if\ u\ {\isacharequal}{\kern0pt}\ fst\ p\ then\ S{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\ \isacommand{{\isacharbraceright}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Some\ s{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ invar{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}S{\isachardot}{\kern0pt}invar\ s{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}def\ M{\isachardot}{\kern0pt}ran{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}fold\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}fold\ Set{\isacharunderscore}{\kern0pt}insert\ {\isacharparenleft}{\kern0pt}Set{\isacharunderscore}{\kern0pt}inorder\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ s{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{{\isacharbraceleft}{\kern0pt}}\isamarkupfalse%
\ \isacommand{fix}\isamarkupfalse%
\ v\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}insert{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ p\ G{\isacharparenright}{\kern0pt}\ u{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ \ \ \ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}update\ {\isacharparenleft}{\kern0pt}fst\ p{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}fold\ G{\isacharparenright}{\kern0pt}\ u{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ insert{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}def\ Some{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}s{\isachardot}{\kern0pt}\ Map{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}update\ {\isacharparenleft}{\kern0pt}fst\ p{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}fold\ G{\isacharparenright}{\kern0pt}\ u\ {\isacharequal}{\kern0pt}\ Some\ s\ {\isasymand}\ v\ {\isasymin}\ S{\isachardot}{\kern0pt}set\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ mem{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}lookup{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}Some{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}s{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}lookup\ G{\isacharparenleft}{\kern0pt}fst\ p\ {\isasymmapsto}\ {\isacharquery}{\kern0pt}fold{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ u\ {\isacharequal}{\kern0pt}\ Some\ s\ {\isasymand}\ v\ {\isasymin}\ S{\isachardot}{\kern0pt}set\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ M{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}update\ dest{\isacharcolon}{\kern0pt}\ invarD{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ u{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}if\ u\ {\isacharequal}{\kern0pt}\ fst\ p\ then\ S{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ invar\ S{\isachardot}{\kern0pt}fold{\isacharunderscore}{\kern0pt}insert{\isacharunderscore}{\kern0pt}cong\ Some\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ S{\isachardot}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\ mem{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}lookup{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}Some{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}insert{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ p\ G{\isacharparenright}{\kern0pt}\ u{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ \ \ \ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ u{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}if\ u\ {\isacharequal}{\kern0pt}\ fst\ p\ then\ S{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\ \isacommand{{\isacharbraceright}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}insert{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}Ball\ {\isacharparenleft}{\kern0pt}set\ l{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}S{\isachardot}{\kern0pt}invar\ {\isasymcirc}\ snd{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}invar\ {\isacharparenleft}{\kern0pt}fold\ insert{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ l\ G{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ l\ arbitrary{\isacharcolon}{\kern0pt}\ G{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Nil\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Cons\ p\ ps{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}S{\isachardot}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}Ball\ {\isacharparenleft}{\kern0pt}set\ ps{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}S{\isachardot}{\kern0pt}invar\ {\isasymcirc}\ snd{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
{\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isachardot}{\kern0pt}prems{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ intro{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}insert{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ Cons{\isachardot}{\kern0pt}hyps{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}insert{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}Ball\ {\isacharparenleft}{\kern0pt}set\ l{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}S{\isachardot}{\kern0pt}invar\ {\isasymcirc}\ snd{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}fold\ insert{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ l\ G{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ v{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}{\isasymUnion}p{\isasymin}set\ l{\isachardot}{\kern0pt}\ if\ v\ {\isacharequal}{\kern0pt}\ fst\ p\ then\ S{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ l\ arbitrary{\isacharcolon}{\kern0pt}\ G{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Nil\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Cons\ p\ ps{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ prems{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}S{\isachardot}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}Ball\ {\isacharparenleft}{\kern0pt}set\ ps{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}S{\isachardot}{\kern0pt}invar\ {\isasymcirc}\ snd{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp{\isacharplus}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}fold\ insert{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ {\isacharparenleft}{\kern0pt}p\ {\isacharhash}{\kern0pt}\ ps{\isacharparenright}{\kern0pt}\ G{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}fold\ insert{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ ps\ {\isacharparenleft}{\kern0pt}insert{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ p\ G{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}insert{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ p\ G{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymUnion}p{\isasymin}set\ ps{\isachardot}{\kern0pt}\ if\ v\ {\isacharequal}{\kern0pt}\ fst\ p\ then\ S{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isachardot}{\kern0pt}prems{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ prems\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ invar{\isacharunderscore}{\kern0pt}insert{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ Cons{\isachardot}{\kern0pt}hyps{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ v{\isacharparenright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}if\ v\ {\isacharequal}{\kern0pt}\ fst\ p\ then\ S{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymUnion}p{\isasymin}set\ ps{\isachardot}{\kern0pt}\ if\ v\ {\isacharequal}{\kern0pt}\ fst\ p\ then\ S{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isachardot}{\kern0pt}prems{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ prems{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}insert{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ v{\isacharparenright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymUnion}p{\isasymin}set\ {\isacharparenleft}{\kern0pt}p\ {\isacharhash}{\kern0pt}\ ps{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ if\ v\ {\isacharequal}{\kern0pt}\ fst\ p\ then\ S{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ union\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}union\ G{\isadigit{1}}\ G{\isadigit{2}}\ {\isasymequiv}\ fold\ insert{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inorder\ G{\isadigit{2}}{\isacharparenright}{\kern0pt}\ G{\isadigit{1}}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}union{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}invar\ {\isacharparenleft}{\kern0pt}union\ G{\isadigit{1}}\ G{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}Ball\ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inorder\ G{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}S{\isachardot}{\kern0pt}invar\ {\isasymcirc}\ snd{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp\ add{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}def\ M{\isachardot}{\kern0pt}ran{\isacharunderscore}{\kern0pt}def\ M{\isachardot}{\kern0pt}mem{\isacharunderscore}{\kern0pt}inorder{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}lookup{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}Some{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ union{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ invar{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}insert{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}union{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}union\ G{\isadigit{1}}\ G{\isadigit{2}}{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G{\isadigit{1}}\ v{\isacharparenright}{\kern0pt}\ {\isasymunion}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G{\isadigit{2}}\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}Ball\ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inorder\ G{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}S{\isachardot}{\kern0pt}invar\ {\isasymcirc}\ snd{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp\ add{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}def\ M{\isachardot}{\kern0pt}ran{\isacharunderscore}{\kern0pt}def\ M{\isachardot}{\kern0pt}mem{\isacharunderscore}{\kern0pt}inorder{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}lookup{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}Some{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}union\ G{\isadigit{1}}\ G{\isadigit{2}}{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G{\isadigit{1}}\ v{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}{\isasymUnion}p{\isasymin}set\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inorder\ G{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ if\ v\ {\isacharequal}{\kern0pt}\ fst\ p\ then\ S{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ union{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ adjacency{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}insert{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G{\isadigit{1}}\ v{\isacharparenright}{\kern0pt}\ {\isasymunion}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G{\isadigit{2}}\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}inorder{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
Finally, let us look at how to compute the difference of two graphs.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{definition}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ delete{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ {\isasymtimes}\ {\isacharprime}{\kern0pt}s\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}delete{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ p\ G\ {\isasymequiv}\isanewline
\ \ \ let\ v\ {\isacharequal}{\kern0pt}\ fst\ p{\isacharsemicolon}{\kern0pt}\ s\ {\isacharequal}{\kern0pt}\ snd\ p\isanewline
\ \ \ in\ case\ Map{\isacharunderscore}{\kern0pt}lookup\ G\ v\ of\isanewline
\ \ \ \ \ \ \ \ None\ {\isasymRightarrow}\ G\ {\isacharbar}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ Some\ s{\isacharprime}{\kern0pt}\ {\isasymRightarrow}\ Map{\isacharunderscore}{\kern0pt}update\ v\ {\isacharparenleft}{\kern0pt}fold\ Set{\isacharunderscore}{\kern0pt}delete\ {\isacharparenleft}{\kern0pt}Set{\isacharunderscore}{\kern0pt}inorder\ s{\isacharparenright}{\kern0pt}\ s{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ G{\isachardoublequoteclose}\isanewline
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ Set{\isacharunderscore}{\kern0pt}by{\isacharunderscore}{\kern0pt}Ordered{\isacharparenright}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}delete{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ s{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}invar\ {\isacharparenleft}{\kern0pt}fold\ delete\ l\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ l\ arbitrary{\isacharcolon}{\kern0pt}\ s{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}delete{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ Set{\isacharunderscore}{\kern0pt}by{\isacharunderscore}{\kern0pt}Ordered{\isacharparenright}{\kern0pt}\ fold{\isacharunderscore}{\kern0pt}delete{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ s{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}fold\ delete\ l\ s{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ set\ s\ {\isacharminus}{\kern0pt}\ List{\isachardot}{\kern0pt}set\ l{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ l\ arbitrary{\isacharcolon}{\kern0pt}\ s{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Nil\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Cons\ x\ xs{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}fold\ delete\ {\isacharparenleft}{\kern0pt}x\ {\isacharhash}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}\ s{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}fold\ delete\ xs\ {\isacharparenleft}{\kern0pt}delete\ x\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}delete\ x\ s{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ List{\isachardot}{\kern0pt}set\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isachardot}{\kern0pt}prems\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ invar{\isacharunderscore}{\kern0pt}delete\ Cons{\isachardot}{\kern0pt}hyps{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ set\ s\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ List{\isachardot}{\kern0pt}set\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isachardot}{\kern0pt}prems\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}delete{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ set\ s\ {\isacharminus}{\kern0pt}\ List{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}x\ {\isacharhash}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}delete{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}invar\ {\isacharparenleft}{\kern0pt}delete{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ p\ G{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}Map{\isacharunderscore}{\kern0pt}lookup\ G\ {\isacharparenleft}{\kern0pt}fst\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ None\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ delete{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Some\ s{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}S{\isachardot}{\kern0pt}invar\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}def\ M{\isachardot}{\kern0pt}ran{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ delete{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}def\ Some\ intro{\isacharcolon}{\kern0pt}\ S{\isachardot}{\kern0pt}invar{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}delete\ invar{\isacharunderscore}{\kern0pt}update{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}delete{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}delete{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ p\ G{\isacharparenright}{\kern0pt}\ u{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ u{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}if\ u\ {\isacharequal}{\kern0pt}\ fst\ p\ then\ S{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}Map{\isacharunderscore}{\kern0pt}lookup\ G\ {\isacharparenleft}{\kern0pt}fst\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ None\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ delete{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Some\ s{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ invar{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}S{\isachardot}{\kern0pt}invar\ s{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}def\ M{\isachardot}{\kern0pt}ran{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}fold\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}fold\ Set{\isacharunderscore}{\kern0pt}delete\ {\isacharparenleft}{\kern0pt}Set{\isacharunderscore}{\kern0pt}inorder\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ s{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{{\isacharbraceleft}{\kern0pt}}\isamarkupfalse%
\ \isacommand{fix}\isamarkupfalse%
\ v\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}delete{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ p\ G{\isacharparenright}{\kern0pt}\ u{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ \ \ \ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}update\ {\isacharparenleft}{\kern0pt}fst\ p{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}fold\ G{\isacharparenright}{\kern0pt}\ u{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ delete{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}def\ Some{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}s{\isachardot}{\kern0pt}\ Map{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}update\ {\isacharparenleft}{\kern0pt}fst\ p{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}fold\ G{\isacharparenright}{\kern0pt}\ u\ {\isacharequal}{\kern0pt}\ Some\ s\ {\isasymand}\ v\ {\isasymin}\ S{\isachardot}{\kern0pt}set\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ mem{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}lookup{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}Some{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}s{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}lookup\ G{\isacharparenleft}{\kern0pt}fst\ p\ {\isasymmapsto}\ {\isacharquery}{\kern0pt}fold{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ u\ {\isacharequal}{\kern0pt}\ Some\ s\ {\isasymand}\ v\ {\isasymin}\ S{\isachardot}{\kern0pt}set\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ M{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}update\ dest{\isacharcolon}{\kern0pt}\ invarD{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ u{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}if\ u\ {\isacharequal}{\kern0pt}\ fst\ p\ then\ S{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ invar\ S{\isachardot}{\kern0pt}fold{\isacharunderscore}{\kern0pt}delete{\isacharunderscore}{\kern0pt}cong\ Some\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ S{\isachardot}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\ mem{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}lookup{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}Some{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}delete{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ p\ G{\isacharparenright}{\kern0pt}\ u{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ \ \ \ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ u{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}if\ u\ {\isacharequal}{\kern0pt}\ fst\ p\ then\ S{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\ \isacommand{{\isacharbraceright}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}delete{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}Ball\ {\isacharparenleft}{\kern0pt}set\ l{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}S{\isachardot}{\kern0pt}invar\ {\isasymcirc}\ snd{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}invar\ {\isacharparenleft}{\kern0pt}fold\ delete{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ l\ G{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ l\ arbitrary{\isacharcolon}{\kern0pt}\ G{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Nil\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Cons\ p\ ps{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}S{\isachardot}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}Ball\ {\isacharparenleft}{\kern0pt}set\ ps{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}S{\isachardot}{\kern0pt}invar\ {\isasymcirc}\ snd{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isachardot}{\kern0pt}prems{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ intro{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}delete{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ Cons{\isachardot}{\kern0pt}hyps{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}delete{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}Ball\ {\isacharparenleft}{\kern0pt}set\ l{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}S{\isachardot}{\kern0pt}invar\ {\isasymcirc}\ snd{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}fold\ delete{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ l\ G{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ v{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymUnion}p{\isasymin}set\ l{\isachardot}{\kern0pt}\ if\ v\ {\isacharequal}{\kern0pt}\ fst\ p\ then\ S{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ l\ arbitrary{\isacharcolon}{\kern0pt}\ G{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Nil\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Cons\ p\ ps{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ prems{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}S{\isachardot}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}Ball\ {\isacharparenleft}{\kern0pt}set\ ps{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}S{\isachardot}{\kern0pt}invar\ {\isasymcirc}\ snd{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp{\isacharplus}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}fold\ delete{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ {\isacharparenleft}{\kern0pt}p\ {\isacharhash}{\kern0pt}\ ps{\isacharparenright}{\kern0pt}\ G{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}fold\ delete{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ ps\ {\isacharparenleft}{\kern0pt}delete{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ p\ G{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}delete{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ p\ G{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymUnion}p{\isasymin}set\ ps{\isachardot}{\kern0pt}\ if\ v\ {\isacharequal}{\kern0pt}\ fst\ p\ then\ S{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isachardot}{\kern0pt}prems{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ prems\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ invar{\isacharunderscore}{\kern0pt}delete{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ Cons{\isachardot}{\kern0pt}hyps{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ v{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}if\ v\ {\isacharequal}{\kern0pt}\ fst\ p\ then\ S{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymUnion}p{\isasymin}set\ ps{\isachardot}{\kern0pt}\ if\ v\ {\isacharequal}{\kern0pt}\ fst\ p\ then\ S{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isachardot}{\kern0pt}prems{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ prems{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}delete{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ v{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymUnion}p{\isasymin}set\ {\isacharparenleft}{\kern0pt}p\ {\isacharhash}{\kern0pt}\ ps{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ if\ v\ {\isacharequal}{\kern0pt}\ fst\ p\ then\ S{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ difference\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}difference\ G{\isadigit{1}}\ G{\isadigit{2}}\ {\isasymequiv}\ fold\ delete{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inorder\ G{\isadigit{2}}{\isacharparenright}{\kern0pt}\ G{\isadigit{1}}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}difference{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}invar\ {\isacharparenleft}{\kern0pt}difference\ G{\isadigit{1}}\ G{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}Ball\ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inorder\ G{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}S{\isachardot}{\kern0pt}invar\ {\isasymcirc}\ snd{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp\ add{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}def\ M{\isachardot}{\kern0pt}ran{\isacharunderscore}{\kern0pt}def\ M{\isachardot}{\kern0pt}mem{\isacharunderscore}{\kern0pt}inorder{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}lookup{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}Some{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ difference{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ invar{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}delete{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}difference{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}difference\ G{\isadigit{1}}\ G{\isadigit{2}}{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G{\isadigit{1}}\ v{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G{\isadigit{2}}\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}Ball\ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inorder\ G{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}S{\isachardot}{\kern0pt}invar\ {\isasymcirc}\ snd{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp\ add{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}def\ M{\isachardot}{\kern0pt}ran{\isacharunderscore}{\kern0pt}def\ M{\isachardot}{\kern0pt}mem{\isacharunderscore}{\kern0pt}inorder{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}lookup{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}Some{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}difference\ G{\isadigit{1}}\ G{\isadigit{2}}{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G{\isadigit{1}}\ v{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymUnion}p{\isasymin}set\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inorder\ G{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ if\ v\ {\isacharequal}{\kern0pt}\ fst\ p\ then\ S{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ difference{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ adjacency{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}delete{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G{\isadigit{1}}\ v{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G{\isadigit{2}}\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}inorder{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
We show that our specifications of operations insert and delete satisfy all assumptions of locale
\isa{Finite{\isacharunderscore}{\kern0pt}Adjacency{\isacharunderscore}{\kern0pt}Structure}.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{context}\isamarkupfalse%
\ adjacency\isanewline
\isakeyword{begin}\isanewline
\isacommand{sublocale}\isamarkupfalse%
\ G{\isacharcolon}{\kern0pt}\ Finite{\isacharunderscore}{\kern0pt}Adjacency{\isacharunderscore}{\kern0pt}Structure\ \isakeyword{where}\isanewline
\ \ empty\ {\isacharequal}{\kern0pt}\ Map{\isacharunderscore}{\kern0pt}empty\ \isakeyword{and}\isanewline
\ \ insert\ {\isacharequal}{\kern0pt}\ insert{\isacharprime}{\kern0pt}\ \isakeyword{and}\isanewline
\ \ delete\ {\isacharequal}{\kern0pt}\ delete{\isacharprime}{\kern0pt}\ \isakeyword{and}\isanewline
\ \ adj\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymlambda}v\ G{\isachardot}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}list\ G\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ inv\ {\isacharequal}{\kern0pt}\ invar\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}standard{\isacharcomma}{\kern0pt}\ goal{\isacharunderscore}{\kern0pt}cases{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ v{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ M{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}empty{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{2}}\ G\ u\ v\ w{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ adjacency{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}insert{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}drule\ conjunct{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{3}}\ G\ u\ v\ w{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ adjacency{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}delete{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}drule\ conjunct{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{4}}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}empty\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{5}}\ G\ u\ v{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ invar{\isacharunderscore}{\kern0pt}insert{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}drule\ conjunct{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{6}}\ G\ u\ v{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ invar{\isacharunderscore}{\kern0pt}delete{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}drule\ conjunct{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{7}}\ G{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ finite{\isacharunderscore}{\kern0pt}subset{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}v{\isachardot}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}list\ G\ v\ {\isasymnoteq}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymsubseteq}\ M{\isachardot}{\kern0pt}dom\ G{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ M{\isachardot}{\kern0pt}mem{\isacharunderscore}{\kern0pt}dom{\isacharunderscore}{\kern0pt}iff\ split{\isacharcolon}{\kern0pt}\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}finite\ {\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{7}}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ M{\isachardot}{\kern0pt}finite{\isacharunderscore}{\kern0pt}dom{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}drule\ conjunct{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isacommand{end}\isamarkupfalse%
%
\isadeliminvisible
%
\endisadeliminvisible
%
\isataginvisible
%
\begin{isamarkuptext}%
In the following locale, we convert a graph specified as a \isa{Map{\isacharunderscore}{\kern0pt}by{\isacharunderscore}{\kern0pt}Ordered} mapping a vertex
to its adjacency, which is specified as a \isa{Set{\isacharunderscore}{\kern0pt}by{\isacharunderscore}{\kern0pt}Ordered}, to a graph specified as a
\isa{Set{\isacharunderscore}{\kern0pt}by{\isacharunderscore}{\kern0pt}Ordered} of edges. As of 2022-02-21, the locale is not used anywhere outside of this
theory.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{locale}\isamarkupfalse%
\ fukakyo\ {\isacharequal}{\kern0pt}\isanewline
\ \ G{\isacharcolon}{\kern0pt}\ adjacency\ \isakeyword{where}\ Map{\isacharunderscore}{\kern0pt}update\ {\isacharequal}{\kern0pt}\ Map{\isacharunderscore}{\kern0pt}update\ {\isacharplus}{\kern0pt}\isanewline
\ \ E{\isacharcolon}{\kern0pt}\ Set{\isacharunderscore}{\kern0pt}by{\isacharunderscore}{\kern0pt}Ordered\ \isakeyword{where}\isanewline
\ \ empty\ {\isacharequal}{\kern0pt}\ E{\isacharunderscore}{\kern0pt}empty\ \isakeyword{and}\isanewline
\ \ insert\ {\isacharequal}{\kern0pt}\ E{\isacharunderscore}{\kern0pt}insert\ \isakeyword{and}\isanewline
\ \ delete\ {\isacharequal}{\kern0pt}\ E{\isacharunderscore}{\kern0pt}delete\ \isakeyword{and}\isanewline
\ \ isin\ {\isacharequal}{\kern0pt}\ E{\isacharunderscore}{\kern0pt}isin\ \isakeyword{and}\isanewline
\ \ inorder\ {\isacharequal}{\kern0pt}\ E{\isacharunderscore}{\kern0pt}inorder\ \isakeyword{and}\isanewline
\ \ inv\ {\isacharequal}{\kern0pt}\ E{\isacharunderscore}{\kern0pt}inv\ \isakeyword{for}\isanewline
\ \ Map{\isacharunderscore}{\kern0pt}update\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}linorder\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}t\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ E{\isacharunderscore}{\kern0pt}empty\ \isakeyword{and}\isanewline
\ \ E{\isacharunderscore}{\kern0pt}insert\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ {\isasymtimes}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}s\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}s{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ E{\isacharunderscore}{\kern0pt}delete\ \isakeyword{and}\isanewline
\ \ E{\isacharunderscore}{\kern0pt}isin\ \isakeyword{and}\isanewline
\ \ E{\isacharunderscore}{\kern0pt}inorder\ \isakeyword{and}\isanewline
\ \ E{\isacharunderscore}{\kern0pt}inv\isanewline
\isakeyword{begin}\ %
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
%
\endisadeliminvisible
\ \isanewline
\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\ f\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}s\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}s{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}f\ u\ v\ {\isasymequiv}\ E{\isacharunderscore}{\kern0pt}insert\ {\isacharparenleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\ g\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ {\isasymtimes}\ {\isacharprime}{\kern0pt}t\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}s\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}s{\isachardoublequoteclose}\ \ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}g\ p\ {\isasymequiv}\ fold\ {\isacharparenleft}{\kern0pt}f\ {\isacharparenleft}{\kern0pt}fst\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Set{\isacharunderscore}{\kern0pt}inorder\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\ E\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}s{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}E\ G\ {\isasymequiv}\ fold\ g\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inorder\ G{\isacharparenright}{\kern0pt}\ E{\isacharunderscore}{\kern0pt}empty{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}f{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}E{\isachardot}{\kern0pt}invar\ s{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}E{\isachardot}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}f\ u\ v\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ E{\isachardot}{\kern0pt}invar{\isacharunderscore}{\kern0pt}insert{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}f{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}E{\isachardot}{\kern0pt}invar\ s{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}E{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}f\ u\ v\ s{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ E{\isachardot}{\kern0pt}set\ s\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ E{\isachardot}{\kern0pt}set{\isacharunderscore}{\kern0pt}insert{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}f{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}E{\isachardot}{\kern0pt}invar\ s{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}E{\isachardot}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}fold\ {\isacharparenleft}{\kern0pt}f\ u{\isacharparenright}{\kern0pt}\ l\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ l\ arbitrary{\isacharcolon}{\kern0pt}\ s{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}f{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}g{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}E{\isachardot}{\kern0pt}invar\ s{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}E{\isachardot}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}g\ p\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ invar{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}f{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}f{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}E{\isachardot}{\kern0pt}invar\ s{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}E{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}fold\ {\isacharparenleft}{\kern0pt}f\ u{\isacharparenright}{\kern0pt}\ l\ s{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ E{\isachardot}{\kern0pt}set\ s\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}u{\isacharbraceright}{\kern0pt}\ {\isasymtimes}\ set\ l{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ l\ arbitrary{\isacharcolon}{\kern0pt}\ s{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Nil\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Cons\ v\ vs{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}E{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}fold\ {\isacharparenleft}{\kern0pt}f\ u{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}v\ {\isacharhash}{\kern0pt}\ vs{\isacharparenright}{\kern0pt}\ s{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ E{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}fold\ {\isacharparenleft}{\kern0pt}f\ u{\isacharparenright}{\kern0pt}\ vs\ {\isacharparenleft}{\kern0pt}f\ u\ v\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ E{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}f\ u\ v\ s{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}u{\isacharbraceright}{\kern0pt}\ {\isasymtimes}\ set\ vs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isachardot}{\kern0pt}prems\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ invar{\isacharunderscore}{\kern0pt}f\ Cons{\isachardot}{\kern0pt}hyps{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ E{\isachardot}{\kern0pt}set\ s\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}u{\isacharbraceright}{\kern0pt}\ {\isasymtimes}\ set\ vs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isachardot}{\kern0pt}prems\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}f{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ E{\isachardot}{\kern0pt}set\ s\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}u{\isacharbraceright}{\kern0pt}\ {\isasymtimes}\ set\ {\isacharparenleft}{\kern0pt}v\ {\isacharhash}{\kern0pt}\ vs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}g{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}E{\isachardot}{\kern0pt}invar\ s{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}E{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}g\ p\ s{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ E{\isachardot}{\kern0pt}set\ s\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}fst\ p{\isacharbraceright}{\kern0pt}\ {\isasymtimes}\ G{\isachardot}{\kern0pt}S{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}f{\isacharunderscore}{\kern0pt}cong\ G{\isachardot}{\kern0pt}S{\isachardot}{\kern0pt}set{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}g{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}E{\isachardot}{\kern0pt}invar\ s{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}E{\isachardot}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}fold\ g\ l\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ l\ arbitrary{\isacharcolon}{\kern0pt}\ s{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}g{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}E{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}E{\isachardot}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}E\ G{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ E{\isachardot}{\kern0pt}invar{\isacharunderscore}{\kern0pt}empty\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ invar{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}g{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}g{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}E{\isachardot}{\kern0pt}invar\ s{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}E{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}fold\ g\ l\ s{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ E{\isachardot}{\kern0pt}set\ s\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}{\isasymUnion}p{\isasymin}set\ l{\isachardot}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}fst\ p{\isacharbraceright}{\kern0pt}\ {\isasymtimes}\ G{\isachardot}{\kern0pt}S{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ l\ arbitrary{\isacharcolon}{\kern0pt}\ s{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Nil\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Cons\ p\ ps{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}E{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}fold\ g\ {\isacharparenleft}{\kern0pt}p\ {\isacharhash}{\kern0pt}\ ps{\isacharparenright}{\kern0pt}\ s{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ E{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}fold\ g\ ps\ {\isacharparenleft}{\kern0pt}g\ p\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ E{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}g\ p\ s{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}{\isasymUnion}p{\isasymin}set\ ps{\isachardot}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}fst\ p{\isacharbraceright}{\kern0pt}\ {\isasymtimes}\ G{\isachardot}{\kern0pt}S{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isachardot}{\kern0pt}prems\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ invar{\isacharunderscore}{\kern0pt}g\ Cons{\isachardot}{\kern0pt}hyps{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ E{\isachardot}{\kern0pt}set\ s\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}fst\ p{\isacharbraceright}{\kern0pt}\ {\isasymtimes}\ G{\isachardot}{\kern0pt}S{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}{\isasymUnion}p{\isasymin}set\ ps{\isachardot}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}fst\ p{\isacharbraceright}{\kern0pt}\ {\isasymtimes}\ G{\isachardot}{\kern0pt}S{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isachardot}{\kern0pt}prems\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}g{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ E{\isachardot}{\kern0pt}set\ s\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}{\isasymUnion}q{\isasymin}set\ {\isacharparenleft}{\kern0pt}p\ {\isacharhash}{\kern0pt}\ ps{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}fst\ q{\isacharbraceright}{\kern0pt}\ {\isasymtimes}\ G{\isachardot}{\kern0pt}S{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}snd\ q{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}E{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}E{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}E\ G{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ u{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ E{\isachardot}{\kern0pt}invar{\isacharunderscore}{\kern0pt}empty\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ G{\isachardot}{\kern0pt}mem{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}inorder\ set{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}g{\isacharunderscore}{\kern0pt}cong\ E{\isachardot}{\kern0pt}set{\isacharunderscore}{\kern0pt}empty{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{end}\isamarkupfalse%
%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimtheory
\isanewline
%
\endisadelimtheory
%
\isatagtheory
\isacommand{end}\isamarkupfalse%
%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\end{isabellebody}%
\endinput
%:%file=~/Documents/1_projects/2022_idp/thys/Graph/Adjacency/Adjacency.thy%:%
%:%11=1%:%
%:%23=4%:%
%:%24=5%:%
%:%25=6%:%
%:%26=7%:%
%:%27=8%:%
%:%36=11%:%
%:%52=13%:%
%:%53=13%:%
%:%54=14%:%
%:%55=15%:%
%:%56=16%:%
%:%57=17%:%
%:%58=18%:%
%:%69=22%:%
%:%70=22%:%
%:%71=23%:%
%:%72=24%:%
%:%73=25%:%
%:%74=26%:%
%:%75=27%:%
%:%76=28%:%
%:%77=29%:%
%:%78=30%:%
%:%79=31%:%
%:%80=32%:%
%:%81=33%:%
%:%82=34%:%
%:%83=35%:%
%:%84=36%:%
%:%85=37%:%
%:%88=38%:%
%:%93=39%:%
%:%94=39%:%
%:%95=40%:%
%:%96=41%:%
%:%97=42%:%
%:%98=42%:%
%:%99=43%:%
%:%100=44%:%
%:%101=45%:%
%:%102=46%:%
%:%107=46%:%
%:%112=47%:%
%:%116=47%:%
%:%117=47%:%
%:%118=48%:%
%:%119=48%:%
%:%124=48%:%
%:%129=49%:%
%:%134=50%:%
%:%135=50%:%
%:%136=51%:%
%:%141=51%:%
%:%146=52%:%
%:%150=52%:%
%:%151=52%:%
%:%152=53%:%
%:%153=53%:%
%:%158=53%:%
%:%163=54%:%
%:%168=55%:%
%:%169=55%:%
%:%170=56%:%
%:%171=57%:%
%:%176=57%:%
%:%181=58%:%
%:%185=58%:%
%:%186=58%:%
%:%187=59%:%
%:%188=59%:%
%:%193=59%:%
%:%198=60%:%
%:%203=61%:%
%:%204=61%:%
%:%205=62%:%
%:%206=63%:%
%:%211=63%:%
%:%216=64%:%
%:%220=64%:%
%:%221=64%:%
%:%222=65%:%
%:%223=65%:%
%:%228=65%:%
%:%233=66%:%
%:%238=67%:%
%:%239=67%:%
%:%240=68%:%
%:%241=69%:%
%:%246=69%:%
%:%251=70%:%
%:%255=70%:%
%:%256=70%:%
%:%257=71%:%
%:%258=71%:%
%:%263=71%:%
%:%266=72%:%
%:%267=73%:%
%:%268=73%:%
%:%269=74%:%
%:%270=75%:%
%:%271=76%:%
%:%272=77%:%
%:%273=77%:%
%:%274=78%:%
%:%275=79%:%
%:%276=80%:%
%:%277=81%:%
%:%278=82%:%
%:%279=83%:%
%:%280=84%:%
%:%281=85%:%
%:%282=86%:%
%:%283=87%:%
%:%284=88%:%
%:%285=89%:%
%:%286=90%:%
%:%287=90%:%
%:%288=91%:%
%:%289=92%:%
%:%291=95%:%
%:%292=96%:%
%:%294=100%:%
%:%295=100%:%
%:%296=101%:%
%:%297=102%:%
%:%298=103%:%
%:%299=104%:%
%:%300=105%:%
%:%301=106%:%
%:%302=107%:%
%:%303=108%:%
%:%304=109%:%
%:%305=110%:%
%:%306=111%:%
%:%307=112%:%
%:%308=113%:%
%:%309=114%:%
%:%310=115%:%
%:%311=116%:%
%:%312=117%:%
%:%313=118%:%
%:%314=119%:%
%:%315=120%:%
%:%316=121%:%
%:%317=122%:%
%:%318=123%:%
%:%319=124%:%
%:%320=125%:%
%:%321=126%:%
%:%322=127%:%
%:%323=128%:%
%:%324=128%:%
%:%325=129%:%
%:%328=130%:%
%:%333=131%:%
%:%334=131%:%
%:%335=132%:%
%:%336=133%:%
%:%337=134%:%
%:%338=135%:%
%:%343=135%:%
%:%348=136%:%
%:%352=136%:%
%:%353=136%:%
%:%354=137%:%
%:%355=137%:%
%:%360=137%:%
%:%365=138%:%
%:%370=139%:%
%:%371=139%:%
%:%372=140%:%
%:%377=140%:%
%:%382=141%:%
%:%386=141%:%
%:%387=141%:%
%:%388=142%:%
%:%389=142%:%
%:%390=143%:%
%:%391=143%:%
%:%392=144%:%
%:%393=144%:%
%:%394=145%:%
%:%395=145%:%
%:%396=146%:%
%:%397=146%:%
%:%398=147%:%
%:%399=147%:%
%:%400=148%:%
%:%401=148%:%
%:%402=149%:%
%:%403=149%:%
%:%404=150%:%
%:%405=150%:%
%:%406=151%:%
%:%412=151%:%
%:%417=152%:%
%:%422=153%:%
%:%423=153%:%
%:%424=154%:%
%:%425=155%:%
%:%426=156%:%
%:%431=156%:%
%:%436=157%:%
%:%440=157%:%
%:%441=157%:%
%:%442=158%:%
%:%443=158%:%
%:%444=159%:%
%:%445=159%:%
%:%446=160%:%
%:%447=160%:%
%:%448=161%:%
%:%449=161%:%
%:%450=162%:%
%:%451=162%:%
%:%452=163%:%
%:%453=163%:%
%:%454=164%:%
%:%455=164%:%
%:%456=165%:%
%:%457=165%:%
%:%458=166%:%
%:%459=166%:%
%:%460=167%:%
%:%461=167%:%
%:%462=168%:%
%:%463=168%:%
%:%464=169%:%
%:%465=169%:%
%:%466=169%:%
%:%467=170%:%
%:%468=171%:%
%:%469=171%:%
%:%470=172%:%
%:%471=172%:%
%:%472=173%:%
%:%473=173%:%
%:%474=174%:%
%:%475=174%:%
%:%476=175%:%
%:%477=175%:%
%:%478=176%:%
%:%479=176%:%
%:%480=177%:%
%:%486=177%:%
%:%489=178%:%
%:%490=179%:%
%:%491=179%:%
%:%492=180%:%
%:%493=181%:%
%:%494=182%:%
%:%495=182%:%
%:%496=183%:%
%:%499=184%:%
%:%503=184%:%
%:%504=184%:%
%:%505=185%:%
%:%511=185%:%
%:%514=186%:%
%:%515=187%:%
%:%516=187%:%
%:%517=188%:%
%:%518=189%:%
%:%521=190%:%
%:%525=190%:%
%:%526=190%:%
%:%527=191%:%
%:%528=191%:%
%:%529=192%:%
%:%530=192%:%
%:%535=192%:%
%:%540=193%:%
%:%545=194%:%
%:%546=194%:%
%:%547=195%:%
%:%552=195%:%
%:%557=196%:%
%:%561=196%:%
%:%562=196%:%
%:%567=196%:%
%:%572=197%:%
%:%577=198%:%
%:%578=198%:%
%:%579=199%:%
%:%580=200%:%
%:%581=201%:%
%:%582=202%:%
%:%587=202%:%
%:%592=203%:%
%:%596=203%:%
%:%597=203%:%
%:%598=204%:%
%:%599=204%:%
%:%604=204%:%
%:%609=205%:%
%:%614=206%:%
%:%615=206%:%
%:%616=207%:%
%:%617=208%:%
%:%622=208%:%
%:%631=209%:%
%:%632=209%:%
%:%633=210%:%
%:%634=210%:%
%:%635=211%:%
%:%636=211%:%
%:%637=211%:%
%:%638=212%:%
%:%639=213%:%
%:%640=214%:%
%:%641=214%:%
%:%642=215%:%
%:%643=215%:%
%:%644=216%:%
%:%645=216%:%
%:%646=217%:%
%:%647=217%:%
%:%648=218%:%
%:%649=218%:%
%:%650=219%:%
%:%651=219%:%
%:%652=220%:%
%:%653=220%:%
%:%654=220%:%
%:%655=221%:%
%:%656=222%:%
%:%657=222%:%
%:%658=223%:%
%:%659=223%:%
%:%660=224%:%
%:%661=224%:%
%:%662=225%:%
%:%663=225%:%
%:%664=226%:%
%:%665=226%:%
%:%666=227%:%
%:%667=227%:%
%:%668=228%:%
%:%674=228%:%
%:%679=229%:%
%:%684=230%:%
%:%685=230%:%
%:%686=231%:%
%:%687=232%:%
%:%692=232%:%
%:%701=233%:%
%:%702=233%:%
%:%703=234%:%
%:%704=234%:%
%:%705=234%:%
%:%706=235%:%
%:%707=235%:%
%:%708=236%:%
%:%709=236%:%
%:%710=237%:%
%:%711=237%:%
%:%712=238%:%
%:%713=238%:%
%:%714=238%:%
%:%715=239%:%
%:%716=239%:%
%:%717=240%:%
%:%718=240%:%
%:%719=240%:%
%:%720=241%:%
%:%721=241%:%
%:%722=242%:%
%:%723=242%:%
%:%724=242%:%
%:%725=243%:%
%:%726=244%:%
%:%727=245%:%
%:%728=245%:%
%:%729=245%:%
%:%730=246%:%
%:%731=246%:%
%:%732=247%:%
%:%733=247%:%
%:%734=248%:%
%:%744=251%:%
%:%745=252%:%
%:%749=258%:%
%:%750=259%:%
%:%751=260%:%
%:%753=263%:%
%:%754=263%:%
%:%755=264%:%
%:%758=267%:%
%:%759=268%:%
%:%760=269%:%
%:%761=269%:%
%:%762=270%:%
%:%763=271%:%
%:%770=272%:%
%:%771=272%:%
%:%772=273%:%
%:%773=273%:%
%:%774=274%:%
%:%775=274%:%
%:%776=275%:%
%:%777=275%:%
%:%778=276%:%
%:%779=276%:%
%:%780=277%:%
%:%781=277%:%
%:%782=278%:%
%:%783=278%:%
%:%784=279%:%
%:%785=279%:%
%:%786=280%:%
%:%787=280%:%
%:%788=281%:%
%:%789=281%:%
%:%790=282%:%
%:%791=282%:%
%:%792=283%:%
%:%793=283%:%
%:%794=284%:%
%:%795=284%:%
%:%796=285%:%
%:%802=285%:%
%:%805=286%:%
%:%806=287%:%
%:%807=287%:%
%:%808=288%:%
%:%809=289%:%
%:%810=290%:%
%:%811=291%:%
%:%818=292%:%
%:%819=292%:%
%:%820=293%:%
%:%821=293%:%
%:%822=294%:%
%:%823=294%:%
%:%824=295%:%
%:%825=295%:%
%:%826=296%:%
%:%827=296%:%
%:%828=297%:%
%:%829=297%:%
%:%830=298%:%
%:%831=299%:%
%:%832=300%:%
%:%833=300%:%
%:%834=301%:%
%:%835=301%:%
%:%836=301%:%
%:%837=302%:%
%:%838=302%:%
%:%839=303%:%
%:%840=303%:%
%:%841=303%:%
%:%842=304%:%
%:%843=304%:%
%:%844=305%:%
%:%845=305%:%
%:%846=306%:%
%:%847=306%:%
%:%848=306%:%
%:%849=307%:%
%:%850=307%:%
%:%851=308%:%
%:%852=308%:%
%:%853=309%:%
%:%854=309%:%
%:%855=310%:%
%:%856=311%:%
%:%857=312%:%
%:%858=312%:%
%:%859=313%:%
%:%860=313%:%
%:%861=314%:%
%:%862=314%:%
%:%863=315%:%
%:%864=315%:%
%:%865=316%:%
%:%866=316%:%
%:%867=317%:%
%:%868=317%:%
%:%869=318%:%
%:%870=318%:%
%:%871=318%:%
%:%872=319%:%
%:%873=319%:%
%:%874=320%:%
%:%875=320%:%
%:%876=321%:%
%:%877=321%:%
%:%878=321%:%
%:%879=322%:%
%:%880=322%:%
%:%881=323%:%
%:%882=323%:%
%:%883=324%:%
%:%884=324%:%
%:%885=325%:%
%:%886=325%:%
%:%887=326%:%
%:%888=326%:%
%:%889=327%:%
%:%890=327%:%
%:%891=328%:%
%:%892=328%:%
%:%893=329%:%
%:%894=329%:%
%:%895=330%:%
%:%896=330%:%
%:%897=331%:%
%:%898=331%:%
%:%899=332%:%
%:%900=333%:%
%:%901=334%:%
%:%902=334%:%
%:%903=335%:%
%:%904=335%:%
%:%905=335%:%
%:%906=336%:%
%:%907=336%:%
%:%908=337%:%
%:%909=337%:%
%:%910=337%:%
%:%911=338%:%
%:%912=338%:%
%:%913=339%:%
%:%914=339%:%
%:%915=340%:%
%:%916=340%:%
%:%917=340%:%
%:%918=341%:%
%:%919=341%:%
%:%920=342%:%
%:%921=342%:%
%:%922=343%:%
%:%923=343%:%
%:%924=344%:%
%:%925=345%:%
%:%926=346%:%
%:%927=346%:%
%:%928=347%:%
%:%929=347%:%
%:%930=348%:%
%:%931=348%:%
%:%932=349%:%
%:%933=349%:%
%:%934=350%:%
%:%935=350%:%
%:%936=351%:%
%:%937=351%:%
%:%938=352%:%
%:%939=352%:%
%:%940=352%:%
%:%941=353%:%
%:%942=353%:%
%:%943=354%:%
%:%944=354%:%
%:%945=355%:%
%:%946=355%:%
%:%947=355%:%
%:%948=356%:%
%:%949=356%:%
%:%950=357%:%
%:%956=357%:%
%:%959=358%:%
%:%960=359%:%
%:%961=359%:%
%:%962=360%:%
%:%963=361%:%
%:%964=362%:%
%:%965=363%:%
%:%972=364%:%
%:%973=364%:%
%:%974=365%:%
%:%975=365%:%
%:%976=366%:%
%:%977=366%:%
%:%978=367%:%
%:%979=367%:%
%:%980=367%:%
%:%981=368%:%
%:%982=368%:%
%:%983=369%:%
%:%984=370%:%
%:%985=371%:%
%:%986=371%:%
%:%987=372%:%
%:%988=372%:%
%:%989=372%:%
%:%990=373%:%
%:%991=373%:%
%:%992=374%:%
%:%993=374%:%
%:%994=374%:%
%:%995=375%:%
%:%996=375%:%
%:%997=376%:%
%:%998=376%:%
%:%999=377%:%
%:%1000=377%:%
%:%1001=377%:%
%:%1002=378%:%
%:%1003=378%:%
%:%1004=379%:%
%:%1005=379%:%
%:%1006=380%:%
%:%1007=380%:%
%:%1008=380%:%
%:%1009=381%:%
%:%1010=382%:%
%:%1011=383%:%
%:%1012=383%:%
%:%1013=383%:%
%:%1014=384%:%
%:%1015=384%:%
%:%1016=385%:%
%:%1017=385%:%
%:%1018=386%:%
%:%1019=386%:%
%:%1020=387%:%
%:%1021=387%:%
%:%1022=388%:%
%:%1023=388%:%
%:%1024=389%:%
%:%1025=389%:%
%:%1026=390%:%
%:%1027=390%:%
%:%1028=391%:%
%:%1029=391%:%
%:%1030=392%:%
%:%1031=392%:%
%:%1032=392%:%
%:%1033=393%:%
%:%1034=393%:%
%:%1035=394%:%
%:%1036=395%:%
%:%1037=396%:%
%:%1038=396%:%
%:%1039=397%:%
%:%1040=397%:%
%:%1041=397%:%
%:%1042=398%:%
%:%1043=398%:%
%:%1044=399%:%
%:%1045=399%:%
%:%1046=399%:%
%:%1047=400%:%
%:%1048=400%:%
%:%1049=401%:%
%:%1050=401%:%
%:%1051=402%:%
%:%1052=402%:%
%:%1053=402%:%
%:%1054=403%:%
%:%1055=403%:%
%:%1056=404%:%
%:%1057=404%:%
%:%1058=405%:%
%:%1059=405%:%
%:%1060=405%:%
%:%1061=406%:%
%:%1062=407%:%
%:%1063=408%:%
%:%1064=408%:%
%:%1065=408%:%
%:%1066=409%:%
%:%1067=409%:%
%:%1068=410%:%
%:%1069=410%:%
%:%1070=411%:%
%:%1076=411%:%
%:%1079=412%:%
%:%1080=413%:%
%:%1081=413%:%
%:%1082=414%:%
%:%1083=415%:%
%:%1086=416%:%
%:%1090=416%:%
%:%1091=416%:%
%:%1092=417%:%
%:%1093=417%:%
%:%1094=418%:%
%:%1095=418%:%
%:%1096=419%:%
%:%1097=419%:%
%:%1098=420%:%
%:%1099=420%:%
%:%1100=421%:%
%:%1101=421%:%
%:%1102=422%:%
%:%1103=422%:%
%:%1104=423%:%
%:%1105=423%:%
%:%1106=424%:%
%:%1107=424%:%
%:%1108=425%:%
%:%1114=425%:%
%:%1117=426%:%
%:%1118=427%:%
%:%1119=427%:%
%:%1120=428%:%
%:%1121=429%:%
%:%1122=430%:%
%:%1123=431%:%
%:%1126=432%:%
%:%1130=432%:%
%:%1131=432%:%
%:%1132=433%:%
%:%1133=433%:%
%:%1134=434%:%
%:%1135=434%:%
%:%1136=435%:%
%:%1137=435%:%
%:%1138=436%:%
%:%1139=436%:%
%:%1140=437%:%
%:%1141=437%:%
%:%1142=438%:%
%:%1143=438%:%
%:%1144=439%:%
%:%1145=439%:%
%:%1146=440%:%
%:%1147=441%:%
%:%1148=442%:%
%:%1149=442%:%
%:%1150=443%:%
%:%1151=443%:%
%:%1152=443%:%
%:%1153=444%:%
%:%1155=446%:%
%:%1156=447%:%
%:%1157=447%:%
%:%1158=448%:%
%:%1159=448%:%
%:%1160=449%:%
%:%1161=449%:%
%:%1162=449%:%
%:%1163=450%:%
%:%1166=453%:%
%:%1167=454%:%
%:%1168=454%:%
%:%1169=455%:%
%:%1170=455%:%
%:%1171=456%:%
%:%1172=456%:%
%:%1173=456%:%
%:%1174=457%:%
%:%1175=457%:%
%:%1176=458%:%
%:%1177=458%:%
%:%1178=458%:%
%:%1179=459%:%
%:%1180=459%:%
%:%1181=460%:%
%:%1187=460%:%
%:%1190=461%:%
%:%1191=462%:%
%:%1192=462%:%
%:%1193=463%:%
%:%1194=464%:%
%:%1195=465%:%
%:%1196=465%:%
%:%1197=466%:%
%:%1198=467%:%
%:%1201=468%:%
%:%1205=468%:%
%:%1206=468%:%
%:%1207=469%:%
%:%1208=469%:%
%:%1213=469%:%
%:%1216=470%:%
%:%1217=471%:%
%:%1218=471%:%
%:%1219=472%:%
%:%1220=473%:%
%:%1221=474%:%
%:%1222=475%:%
%:%1225=476%:%
%:%1229=476%:%
%:%1230=476%:%
%:%1231=477%:%
%:%1232=477%:%
%:%1237=477%:%
%:%1240=478%:%
%:%1241=479%:%
%:%1242=479%:%
%:%1243=480%:%
%:%1244=481%:%
%:%1245=482%:%
%:%1246=483%:%
%:%1249=484%:%
%:%1253=484%:%
%:%1254=484%:%
%:%1255=485%:%
%:%1256=485%:%
%:%1261=485%:%
%:%1264=486%:%
%:%1265=487%:%
%:%1266=487%:%
%:%1267=488%:%
%:%1268=489%:%
%:%1271=490%:%
%:%1275=490%:%
%:%1276=490%:%
%:%1277=491%:%
%:%1278=491%:%
%:%1279=492%:%
%:%1280=492%:%
%:%1281=493%:%
%:%1282=493%:%
%:%1283=494%:%
%:%1284=494%:%
%:%1285=495%:%
%:%1286=495%:%
%:%1287=496%:%
%:%1288=496%:%
%:%1289=497%:%
%:%1290=497%:%
%:%1291=498%:%
%:%1292=498%:%
%:%1293=499%:%
%:%1299=499%:%
%:%1302=500%:%
%:%1303=501%:%
%:%1304=501%:%
%:%1305=502%:%
%:%1306=503%:%
%:%1307=504%:%
%:%1308=505%:%
%:%1311=506%:%
%:%1315=506%:%
%:%1316=506%:%
%:%1317=507%:%
%:%1318=507%:%
%:%1319=508%:%
%:%1320=508%:%
%:%1321=509%:%
%:%1322=509%:%
%:%1323=510%:%
%:%1324=510%:%
%:%1325=511%:%
%:%1326=511%:%
%:%1327=512%:%
%:%1328=512%:%
%:%1329=513%:%
%:%1330=513%:%
%:%1331=514%:%
%:%1332=515%:%
%:%1333=516%:%
%:%1334=516%:%
%:%1335=517%:%
%:%1336=517%:%
%:%1337=517%:%
%:%1338=518%:%
%:%1339=518%:%
%:%1340=519%:%
%:%1341=519%:%
%:%1342=520%:%
%:%1343=520%:%
%:%1344=520%:%
%:%1345=521%:%
%:%1348=524%:%
%:%1349=525%:%
%:%1350=525%:%
%:%1351=526%:%
%:%1352=526%:%
%:%1353=527%:%
%:%1354=527%:%
%:%1355=527%:%
%:%1356=528%:%
%:%1357=528%:%
%:%1358=529%:%
%:%1359=529%:%
%:%1360=529%:%
%:%1361=530%:%
%:%1362=530%:%
%:%1363=531%:%
%:%1373=533%:%
%:%1375=535%:%
%:%1376=535%:%
%:%1377=536%:%
%:%1380=539%:%
%:%1381=540%:%
%:%1382=541%:%
%:%1383=541%:%
%:%1384=542%:%
%:%1385=543%:%
%:%1392=544%:%
%:%1393=544%:%
%:%1394=545%:%
%:%1395=545%:%
%:%1396=546%:%
%:%1397=546%:%
%:%1398=547%:%
%:%1399=547%:%
%:%1400=548%:%
%:%1401=548%:%
%:%1402=549%:%
%:%1403=549%:%
%:%1404=550%:%
%:%1405=550%:%
%:%1406=551%:%
%:%1407=551%:%
%:%1408=552%:%
%:%1409=552%:%
%:%1410=553%:%
%:%1411=553%:%
%:%1412=554%:%
%:%1413=554%:%
%:%1414=555%:%
%:%1415=555%:%
%:%1416=556%:%
%:%1417=556%:%
%:%1418=557%:%
%:%1424=557%:%
%:%1427=558%:%
%:%1428=559%:%
%:%1429=559%:%
%:%1430=560%:%
%:%1431=561%:%
%:%1432=562%:%
%:%1433=563%:%
%:%1440=564%:%
%:%1441=564%:%
%:%1442=565%:%
%:%1443=565%:%
%:%1444=566%:%
%:%1445=566%:%
%:%1446=567%:%
%:%1447=567%:%
%:%1448=568%:%
%:%1449=568%:%
%:%1450=569%:%
%:%1451=569%:%
%:%1452=570%:%
%:%1453=571%:%
%:%1454=572%:%
%:%1455=572%:%
%:%1456=573%:%
%:%1457=573%:%
%:%1458=573%:%
%:%1459=574%:%
%:%1460=574%:%
%:%1461=575%:%
%:%1462=575%:%
%:%1463=575%:%
%:%1464=576%:%
%:%1465=576%:%
%:%1466=577%:%
%:%1467=577%:%
%:%1468=577%:%
%:%1469=578%:%
%:%1470=578%:%
%:%1471=579%:%
%:%1472=579%:%
%:%1473=580%:%
%:%1474=580%:%
%:%1475=581%:%
%:%1476=581%:%
%:%1477=582%:%
%:%1478=582%:%
%:%1479=583%:%
%:%1480=583%:%
%:%1481=584%:%
%:%1482=584%:%
%:%1483=585%:%
%:%1484=585%:%
%:%1485=586%:%
%:%1486=586%:%
%:%1487=587%:%
%:%1488=587%:%
%:%1489=588%:%
%:%1490=589%:%
%:%1491=590%:%
%:%1492=590%:%
%:%1493=591%:%
%:%1494=591%:%
%:%1495=591%:%
%:%1496=592%:%
%:%1497=592%:%
%:%1498=593%:%
%:%1499=593%:%
%:%1500=593%:%
%:%1501=594%:%
%:%1502=594%:%
%:%1503=595%:%
%:%1504=595%:%
%:%1505=596%:%
%:%1506=596%:%
%:%1507=596%:%
%:%1508=597%:%
%:%1509=597%:%
%:%1510=598%:%
%:%1511=598%:%
%:%1512=599%:%
%:%1513=599%:%
%:%1514=600%:%
%:%1515=601%:%
%:%1516=602%:%
%:%1517=602%:%
%:%1518=603%:%
%:%1519=603%:%
%:%1520=604%:%
%:%1521=604%:%
%:%1522=605%:%
%:%1523=605%:%
%:%1524=606%:%
%:%1525=606%:%
%:%1526=607%:%
%:%1527=607%:%
%:%1528=608%:%
%:%1529=608%:%
%:%1530=608%:%
%:%1531=609%:%
%:%1532=609%:%
%:%1533=610%:%
%:%1534=610%:%
%:%1535=611%:%
%:%1536=611%:%
%:%1537=611%:%
%:%1538=612%:%
%:%1539=612%:%
%:%1540=613%:%
%:%1546=613%:%
%:%1549=614%:%
%:%1550=615%:%
%:%1551=615%:%
%:%1552=616%:%
%:%1553=617%:%
%:%1554=618%:%
%:%1555=618%:%
%:%1556=619%:%
%:%1557=620%:%
%:%1560=621%:%
%:%1564=621%:%
%:%1565=621%:%
%:%1566=622%:%
%:%1567=622%:%
%:%1572=622%:%
%:%1575=623%:%
%:%1576=624%:%
%:%1577=624%:%
%:%1578=625%:%
%:%1579=626%:%
%:%1580=627%:%
%:%1581=628%:%
%:%1584=629%:%
%:%1588=629%:%
%:%1589=629%:%
%:%1590=630%:%
%:%1591=630%:%
%:%1600=632%:%
%:%1602=634%:%
%:%1603=634%:%
%:%1604=635%:%
%:%1607=638%:%
%:%1610=639%:%
%:%1615=640%:%
%:%1616=640%:%
%:%1617=641%:%
%:%1618=642%:%
%:%1623=642%:%
%:%1628=643%:%
%:%1632=643%:%
%:%1633=643%:%
%:%1634=644%:%
%:%1635=644%:%
%:%1640=644%:%
%:%1645=645%:%
%:%1650=646%:%
%:%1651=646%:%
%:%1652=647%:%
%:%1653=648%:%
%:%1658=648%:%
%:%1663=649%:%
%:%1667=649%:%
%:%1668=649%:%
%:%1669=650%:%
%:%1670=650%:%
%:%1671=651%:%
%:%1672=651%:%
%:%1673=652%:%
%:%1674=652%:%
%:%1675=653%:%
%:%1676=653%:%
%:%1677=654%:%
%:%1678=654%:%
%:%1679=655%:%
%:%1680=655%:%
%:%1681=656%:%
%:%1682=656%:%
%:%1683=657%:%
%:%1684=657%:%
%:%1685=658%:%
%:%1686=658%:%
%:%1687=658%:%
%:%1688=659%:%
%:%1689=659%:%
%:%1690=660%:%
%:%1691=660%:%
%:%1692=661%:%
%:%1693=661%:%
%:%1694=661%:%
%:%1695=662%:%
%:%1696=662%:%
%:%1697=663%:%
%:%1698=663%:%
%:%1699=664%:%
%:%1700=664%:%
%:%1701=664%:%
%:%1702=665%:%
%:%1703=665%:%
%:%1704=666%:%
%:%1705=666%:%
%:%1706=666%:%
%:%1707=667%:%
%:%1708=667%:%
%:%1709=668%:%
%:%1715=668%:%
%:%1718=669%:%
%:%1719=670%:%
%:%1720=670%:%
%:%1721=671%:%
%:%1722=672%:%
%:%1723=673%:%
%:%1730=674%:%
%:%1731=674%:%
%:%1732=675%:%
%:%1733=675%:%
%:%1734=676%:%
%:%1735=676%:%
%:%1736=677%:%
%:%1737=677%:%
%:%1738=678%:%
%:%1739=678%:%
%:%1740=679%:%
%:%1741=679%:%
%:%1742=680%:%
%:%1743=680%:%
%:%1744=681%:%
%:%1745=681%:%
%:%1746=682%:%
%:%1747=682%:%
%:%1748=683%:%
%:%1749=683%:%
%:%1750=684%:%
%:%1751=684%:%
%:%1752=685%:%
%:%1753=685%:%
%:%1754=686%:%
%:%1755=686%:%
%:%1756=687%:%
%:%1762=687%:%
%:%1765=688%:%
%:%1766=689%:%
%:%1767=689%:%
%:%1768=690%:%
%:%1769=691%:%
%:%1770=692%:%
%:%1771=693%:%
%:%1772=694%:%
%:%1779=695%:%
%:%1780=695%:%
%:%1781=696%:%
%:%1782=696%:%
%:%1783=697%:%
%:%1784=697%:%
%:%1785=697%:%
%:%1786=698%:%
%:%1787=698%:%
%:%1788=699%:%
%:%1789=700%:%
%:%1790=701%:%
%:%1791=701%:%
%:%1792=702%:%
%:%1793=702%:%
%:%1794=702%:%
%:%1795=703%:%
%:%1796=703%:%
%:%1797=704%:%
%:%1798=704%:%
%:%1799=704%:%
%:%1800=705%:%
%:%1801=705%:%
%:%1802=706%:%
%:%1803=706%:%
%:%1804=707%:%
%:%1805=707%:%
%:%1806=707%:%
%:%1807=708%:%
%:%1808=708%:%
%:%1809=709%:%
%:%1810=709%:%
%:%1811=709%:%
%:%1812=710%:%
%:%1813=711%:%
%:%1814=712%:%
%:%1815=712%:%
%:%1816=712%:%
%:%1817=713%:%
%:%1818=713%:%
%:%1819=714%:%
%:%1820=714%:%
%:%1821=715%:%
%:%1822=715%:%
%:%1823=716%:%
%:%1824=716%:%
%:%1825=717%:%
%:%1826=717%:%
%:%1827=718%:%
%:%1828=718%:%
%:%1829=719%:%
%:%1830=719%:%
%:%1831=720%:%
%:%1832=720%:%
%:%1833=721%:%
%:%1834=721%:%
%:%1835=721%:%
%:%1836=722%:%
%:%1837=722%:%
%:%1838=723%:%
%:%1839=724%:%
%:%1840=725%:%
%:%1841=725%:%
%:%1842=726%:%
%:%1843=726%:%
%:%1844=726%:%
%:%1845=727%:%
%:%1846=727%:%
%:%1847=728%:%
%:%1848=728%:%
%:%1849=728%:%
%:%1850=729%:%
%:%1851=729%:%
%:%1852=730%:%
%:%1853=730%:%
%:%1854=731%:%
%:%1855=731%:%
%:%1856=731%:%
%:%1857=732%:%
%:%1858=732%:%
%:%1859=733%:%
%:%1860=733%:%
%:%1861=734%:%
%:%1862=734%:%
%:%1863=734%:%
%:%1864=735%:%
%:%1865=736%:%
%:%1866=737%:%
%:%1867=737%:%
%:%1868=737%:%
%:%1869=738%:%
%:%1870=738%:%
%:%1871=739%:%
%:%1872=739%:%
%:%1873=740%:%
%:%1879=740%:%
%:%1882=741%:%
%:%1883=742%:%
%:%1884=742%:%
%:%1885=743%:%
%:%1886=744%:%
%:%1887=745%:%
%:%1890=746%:%
%:%1894=746%:%
%:%1895=746%:%
%:%1896=747%:%
%:%1897=747%:%
%:%1898=748%:%
%:%1899=748%:%
%:%1900=749%:%
%:%1901=749%:%
%:%1902=750%:%
%:%1903=750%:%
%:%1904=751%:%
%:%1905=751%:%
%:%1906=752%:%
%:%1907=752%:%
%:%1908=753%:%
%:%1909=753%:%
%:%1910=754%:%
%:%1911=755%:%
%:%1912=756%:%
%:%1913=756%:%
%:%1914=757%:%
%:%1915=757%:%
%:%1916=758%:%
%:%1917=758%:%
%:%1918=759%:%
%:%1919=759%:%
%:%1920=760%:%
%:%1926=760%:%
%:%1929=761%:%
%:%1930=762%:%
%:%1931=762%:%
%:%1932=763%:%
%:%1933=764%:%
%:%1934=765%:%
%:%1935=766%:%
%:%1936=767%:%
%:%1939=768%:%
%:%1943=768%:%
%:%1944=768%:%
%:%1945=769%:%
%:%1946=769%:%
%:%1947=770%:%
%:%1948=770%:%
%:%1949=771%:%
%:%1950=771%:%
%:%1951=772%:%
%:%1952=772%:%
%:%1953=773%:%
%:%1954=773%:%
%:%1955=774%:%
%:%1956=774%:%
%:%1957=775%:%
%:%1958=775%:%
%:%1959=776%:%
%:%1960=777%:%
%:%1961=778%:%
%:%1962=778%:%
%:%1963=779%:%
%:%1964=780%:%
%:%1965=780%:%
%:%1966=781%:%
%:%1967=782%:%
%:%1968=783%:%
%:%1969=783%:%
%:%1970=784%:%
%:%1971=784%:%
%:%1972=784%:%
%:%1973=785%:%
%:%1975=787%:%
%:%1976=788%:%
%:%1977=788%:%
%:%1978=789%:%
%:%1979=789%:%
%:%1980=790%:%
%:%1981=790%:%
%:%1982=790%:%
%:%1983=791%:%
%:%1986=794%:%
%:%1987=795%:%
%:%1988=795%:%
%:%1989=796%:%
%:%1990=796%:%
%:%1991=797%:%
%:%1992=797%:%
%:%1993=797%:%
%:%1994=798%:%
%:%1996=800%:%
%:%1997=801%:%
%:%1998=801%:%
%:%1999=802%:%
%:%2000=802%:%
%:%2001=802%:%
%:%2002=803%:%
%:%2003=803%:%
%:%2004=804%:%
%:%2010=804%:%
%:%2013=805%:%
%:%2014=806%:%
%:%2015=806%:%
%:%2016=807%:%
%:%2017=808%:%
%:%2018=809%:%
%:%2019=809%:%
%:%2020=810%:%
%:%2021=811%:%
%:%2022=812%:%
%:%2029=813%:%
%:%2030=813%:%
%:%2031=814%:%
%:%2032=814%:%
%:%2033=815%:%
%:%2034=815%:%
%:%2035=816%:%
%:%2036=816%:%
%:%2037=817%:%
%:%2038=817%:%
%:%2039=818%:%
%:%2040=818%:%
%:%2041=819%:%
%:%2042=819%:%
%:%2043=820%:%
%:%2044=820%:%
%:%2045=821%:%
%:%2051=821%:%
%:%2054=822%:%
%:%2055=823%:%
%:%2056=823%:%
%:%2057=824%:%
%:%2058=825%:%
%:%2059=826%:%
%:%2060=827%:%
%:%2061=828%:%
%:%2068=829%:%
%:%2069=829%:%
%:%2070=830%:%
%:%2071=830%:%
%:%2072=831%:%
%:%2073=831%:%
%:%2074=832%:%
%:%2075=832%:%
%:%2076=833%:%
%:%2077=833%:%
%:%2078=834%:%
%:%2079=834%:%
%:%2080=835%:%
%:%2081=836%:%
%:%2082=837%:%
%:%2083=837%:%
%:%2084=838%:%
%:%2085=838%:%
%:%2086=839%:%
%:%2087=839%:%
%:%2088=839%:%
%:%2089=840%:%
%:%2090=840%:%
%:%2091=841%:%
%:%2092=841%:%
%:%2093=842%:%
%:%2094=842%:%
%:%2095=842%:%
%:%2096=843%:%
%:%2097=843%:%
%:%2098=844%:%
%:%2108=846%:%
%:%2110=848%:%
%:%2111=848%:%
%:%2112=849%:%
%:%2116=853%:%
%:%2119=854%:%
%:%2124=855%:%
%:%2125=855%:%
%:%2126=856%:%
%:%2127=857%:%
%:%2132=857%:%
%:%2137=858%:%
%:%2141=858%:%
%:%2142=858%:%
%:%2143=859%:%
%:%2144=859%:%
%:%2149=859%:%
%:%2154=860%:%
%:%2159=861%:%
%:%2160=861%:%
%:%2161=862%:%
%:%2162=863%:%
%:%2167=863%:%
%:%2172=864%:%
%:%2176=864%:%
%:%2177=864%:%
%:%2178=865%:%
%:%2179=865%:%
%:%2180=866%:%
%:%2181=866%:%
%:%2182=867%:%
%:%2183=867%:%
%:%2184=868%:%
%:%2185=868%:%
%:%2186=869%:%
%:%2187=869%:%
%:%2188=870%:%
%:%2189=870%:%
%:%2190=871%:%
%:%2191=871%:%
%:%2192=872%:%
%:%2193=872%:%
%:%2194=873%:%
%:%2195=873%:%
%:%2196=873%:%
%:%2197=874%:%
%:%2198=874%:%
%:%2199=875%:%
%:%2200=875%:%
%:%2201=876%:%
%:%2202=876%:%
%:%2203=876%:%
%:%2204=877%:%
%:%2205=877%:%
%:%2206=878%:%
%:%2207=878%:%
%:%2208=879%:%
%:%2209=879%:%
%:%2210=879%:%
%:%2211=880%:%
%:%2212=880%:%
%:%2213=881%:%
%:%2214=881%:%
%:%2215=881%:%
%:%2216=882%:%
%:%2217=882%:%
%:%2218=883%:%
%:%2224=883%:%
%:%2227=884%:%
%:%2228=885%:%
%:%2229=885%:%
%:%2230=886%:%
%:%2231=887%:%
%:%2238=888%:%
%:%2239=888%:%
%:%2240=889%:%
%:%2241=889%:%
%:%2242=890%:%
%:%2243=890%:%
%:%2244=891%:%
%:%2245=891%:%
%:%2246=892%:%
%:%2247=892%:%
%:%2248=893%:%
%:%2249=893%:%
%:%2250=894%:%
%:%2251=894%:%
%:%2252=895%:%
%:%2253=895%:%
%:%2254=896%:%
%:%2255=896%:%
%:%2256=897%:%
%:%2257=897%:%
%:%2258=898%:%
%:%2259=898%:%
%:%2260=899%:%
%:%2261=899%:%
%:%2262=900%:%
%:%2263=900%:%
%:%2264=901%:%
%:%2270=901%:%
%:%2273=902%:%
%:%2274=903%:%
%:%2275=903%:%
%:%2276=904%:%
%:%2277=905%:%
%:%2278=906%:%
%:%2279=907%:%
%:%2286=908%:%
%:%2287=908%:%
%:%2288=909%:%
%:%2289=909%:%
%:%2290=910%:%
%:%2291=910%:%
%:%2292=911%:%
%:%2293=911%:%
%:%2294=912%:%
%:%2295=912%:%
%:%2296=913%:%
%:%2297=913%:%
%:%2298=914%:%
%:%2299=914%:%
%:%2300=915%:%
%:%2301=915%:%
%:%2302=916%:%
%:%2303=916%:%
%:%2304=917%:%
%:%2305=917%:%
%:%2306=918%:%
%:%2307=918%:%
%:%2308=918%:%
%:%2309=919%:%
%:%2310=919%:%
%:%2311=920%:%
%:%2312=921%:%
%:%2313=922%:%
%:%2314=922%:%
%:%2315=923%:%
%:%2316=923%:%
%:%2317=923%:%
%:%2318=924%:%
%:%2319=924%:%
%:%2320=925%:%
%:%2321=925%:%
%:%2322=925%:%
%:%2323=926%:%
%:%2324=926%:%
%:%2325=927%:%
%:%2326=927%:%
%:%2327=928%:%
%:%2328=928%:%
%:%2329=928%:%
%:%2330=929%:%
%:%2331=929%:%
%:%2332=930%:%
%:%2333=930%:%
%:%2334=931%:%
%:%2335=931%:%
%:%2336=931%:%
%:%2337=932%:%
%:%2338=933%:%
%:%2339=934%:%
%:%2340=934%:%
%:%2341=934%:%
%:%2342=935%:%
%:%2343=935%:%
%:%2344=936%:%
%:%2345=936%:%
%:%2346=937%:%
%:%2352=937%:%
%:%2355=938%:%
%:%2356=939%:%
%:%2357=939%:%
%:%2358=940%:%
%:%2359=941%:%
%:%2360=942%:%
%:%2363=943%:%
%:%2367=943%:%
%:%2368=943%:%
%:%2369=944%:%
%:%2370=944%:%
%:%2371=945%:%
%:%2372=945%:%
%:%2373=946%:%
%:%2374=946%:%
%:%2375=947%:%
%:%2376=947%:%
%:%2377=948%:%
%:%2378=948%:%
%:%2379=949%:%
%:%2380=949%:%
%:%2381=950%:%
%:%2382=950%:%
%:%2383=951%:%
%:%2384=952%:%
%:%2385=953%:%
%:%2386=953%:%
%:%2387=954%:%
%:%2388=954%:%
%:%2389=955%:%
%:%2390=955%:%
%:%2391=956%:%
%:%2392=956%:%
%:%2393=957%:%
%:%2399=957%:%
%:%2402=958%:%
%:%2403=959%:%
%:%2404=959%:%
%:%2405=960%:%
%:%2406=961%:%
%:%2407=962%:%
%:%2408=963%:%
%:%2409=964%:%
%:%2412=965%:%
%:%2416=965%:%
%:%2417=965%:%
%:%2418=966%:%
%:%2419=966%:%
%:%2420=967%:%
%:%2421=967%:%
%:%2422=968%:%
%:%2423=968%:%
%:%2424=969%:%
%:%2425=969%:%
%:%2426=970%:%
%:%2427=970%:%
%:%2428=971%:%
%:%2429=971%:%
%:%2430=972%:%
%:%2431=972%:%
%:%2432=973%:%
%:%2433=974%:%
%:%2434=975%:%
%:%2435=975%:%
%:%2436=976%:%
%:%2437=977%:%
%:%2438=977%:%
%:%2439=978%:%
%:%2440=979%:%
%:%2441=980%:%
%:%2442=980%:%
%:%2443=981%:%
%:%2444=981%:%
%:%2445=981%:%
%:%2446=982%:%
%:%2448=984%:%
%:%2449=985%:%
%:%2450=985%:%
%:%2451=986%:%
%:%2452=986%:%
%:%2453=987%:%
%:%2454=987%:%
%:%2455=987%:%
%:%2456=988%:%
%:%2459=991%:%
%:%2460=992%:%
%:%2461=992%:%
%:%2462=993%:%
%:%2463=993%:%
%:%2464=994%:%
%:%2465=994%:%
%:%2466=994%:%
%:%2467=995%:%
%:%2469=997%:%
%:%2470=998%:%
%:%2471=998%:%
%:%2472=999%:%
%:%2473=999%:%
%:%2474=999%:%
%:%2475=1000%:%
%:%2476=1000%:%
%:%2477=1001%:%
%:%2483=1001%:%
%:%2486=1002%:%
%:%2487=1003%:%
%:%2488=1004%:%
%:%2489=1004%:%
%:%2490=1005%:%
%:%2491=1006%:%
%:%2492=1007%:%
%:%2493=1007%:%
%:%2494=1008%:%
%:%2495=1009%:%
%:%2496=1010%:%
%:%2503=1011%:%
%:%2504=1011%:%
%:%2505=1012%:%
%:%2506=1012%:%
%:%2507=1013%:%
%:%2508=1013%:%
%:%2509=1014%:%
%:%2510=1014%:%
%:%2511=1015%:%
%:%2512=1015%:%
%:%2513=1016%:%
%:%2514=1016%:%
%:%2515=1017%:%
%:%2516=1017%:%
%:%2517=1018%:%
%:%2518=1018%:%
%:%2519=1019%:%
%:%2525=1019%:%
%:%2528=1020%:%
%:%2529=1021%:%
%:%2530=1021%:%
%:%2531=1022%:%
%:%2532=1023%:%
%:%2533=1024%:%
%:%2534=1025%:%
%:%2535=1026%:%
%:%2542=1027%:%
%:%2543=1027%:%
%:%2544=1028%:%
%:%2545=1028%:%
%:%2546=1029%:%
%:%2547=1029%:%
%:%2548=1030%:%
%:%2549=1030%:%
%:%2550=1031%:%
%:%2551=1031%:%
%:%2552=1032%:%
%:%2553=1032%:%
%:%2554=1033%:%
%:%2555=1034%:%
%:%2556=1035%:%
%:%2557=1035%:%
%:%2558=1036%:%
%:%2559=1036%:%
%:%2560=1037%:%
%:%2561=1037%:%
%:%2562=1037%:%
%:%2563=1038%:%
%:%2564=1038%:%
%:%2565=1039%:%
%:%2566=1039%:%
%:%2567=1040%:%
%:%2568=1040%:%
%:%2569=1040%:%
%:%2570=1041%:%
%:%2571=1041%:%
%:%2572=1042%:%
%:%2582=1045%:%
%:%2583=1046%:%
%:%2585=1049%:%
%:%2586=1049%:%
%:%2587=1050%:%
%:%2588=1051%:%
%:%2589=1051%:%
%:%2590=1052%:%
%:%2591=1053%:%
%:%2592=1054%:%
%:%2593=1055%:%
%:%2594=1056%:%
%:%2601=1057%:%
%:%2602=1057%:%
%:%2603=1058%:%
%:%2604=1058%:%
%:%2605=1059%:%
%:%2606=1059%:%
%:%2607=1060%:%
%:%2608=1060%:%
%:%2609=1061%:%
%:%2610=1061%:%
%:%2611=1062%:%
%:%2612=1062%:%
%:%2613=1063%:%
%:%2614=1063%:%
%:%2615=1064%:%
%:%2616=1064%:%
%:%2617=1065%:%
%:%2618=1065%:%
%:%2619=1066%:%
%:%2620=1066%:%
%:%2621=1067%:%
%:%2622=1067%:%
%:%2623=1068%:%
%:%2624=1068%:%
%:%2625=1069%:%
%:%2626=1069%:%
%:%2627=1070%:%
%:%2628=1070%:%
%:%2629=1071%:%
%:%2630=1071%:%
%:%2631=1072%:%
%:%2632=1072%:%
%:%2633=1073%:%
%:%2634=1073%:%
%:%2635=1074%:%
%:%2636=1074%:%
%:%2637=1075%:%
%:%2638=1075%:%
%:%2639=1076%:%
%:%2640=1076%:%
%:%2641=1077%:%
%:%2642=1077%:%
%:%2643=1078%:%
%:%2644=1078%:%
%:%2645=1079%:%
%:%2646=1079%:%
%:%2647=1080%:%
%:%2648=1080%:%
%:%2649=1081%:%
%:%2650=1081%:%
%:%2651=1082%:%
%:%2652=1082%:%
%:%2653=1083%:%
%:%2654=1083%:%
%:%2655=1084%:%
%:%2656=1084%:%
%:%2657=1085%:%
%:%2658=1085%:%
%:%2659=1086%:%
%:%2660=1086%:%
%:%2661=1087%:%
%:%2662=1087%:%
%:%2663=1088%:%
%:%2664=1088%:%
%:%2665=1089%:%
%:%2666=1089%:%
%:%2667=1090%:%
%:%2668=1090%:%
%:%2669=1091%:%
%:%2670=1091%:%
%:%2671=1092%:%
%:%2672=1092%:%
%:%2673=1093%:%
%:%2679=1093%:%
%:%2682=1094%:%
%:%2691=1097%:%
%:%2692=1098%:%
%:%2693=1099%:%
%:%2694=1100%:%
%:%2696=1103%:%
%:%2697=1103%:%
%:%2698=1104%:%
%:%2699=1105%:%
%:%2700=1106%:%
%:%2701=1107%:%
%:%2702=1108%:%
%:%2703=1109%:%
%:%2704=1110%:%
%:%2705=1111%:%
%:%2706=1112%:%
%:%2707=1113%:%
%:%2708=1114%:%
%:%2709=1115%:%
%:%2710=1116%:%
%:%2711=1117%:%
%:%2712=1118%:%
%:%2713=1119%:%
%:%2720=1119%:%
%:%2721=1120%:%
%:%2722=1121%:%
%:%2723=1121%:%
%:%2724=1122%:%
%:%2725=1123%:%
%:%2726=1124%:%
%:%2727=1124%:%
%:%2728=1125%:%
%:%2729=1126%:%
%:%2730=1127%:%
%:%2731=1127%:%
%:%2732=1128%:%
%:%2733=1129%:%
%:%2734=1130%:%
%:%2735=1130%:%
%:%2736=1131%:%
%:%2737=1132%:%
%:%2740=1133%:%
%:%2744=1133%:%
%:%2745=1133%:%
%:%2746=1134%:%
%:%2747=1134%:%
%:%2752=1134%:%
%:%2755=1135%:%
%:%2756=1136%:%
%:%2757=1136%:%
%:%2758=1137%:%
%:%2759=1138%:%
%:%2762=1139%:%
%:%2766=1139%:%
%:%2767=1139%:%
%:%2768=1140%:%
%:%2769=1140%:%
%:%2774=1140%:%
%:%2777=1141%:%
%:%2778=1142%:%
%:%2779=1142%:%
%:%2780=1143%:%
%:%2781=1144%:%
%:%2784=1145%:%
%:%2788=1145%:%
%:%2789=1145%:%
%:%2790=1146%:%
%:%2791=1146%:%
%:%2796=1146%:%
%:%2799=1147%:%
%:%2800=1148%:%
%:%2801=1148%:%
%:%2802=1149%:%
%:%2803=1150%:%
%:%2806=1151%:%
%:%2810=1151%:%
%:%2811=1151%:%
%:%2812=1152%:%
%:%2813=1152%:%
%:%2818=1152%:%
%:%2821=1153%:%
%:%2822=1154%:%
%:%2823=1154%:%
%:%2824=1155%:%
%:%2825=1156%:%
%:%2828=1157%:%
%:%2832=1157%:%
%:%2833=1157%:%
%:%2834=1158%:%
%:%2835=1158%:%
%:%2836=1159%:%
%:%2837=1159%:%
%:%2838=1160%:%
%:%2839=1160%:%
%:%2840=1161%:%
%:%2841=1161%:%
%:%2842=1162%:%
%:%2843=1162%:%
%:%2844=1163%:%
%:%2845=1163%:%
%:%2846=1164%:%
%:%2847=1164%:%
%:%2848=1165%:%
%:%2849=1165%:%
%:%2850=1166%:%
%:%2851=1166%:%
%:%2852=1166%:%
%:%2853=1167%:%
%:%2854=1167%:%
%:%2855=1168%:%
%:%2856=1168%:%
%:%2857=1169%:%
%:%2858=1169%:%
%:%2859=1169%:%
%:%2860=1170%:%
%:%2861=1170%:%
%:%2862=1171%:%
%:%2863=1171%:%
%:%2864=1172%:%
%:%2865=1172%:%
%:%2866=1172%:%
%:%2867=1173%:%
%:%2868=1173%:%
%:%2869=1174%:%
%:%2870=1174%:%
%:%2871=1174%:%
%:%2872=1175%:%
%:%2873=1175%:%
%:%2874=1176%:%
%:%2880=1176%:%
%:%2883=1177%:%
%:%2884=1178%:%
%:%2885=1178%:%
%:%2886=1179%:%
%:%2887=1180%:%
%:%2890=1181%:%
%:%2894=1181%:%
%:%2895=1181%:%
%:%2896=1182%:%
%:%2897=1182%:%
%:%2902=1182%:%
%:%2905=1183%:%
%:%2906=1184%:%
%:%2907=1184%:%
%:%2908=1185%:%
%:%2909=1186%:%
%:%2912=1187%:%
%:%2916=1187%:%
%:%2917=1187%:%
%:%2918=1188%:%
%:%2919=1188%:%
%:%2924=1188%:%
%:%2927=1189%:%
%:%2928=1190%:%
%:%2929=1190%:%
%:%2930=1191%:%
%:%2933=1192%:%
%:%2937=1192%:%
%:%2938=1192%:%
%:%2939=1193%:%
%:%2940=1193%:%
%:%2945=1193%:%
%:%2948=1194%:%
%:%2949=1195%:%
%:%2950=1195%:%
%:%2951=1196%:%
%:%2952=1197%:%
%:%2955=1198%:%
%:%2959=1198%:%
%:%2960=1198%:%
%:%2961=1199%:%
%:%2962=1199%:%
%:%2963=1200%:%
%:%2964=1200%:%
%:%2965=1201%:%
%:%2966=1201%:%
%:%2967=1202%:%
%:%2968=1202%:%
%:%2969=1203%:%
%:%2970=1203%:%
%:%2971=1204%:%
%:%2972=1204%:%
%:%2973=1205%:%
%:%2974=1205%:%
%:%2975=1206%:%
%:%2976=1206%:%
%:%2977=1207%:%
%:%2978=1207%:%
%:%2979=1207%:%
%:%2980=1208%:%
%:%2981=1208%:%
%:%2982=1209%:%
%:%2983=1209%:%
%:%2984=1210%:%
%:%2985=1210%:%
%:%2986=1210%:%
%:%2987=1211%:%
%:%2988=1211%:%
%:%2989=1212%:%
%:%2990=1212%:%
%:%2991=1213%:%
%:%2992=1213%:%
%:%2993=1213%:%
%:%2994=1214%:%
%:%2995=1214%:%
%:%2996=1215%:%
%:%2997=1215%:%
%:%2998=1215%:%
%:%2999=1216%:%
%:%3000=1216%:%
%:%3001=1217%:%
%:%3007=1217%:%
%:%3010=1218%:%
%:%3011=1219%:%
%:%3012=1219%:%
%:%3013=1220%:%
%:%3014=1221%:%
%:%3017=1222%:%
%:%3021=1222%:%
%:%3022=1222%:%
%:%3023=1223%:%
%:%3024=1223%:%
%:%3029=1223%:%
%:%3034=1224%:%
%:%3039=1225%:%
%:%3045=1225%:%
%:%3050=1226%:%
%:%3055=1227%:%