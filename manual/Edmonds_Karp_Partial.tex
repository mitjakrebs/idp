%
\begin{isabellebody}%
\setisabellecontext{Edmonds{\isacharunderscore}{\kern0pt}Karp{\isacharunderscore}{\kern0pt}Partial}%
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Implementation of the algorithm%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
\isacommand{theory}\isamarkupfalse%
\ Edmonds{\isacharunderscore}{\kern0pt}Karp{\isacharunderscore}{\kern0pt}Partial\isanewline
\ \ \isakeyword{imports}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharslash}{\kern0pt}Alternating{\isacharunderscore}{\kern0pt}BFS{\isacharslash}{\kern0pt}Alternating{\isacharunderscore}{\kern0pt}BFS{\isacharunderscore}{\kern0pt}Partial{\isachardoublequoteclose}\isanewline
\ \ \ \ Edmonds{\isacharunderscore}{\kern0pt}Karp\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharslash}{\kern0pt}BFS{\isacharslash}{\kern0pt}Parent{\isacharunderscore}{\kern0pt}Relation{\isacharunderscore}{\kern0pt}Partial{\isachardoublequoteclose}\isanewline
\isakeyword{begin}%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\begin{isamarkuptext}%
One point to note is that we verified only partial termination and correctness of loop
\isa{edmonds{\isacharunderscore}{\kern0pt}karp{\isachardot}{\kern0pt}loop{\isacharprime}{\kern0pt}}, since we assumed an appropriate input as specified via locale
\isa{edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input}. To obtain executable code, we make this explicit and use a
partial function.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{partial{\isacharunderscore}{\kern0pt}function}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}tailrec{\isacharparenright}{\kern0pt}\ loop{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}partial\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}loop{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}partial\ G\ L\ R\ s\ t\ M\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ {\isacharparenleft}{\kern0pt}if\ done{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ L\ R\ M\ then\ M\isanewline
\ \ \ \ else\ if\ done{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ t\ {\isacharparenleft}{\kern0pt}alt{\isacharunderscore}{\kern0pt}bfs{\isacharunderscore}{\kern0pt}partial\ {\isacharparenleft}{\kern0pt}G{\isadigit{1}}\ G\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ s{\isacharparenright}{\kern0pt}\ then\ M\isanewline
\ \ \ \ \ \ \ \ \ else\ loop{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}partial\ G\ L\ R\ s\ t\ {\isacharparenleft}{\kern0pt}augment\ M\ {\isacharparenleft}{\kern0pt}butlast\ {\isacharparenleft}{\kern0pt}tl\ {\isacharparenleft}{\kern0pt}Parent{\isacharunderscore}{\kern0pt}Relation{\isacharunderscore}{\kern0pt}Partial{\isachardot}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}alt{\isacharunderscore}{\kern0pt}bfs{\isacharunderscore}{\kern0pt}partial\ {\isacharparenleft}{\kern0pt}G{\isadigit{1}}\ G\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ t{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharparenright}{\kern0pt}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}partial\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}partial\ G\ L\ R\ s\ t\ {\isasymequiv}\ loop{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}partial\ G\ L\ R\ s\ t\ M{\isacharunderscore}{\kern0pt}empty{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ loop{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}partial{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}loop{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}loop{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}partial\ G\ L\ R\ s\ t\ M\ {\isacharequal}{\kern0pt}\ loop{\isacharprime}{\kern0pt}\ G\ L\ R\ s\ t\ M{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ rule{\isacharcolon}{\kern0pt}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}induct{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}done{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ L\ R\ M{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{1}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ loop{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}partial{\isachardot}{\kern0pt}simps\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isachardot}{\kern0pt}loop{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}psimps{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharcolon}{\kern0pt}\ False\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ alt{\isacharunderscore}{\kern0pt}bfs{\isacharunderscore}{\kern0pt}partial{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}alt{\isacharunderscore}{\kern0pt}bfs{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}alt{\isacharunderscore}{\kern0pt}bfs{\isacharunderscore}{\kern0pt}partial\ {\isacharparenleft}{\kern0pt}G{\isadigit{1}}\ G\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ s\ {\isacharequal}{\kern0pt}\ alt{\isacharunderscore}{\kern0pt}bfs\ {\isacharparenleft}{\kern0pt}G{\isadigit{1}}\ G\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{1}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{1}}I\isanewline
\ \ \ \ \ \ \ \ \ \ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isachardot}{\kern0pt}alt{\isacharunderscore}{\kern0pt}bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input\isanewline
\ \ \ \ \ \ \ \ \ \ alt{\isacharunderscore}{\kern0pt}bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isachardot}{\kern0pt}alt{\isacharunderscore}{\kern0pt}bfs{\isacharunderscore}{\kern0pt}partial{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}alt{\isacharunderscore}{\kern0pt}bfs{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ t\ {\isacharparenleft}{\kern0pt}m{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ t\ {\isacharparenleft}{\kern0pt}alt{\isacharunderscore}{\kern0pt}bfs{\isacharunderscore}{\kern0pt}partial\ {\isacharparenleft}{\kern0pt}G{\isadigit{1}}\ G\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ alt{\isacharunderscore}{\kern0pt}bfs{\isacharunderscore}{\kern0pt}partial{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}alt{\isacharunderscore}{\kern0pt}bfs{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{1}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}\ not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ True\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ loop{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}partial{\isachardot}{\kern0pt}simps\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isachardot}{\kern0pt}loop{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}psimps{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymnot}\ done{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ t\ {\isacharparenleft}{\kern0pt}alt{\isacharunderscore}{\kern0pt}bfs{\isacharunderscore}{\kern0pt}partial\ {\isacharparenleft}{\kern0pt}G{\isadigit{1}}\ G\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ alt{\isacharunderscore}{\kern0pt}bfs{\isacharunderscore}{\kern0pt}partial{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}alt{\isacharunderscore}{\kern0pt}bfs{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}loop{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}partial\ G\ L\ R\ s\ t\ M\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ loop{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}partial\ G\ L\ R\ s\ t\ {\isacharparenleft}{\kern0pt}augment\ M\ {\isacharparenleft}{\kern0pt}butlast\ {\isacharparenleft}{\kern0pt}tl\ {\isacharparenleft}{\kern0pt}Parent{\isacharunderscore}{\kern0pt}Relation{\isacharunderscore}{\kern0pt}Partial{\isachardot}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}alt{\isacharunderscore}{\kern0pt}bfs{\isacharunderscore}{\kern0pt}partial\ {\isacharparenleft}{\kern0pt}G{\isadigit{1}}\ G\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ t{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{1}}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ loop{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}partial{\isachardot}{\kern0pt}simps{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ loop{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}partial\ G\ L\ R\ s\ t\ {\isacharparenleft}{\kern0pt}augment\ M\ {\isacharparenleft}{\kern0pt}butlast\ {\isacharparenleft}{\kern0pt}tl\ {\isacharparenleft}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow\ {\isacharparenleft}{\kern0pt}alt{\isacharunderscore}{\kern0pt}bfs{\isacharunderscore}{\kern0pt}partial\ {\isacharparenleft}{\kern0pt}G{\isadigit{1}}\ G\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ s{\isacharparenright}{\kern0pt}\ t{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharprime}{\kern0pt}\ G\ L\ R\ s\ t\ M{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{1}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}\ not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{1}}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{1}}I{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}Parent{\isacharunderscore}{\kern0pt}Relation{\isachardot}{\kern0pt}parent\ {\isacharparenleft}{\kern0pt}P{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}alt{\isacharunderscore}{\kern0pt}bfs{\isacharunderscore}{\kern0pt}partial\ {\isacharparenleft}{\kern0pt}G{\isadigit{1}}\ G\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isadigit{2}}\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ alt{\isacharunderscore}{\kern0pt}bfs{\isacharunderscore}{\kern0pt}partial{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}alt{\isacharunderscore}{\kern0pt}bfs\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isachardot}{\kern0pt}parent{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ rev{\isacharunderscore}{\kern0pt}follow{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}follow{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ loop{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}partial\ G\ L\ R\ s\ t\ {\isacharparenleft}{\kern0pt}augment\ M\ {\isacharparenleft}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ alt{\isacharunderscore}{\kern0pt}bfs{\isacharunderscore}{\kern0pt}partial{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}alt{\isacharunderscore}{\kern0pt}bfs\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ loop{\isacharprime}{\kern0pt}\ G\ L\ R\ s\ t\ {\isacharparenleft}{\kern0pt}augment\ M\ {\isacharparenleft}{\kern0pt}p{\isacharunderscore}{\kern0pt}tbd\ G\ L\ R\ s\ t\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ False\ {\isachardoublequoteopen}{\isadigit{1}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}I{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isachardot}{\kern0pt}edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}augment\ {\isachardoublequoteopen}{\isadigit{1}}{\isachardot}{\kern0pt}hyps{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ loop{\isacharprime}{\kern0pt}\ G\ L\ R\ s\ t\ M{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}done{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ False\ {\isachardoublequoteopen}{\isadigit{1}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isachardot}{\kern0pt}loop{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}psimps{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}partial{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}edmonds{\isacharunderscore}{\kern0pt}karp{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}partial\ G\ L\ R\ s\ t\ {\isacharequal}{\kern0pt}\ edmonds{\isacharunderscore}{\kern0pt}karp\ G\ L\ R\ s\ t{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}empty\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}partial{\isacharunderscore}{\kern0pt}def\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}def\ loop{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}partial{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}loop{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}partial{\isacharunderscore}{\kern0pt}correct{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}maximum{\isacharunderscore}{\kern0pt}matching\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}E\ G{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd\ {\isacharparenleft}{\kern0pt}edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}partial\ G\ L\ R\ s\ t{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}correct\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}partial{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}edmonds{\isacharunderscore}{\kern0pt}karp{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharparenright}{\kern0pt}\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}partial{\isacharunderscore}{\kern0pt}correct{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharprime}{\kern0pt}\ G\ L\ R\ s\ t{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}maximum{\isacharunderscore}{\kern0pt}matching\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}E\ G{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}M{\isacharunderscore}{\kern0pt}tbd\ {\isacharparenleft}{\kern0pt}edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}partial\ G\ L\ R\ s\ t{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isachardot}{\kern0pt}edmonds{\isacharunderscore}{\kern0pt}karp{\isacharunderscore}{\kern0pt}partial{\isacharunderscore}{\kern0pt}correct{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
%
\isadelimtheory
\isanewline
%
\endisadelimtheory
%
\isatagtheory
\isacommand{end}\isamarkupfalse%
%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\end{isabellebody}%
\endinput
%:%file=~/Documents/1_projects/2022_idp/thys/Hopcroft_Karp/Edmonds_Karp_Partial.thy%:%
%:%11=1%:%
%:%27=3%:%
%:%28=3%:%
%:%29=4%:%
%:%30=5%:%
%:%31=6%:%
%:%32=7%:%
%:%33=8%:%
%:%42=11%:%
%:%43=12%:%
%:%44=13%:%
%:%45=14%:%
%:%47=17%:%
%:%48=17%:%
%:%49=18%:%
%:%52=21%:%
%:%53=22%:%
%:%54=23%:%
%:%55=23%:%
%:%56=24%:%
%:%57=25%:%
%:%58=26%:%
%:%59=26%:%
%:%60=27%:%
%:%61=28%:%
%:%64=29%:%
%:%68=29%:%
%:%69=29%:%
%:%70=30%:%
%:%71=30%:%
%:%72=31%:%
%:%73=31%:%
%:%74=32%:%
%:%75=32%:%
%:%76=33%:%
%:%77=33%:%
%:%78=34%:%
%:%79=34%:%
%:%80=35%:%
%:%81=35%:%
%:%82=36%:%
%:%83=36%:%
%:%84=37%:%
%:%85=37%:%
%:%86=38%:%
%:%87=38%:%
%:%88=39%:%
%:%89=39%:%
%:%90=40%:%
%:%91=40%:%
%:%92=41%:%
%:%93=41%:%
%:%94=42%:%
%:%95=42%:%
%:%96=43%:%
%:%97=44%:%
%:%98=45%:%
%:%99=46%:%
%:%100=47%:%
%:%101=47%:%
%:%102=48%:%
%:%103=48%:%
%:%104=49%:%
%:%105=49%:%
%:%106=50%:%
%:%107=50%:%
%:%108=51%:%
%:%109=51%:%
%:%110=52%:%
%:%111=52%:%
%:%112=53%:%
%:%113=53%:%
%:%114=54%:%
%:%115=54%:%
%:%116=55%:%
%:%117=55%:%
%:%118=56%:%
%:%119=56%:%
%:%120=57%:%
%:%121=57%:%
%:%122=58%:%
%:%123=58%:%
%:%124=59%:%
%:%125=59%:%
%:%126=60%:%
%:%127=61%:%
%:%128=62%:%
%:%129=62%:%
%:%130=63%:%
%:%131=63%:%
%:%132=64%:%
%:%133=64%:%
%:%134=64%:%
%:%135=65%:%
%:%136=65%:%
%:%137=66%:%
%:%138=66%:%
%:%139=67%:%
%:%140=67%:%
%:%141=68%:%
%:%142=68%:%
%:%143=69%:%
%:%144=69%:%
%:%145=70%:%
%:%146=70%:%
%:%147=71%:%
%:%148=71%:%
%:%149=72%:%
%:%150=72%:%
%:%151=73%:%
%:%152=73%:%
%:%153=74%:%
%:%154=74%:%
%:%155=75%:%
%:%156=75%:%
%:%157=75%:%
%:%158=76%:%
%:%159=76%:%
%:%160=77%:%
%:%161=77%:%
%:%162=78%:%
%:%163=78%:%
%:%164=78%:%
%:%165=79%:%
%:%166=79%:%
%:%167=80%:%
%:%168=80%:%
%:%169=81%:%
%:%170=81%:%
%:%171=81%:%
%:%172=82%:%
%:%173=82%:%
%:%174=83%:%
%:%175=83%:%
%:%176=84%:%
%:%177=84%:%
%:%178=84%:%
%:%179=85%:%
%:%180=85%:%
%:%181=86%:%
%:%182=86%:%
%:%183=87%:%
%:%184=87%:%
%:%185=88%:%
%:%191=88%:%
%:%194=89%:%
%:%195=90%:%
%:%196=90%:%
%:%197=91%:%
%:%200=92%:%
%:%204=92%:%
%:%205=92%:%
%:%206=93%:%
%:%207=93%:%
%:%212=93%:%
%:%215=94%:%
%:%216=95%:%
%:%217=95%:%
%:%218=96%:%
%:%221=97%:%
%:%225=97%:%
%:%226=97%:%
%:%227=98%:%
%:%228=98%:%
%:%233=98%:%
%:%236=99%:%
%:%237=100%:%
%:%238=100%:%
%:%239=101%:%
%:%240=102%:%
%:%243=103%:%
%:%247=103%:%
%:%248=103%:%
%:%249=104%:%
%:%250=104%:%
%:%255=104%:%
%:%258=105%:%
%:%259=181%:%
%:%262=182%:%
%:%267=183%:%