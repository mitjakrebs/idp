%
\begin{isabellebody}%
\setisabellecontext{Adjacency}%
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Medium level%
}
\isamarkuptrue%
%
\isamarkupsubsubsection{Adjacency structure%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
\isacommand{theory}\isamarkupfalse%
\ Adjacency\isanewline
\ \ \isakeyword{imports}\isanewline
\ \ \ \ {\isachardoublequoteopen}HOL{\isacharminus}{\kern0pt}Data{\isacharunderscore}{\kern0pt}Structures{\isachardot}{\kern0pt}Set{\isacharunderscore}{\kern0pt}Specs{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharslash}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharslash}{\kern0pt}Map{\isacharslash}{\kern0pt}Map{\isacharunderscore}{\kern0pt}Specs{\isacharunderscore}{\kern0pt}Ext{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharslash}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharslash}{\kern0pt}Orderings{\isacharunderscore}{\kern0pt}Ext{\isachardoublequoteclose}\isanewline
\isakeyword{begin}%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\begin{isamarkuptext}%
As mentioned above, a graph on the high level of abstraction is a set of edges. Hence, we would
expect a graph to provide basic set operations such as insert, delete, union, intersection, and
difference. Moreover, many graph algorithms, including breadth-first and depth-first search, involve
iterating, or folding, over all vertices adjacent to a given vertex. Thus, we would have liked to
specify a graph on the medium level of abstraction via the following locales.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{locale}\isamarkupfalse%
\ Adjacency{\isacharunderscore}{\kern0pt}Structure\ {\isacharequal}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ empty\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}g{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{fixes}\ insert\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}linorder\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}g\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}g{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{fixes}\ delete\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}g\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}g{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{fixes}\ adj\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}g\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ list{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{fixes}\ inv\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}g\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ adj{\isacharunderscore}{\kern0pt}empty{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}adj\ v\ empty\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ adj{\isacharunderscore}{\kern0pt}insert{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}inv\ G\ {\isasymand}\ Sorted{\isacharunderscore}{\kern0pt}Less{\isachardot}{\kern0pt}sorted\ {\isacharparenleft}{\kern0pt}adj\ u\ G{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ adj\ u\ {\isacharparenleft}{\kern0pt}insert\ v\ w\ G{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}if\ u\ {\isacharequal}{\kern0pt}\ v\ then\ ins{\isacharunderscore}{\kern0pt}list\ w\ {\isacharparenleft}{\kern0pt}adj\ u\ G{\isacharparenright}{\kern0pt}\ else\ adj\ u\ G{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ adj{\isacharunderscore}{\kern0pt}delete{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}inv\ G\ {\isasymand}\ Sorted{\isacharunderscore}{\kern0pt}Less{\isachardot}{\kern0pt}sorted\ {\isacharparenleft}{\kern0pt}adj\ u\ G{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ adj\ u\ {\isacharparenleft}{\kern0pt}delete\ v\ w\ G{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}if\ u\ {\isacharequal}{\kern0pt}\ v\ then\ List{\isacharunderscore}{\kern0pt}Ins{\isacharunderscore}{\kern0pt}Del{\isachardot}{\kern0pt}del{\isacharunderscore}{\kern0pt}list\ w\ {\isacharparenleft}{\kern0pt}adj\ u\ G{\isacharparenright}{\kern0pt}\ else\ adj\ u\ G{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ inv{\isacharunderscore}{\kern0pt}empty{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}inv\ empty{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ inv{\isacharunderscore}{\kern0pt}insert{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}inv\ G\ {\isasymand}\ Sorted{\isacharunderscore}{\kern0pt}Less{\isachardot}{\kern0pt}sorted\ {\isacharparenleft}{\kern0pt}adj\ u\ G{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ inv\ {\isacharparenleft}{\kern0pt}insert\ u\ v\ G{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ inv{\isacharunderscore}{\kern0pt}delete{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}inv\ G\ {\isasymand}\ Sorted{\isacharunderscore}{\kern0pt}Less{\isachardot}{\kern0pt}sorted\ {\isacharparenleft}{\kern0pt}adj\ u\ G{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ inv\ {\isacharparenleft}{\kern0pt}delete\ u\ v\ G{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{definition}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ Adjacency{\isacharunderscore}{\kern0pt}Structure{\isacharparenright}{\kern0pt}\ invar\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}g\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}invar\ G\ {\isasymequiv}\ inv\ G\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}v{\isachardot}{\kern0pt}\ Sorted{\isacharunderscore}{\kern0pt}Less{\isachardot}{\kern0pt}sorted\ {\isacharparenleft}{\kern0pt}adj\ v\ G{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ Adjacency{\isacharunderscore}{\kern0pt}Structure{\isacharparenright}{\kern0pt}\ invarD{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}inv\ G{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymforall}v{\isachardot}{\kern0pt}\ Sorted{\isacharunderscore}{\kern0pt}Less{\isachardot}{\kern0pt}sorted\ {\isacharparenleft}{\kern0pt}adj\ v\ G{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp{\isacharunderscore}{\kern0pt}all\ add{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ Adjacency{\isacharunderscore}{\kern0pt}Structure{\isacharparenright}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}empty{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}invar\ empty{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ inv{\isacharunderscore}{\kern0pt}empty\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}def\ adj{\isacharunderscore}{\kern0pt}empty{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ Adjacency{\isacharunderscore}{\kern0pt}Structure{\isacharparenright}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}insert{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}invar\ {\isacharparenleft}{\kern0pt}insert\ u\ v\ G{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}def\ adj{\isacharunderscore}{\kern0pt}insert\ intro{\isacharcolon}{\kern0pt}\ inv{\isacharunderscore}{\kern0pt}insert\ sorted{\isacharunderscore}{\kern0pt}ins{\isacharunderscore}{\kern0pt}list{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ Adjacency{\isacharunderscore}{\kern0pt}Structure{\isacharparenright}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}delete{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}invar\ {\isacharparenleft}{\kern0pt}delete\ u\ v\ G{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}def\ adj{\isacharunderscore}{\kern0pt}delete\ intro{\isacharcolon}{\kern0pt}\ inv{\isacharunderscore}{\kern0pt}delete\ List{\isacharunderscore}{\kern0pt}Ins{\isacharunderscore}{\kern0pt}Del{\isachardot}{\kern0pt}sorted{\isacharunderscore}{\kern0pt}del{\isacharunderscore}{\kern0pt}list{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ Adjacency{\isacharunderscore}{\kern0pt}Structure{\isacharparenright}{\kern0pt}\ distinct{\isacharunderscore}{\kern0pt}adj{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}inv\ G\ {\isasymand}\ Sorted{\isacharunderscore}{\kern0pt}Less{\isachardot}{\kern0pt}sorted\ {\isacharparenleft}{\kern0pt}adj\ v\ G{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}distinct\ {\isacharparenleft}{\kern0pt}adj\ v\ G{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ sorted{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}distinct{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}drule\ conjunct{\isadigit{2}}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{locale}\isamarkupfalse%
\ Finite{\isacharunderscore}{\kern0pt}Adjacency{\isacharunderscore}{\kern0pt}Structure\ {\isacharequal}{\kern0pt}\ Adjacency{\isacharunderscore}{\kern0pt}Structure\ \isakeyword{where}\ insert\ {\isacharequal}{\kern0pt}\ insert\ \isakeyword{for}\isanewline
\ \ insert\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}linorder\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}g\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}g{\isachardoublequoteclose}\ {\isacharplus}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ finite{\isacharunderscore}{\kern0pt}domain{\isacharunderscore}{\kern0pt}tbd{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}inv\ G\ {\isasymLongrightarrow}\ finite\ {\isacharbraceleft}{\kern0pt}v{\isachardot}{\kern0pt}\ adj\ v\ G\ {\isasymnoteq}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{locale}\isamarkupfalse%
\ Adjacency{\isacharunderscore}{\kern0pt}Structure{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ {\isacharequal}{\kern0pt}\ Adjacency{\isacharunderscore}{\kern0pt}Structure\ \isakeyword{where}\ insert\ {\isacharequal}{\kern0pt}\ insert\ \isakeyword{for}\isanewline
\ \ insert\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}linorder\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}g\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}g{\isachardoublequoteclose}\ {\isacharplus}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ union\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}g\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}g\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}g{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{fixes}\ difference\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}g\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}g\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}g{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ adj{\isacharunderscore}{\kern0pt}union{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymlbrakk}\ inv\ G{\isadigit{1}}{\isacharsemicolon}{\kern0pt}\ Sorted{\isacharunderscore}{\kern0pt}Less{\isachardot}{\kern0pt}sorted\ {\isacharparenleft}{\kern0pt}adj\ v\ G{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharsemicolon}{\kern0pt}\ inv\ G{\isadigit{2}}{\isacharsemicolon}{\kern0pt}\ Sorted{\isacharunderscore}{\kern0pt}Less{\isachardot}{\kern0pt}sorted\ {\isacharparenleft}{\kern0pt}adj\ v\ G{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymrbrakk}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ adj\ v\ {\isacharparenleft}{\kern0pt}union\ G{\isadigit{1}}\ G{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fold\ ins{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}adj\ v\ G{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}adj\ v\ G{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ adj{\isacharunderscore}{\kern0pt}difference{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymlbrakk}\ inv\ G{\isadigit{1}}{\isacharsemicolon}{\kern0pt}\ Sorted{\isacharunderscore}{\kern0pt}Less{\isachardot}{\kern0pt}sorted\ {\isacharparenleft}{\kern0pt}adj\ v\ G{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharsemicolon}{\kern0pt}\ inv\ G{\isadigit{2}}{\isacharsemicolon}{\kern0pt}\ Sorted{\isacharunderscore}{\kern0pt}Less{\isachardot}{\kern0pt}sorted\ {\isacharparenleft}{\kern0pt}adj\ v\ G{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymrbrakk}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ adj\ v\ {\isacharparenleft}{\kern0pt}difference\ G{\isadigit{1}}\ G{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fold\ List{\isacharunderscore}{\kern0pt}Ins{\isacharunderscore}{\kern0pt}Del{\isachardot}{\kern0pt}del{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}adj\ v\ G{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}adj\ v\ G{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ inv{\isacharunderscore}{\kern0pt}union{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}inv\ G{\isadigit{1}}\ {\isasymLongrightarrow}\ inv\ G{\isadigit{2}}\ {\isasymLongrightarrow}\ inv\ {\isacharparenleft}{\kern0pt}union\ G{\isadigit{1}}\ G{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ inv{\isacharunderscore}{\kern0pt}difference{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}inv\ G{\isadigit{1}}\ {\isasymLongrightarrow}\ inv\ G{\isadigit{2}}\ {\isasymLongrightarrow}\ inv\ {\isacharparenleft}{\kern0pt}difference\ G{\isadigit{1}}\ G{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{locale}\isamarkupfalse%
\ Finite{\isacharunderscore}{\kern0pt}Adjacency{\isacharunderscore}{\kern0pt}Structure{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ {\isacharequal}{\kern0pt}\ Adjacency{\isacharunderscore}{\kern0pt}Structure{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ \isakeyword{where}\ insert\ {\isacharequal}{\kern0pt}\ insert\ \isakeyword{for}\isanewline
\ \ insert\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}linorder\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}g\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}g{\isachardoublequoteclose}\ {\isacharplus}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ finite{\isacharunderscore}{\kern0pt}domain{\isacharunderscore}{\kern0pt}tbd{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}inv\ G\ {\isasymLongrightarrow}\ finite\ {\isacharbraceleft}{\kern0pt}v{\isachardot}{\kern0pt}\ adj\ v\ G\ {\isasymnoteq}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}%
\begin{isamarkuptext}%
Unfortunately, we were not able to refactor in time the entire formalization such that it uses
locale \isa{Finite{\isacharunderscore}{\kern0pt}Adjacency{\isacharunderscore}{\kern0pt}Structure{\isacharunderscore}{\kern0pt}{\isadigit{2}}} instead of the following one.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{locale}\isamarkupfalse%
\ adjacency\ {\isacharequal}{\kern0pt}\isanewline
\ \ M{\isacharcolon}{\kern0pt}\ Map{\isacharunderscore}{\kern0pt}by{\isacharunderscore}{\kern0pt}Ordered\ \isakeyword{where}\isanewline
\ \ empty\ {\isacharequal}{\kern0pt}\ Map{\isacharunderscore}{\kern0pt}empty\ \isakeyword{and}\isanewline
\ \ update\ {\isacharequal}{\kern0pt}\ Map{\isacharunderscore}{\kern0pt}update\ \isakeyword{and}\isanewline
\ \ delete\ {\isacharequal}{\kern0pt}\ Map{\isacharunderscore}{\kern0pt}delete\ \isakeyword{and}\isanewline
\ \ lookup\ {\isacharequal}{\kern0pt}\ Map{\isacharunderscore}{\kern0pt}lookup\ \isakeyword{and}\isanewline
\ \ inorder\ {\isacharequal}{\kern0pt}\ Map{\isacharunderscore}{\kern0pt}inorder\ \isakeyword{and}\isanewline
\ \ inv\ {\isacharequal}{\kern0pt}\ Map{\isacharunderscore}{\kern0pt}inv\ {\isacharplus}{\kern0pt}\isanewline
\ \ S{\isacharcolon}{\kern0pt}\ Set{\isacharunderscore}{\kern0pt}by{\isacharunderscore}{\kern0pt}Ordered\ \isakeyword{where}\isanewline
\ \ empty\ {\isacharequal}{\kern0pt}\ Set{\isacharunderscore}{\kern0pt}empty\ \isakeyword{and}\isanewline
\ \ insert\ {\isacharequal}{\kern0pt}\ Set{\isacharunderscore}{\kern0pt}insert\ \isakeyword{and}\isanewline
\ \ delete\ {\isacharequal}{\kern0pt}\ Set{\isacharunderscore}{\kern0pt}delete\ \isakeyword{and}\isanewline
\ \ isin\ {\isacharequal}{\kern0pt}\ Set{\isacharunderscore}{\kern0pt}isin\ \isakeyword{and}\isanewline
\ \ inorder\ {\isacharequal}{\kern0pt}\ Set{\isacharunderscore}{\kern0pt}inorder\ \isakeyword{and}\isanewline
\ \ inv\ {\isacharequal}{\kern0pt}\ Set{\isacharunderscore}{\kern0pt}inv\ \isakeyword{for}\isanewline
\ \ Map{\isacharunderscore}{\kern0pt}empty\ \isakeyword{and}\isanewline
\ \ Map{\isacharunderscore}{\kern0pt}update\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}linorder\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}s\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ Map{\isacharunderscore}{\kern0pt}delete\ \isakeyword{and}\isanewline
\ \ Map{\isacharunderscore}{\kern0pt}lookup\ \isakeyword{and}\isanewline
\ \ Map{\isacharunderscore}{\kern0pt}inorder\ \isakeyword{and}\isanewline
\ \ Map{\isacharunderscore}{\kern0pt}inv\ \isakeyword{and}\isanewline
\ \ Set{\isacharunderscore}{\kern0pt}empty\ \isakeyword{and}\isanewline
\ \ Set{\isacharunderscore}{\kern0pt}insert\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}s\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}s{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ Set{\isacharunderscore}{\kern0pt}delete\ \isakeyword{and}\isanewline
\ \ Set{\isacharunderscore}{\kern0pt}isin\ \isakeyword{and}\isanewline
\ \ Set{\isacharunderscore}{\kern0pt}inorder\ \isakeyword{and}\isanewline
\ \ Set{\isacharunderscore}{\kern0pt}inv\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ invar\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}invar\ G\ {\isasymequiv}\ M{\isachardot}{\kern0pt}invar\ G\ {\isasymand}\ Ball\ {\isacharparenleft}{\kern0pt}M{\isachardot}{\kern0pt}ran\ G{\isacharparenright}{\kern0pt}\ S{\isachardot}{\kern0pt}invar{\isachardoublequoteclose}\isanewline
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ invarD{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}M{\isachardot}{\kern0pt}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}Ball\ {\isacharparenleft}{\kern0pt}M{\isachardot}{\kern0pt}ran\ G{\isacharparenright}{\kern0pt}\ S{\isachardot}{\kern0pt}invar{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp{\isacharunderscore}{\kern0pt}all\ add{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}empty{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}invar\ Map{\isacharunderscore}{\kern0pt}empty{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}def\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}standard{\isacharcomma}{\kern0pt}\ goal{\isacharunderscore}{\kern0pt}cases{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{1}}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ M{\isachardot}{\kern0pt}invar{\isacharunderscore}{\kern0pt}empty\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{2}}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ M{\isachardot}{\kern0pt}ran{\isacharunderscore}{\kern0pt}def\ M{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}empty{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}update{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}S{\isachardot}{\kern0pt}invar\ s{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}invar\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}update\ v\ s\ G{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}def\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}standard{\isacharcomma}{\kern0pt}\ goal{\isacharunderscore}{\kern0pt}cases{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{1}}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}def\ intro{\isacharcolon}{\kern0pt}\ M{\isachardot}{\kern0pt}invar{\isacharunderscore}{\kern0pt}update{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{2}}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ s{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ assm{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}s{\isacharprime}{\kern0pt}\ {\isasymin}\ M{\isachardot}{\kern0pt}ran\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}update\ v\ s\ G{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ v{\isacharprime}{\kern0pt}\ \isakeyword{where}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}Map{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}update\ v\ s\ G{\isacharparenright}{\kern0pt}\ v{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Some\ s{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ M{\isachardot}{\kern0pt}ran{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}S{\isachardot}{\kern0pt}invar\ s{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}v{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ v{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}def\ M{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}update\ M{\isachardot}{\kern0pt}ran{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ list{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}adjacency{\isacharunderscore}{\kern0pt}list\ G\ u\ {\isasymequiv}\ case\ Map{\isacharunderscore}{\kern0pt}lookup\ G\ u\ of\ None\ {\isasymRightarrow}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharbar}{\kern0pt}\ Some\ s\ {\isasymRightarrow}\ Set{\isacharunderscore}{\kern0pt}inorder\ s{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}adjacency{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}finite\ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}set\isanewline
\ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ distinct{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}distinct\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{unfolding}\isamarkupfalse%
\ adjacency{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}Map{\isacharunderscore}{\kern0pt}lookup\ G\ v{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}def\ M{\isachardot}{\kern0pt}ran{\isacharunderscore}{\kern0pt}def\ S{\isachardot}{\kern0pt}invar{\isacharunderscore}{\kern0pt}def\ intro{\isacharcolon}{\kern0pt}\ sorted{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}distinct{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ mem{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}lookup{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}Some{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ u{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}s{\isachardot}{\kern0pt}\ Map{\isacharunderscore}{\kern0pt}lookup\ G\ u\ {\isacharequal}{\kern0pt}\ Some\ s\ {\isasymand}\ v\ {\isasymin}\ S{\isachardot}{\kern0pt}set\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}force\ simp\ add{\isacharcolon}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ S{\isachardot}{\kern0pt}set{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ mem{\isacharunderscore}{\kern0pt}adjacencyE{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ u{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{obtains}\ s\ \isakeyword{where}\isanewline
\ \ \ \ {\isachardoublequoteopen}Map{\isacharunderscore}{\kern0pt}lookup\ G\ u\ {\isacharequal}{\kern0pt}\ Some\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}v\ {\isasymin}\ S{\isachardot}{\kern0pt}set\ s{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ mem{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}lookup{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}Some{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ mem{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}inorder{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ u{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}s{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ s{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inorder\ G{\isacharparenright}{\kern0pt}\ {\isasymand}\ v\ {\isasymin}\ S{\isachardot}{\kern0pt}set\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}standard{\isacharcomma}{\kern0pt}\ goal{\isacharunderscore}{\kern0pt}cases{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{1}}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ s\ \isakeyword{where}\isanewline
\ \ \ \ {\isachardoublequoteopen}Map{\isacharunderscore}{\kern0pt}lookup\ G\ u\ {\isacharequal}{\kern0pt}\ Some\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}v\ {\isasymin}\ S{\isachardot}{\kern0pt}set\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}elim\ mem{\isacharunderscore}{\kern0pt}adjacencyE{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}force\ simp\ add{\isacharcolon}{\kern0pt}\ M{\isachardot}{\kern0pt}mem{\isacharunderscore}{\kern0pt}inorder{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}lookup{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}Some\ dest{\isacharcolon}{\kern0pt}\ invarD{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{2}}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ s\ \isakeyword{where}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ s{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inorder\ G{\isacharparenright}{\kern0pt}\ {\isasymand}\ v\ {\isasymin}\ S{\isachardot}{\kern0pt}set\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}elim\ exE{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}Map{\isacharunderscore}{\kern0pt}lookup\ G\ u\ {\isacharequal}{\kern0pt}\ Some\ s\ {\isasymand}\ v\ {\isasymin}\ S{\isachardot}{\kern0pt}set\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ M{\isachardot}{\kern0pt}mem{\isacharunderscore}{\kern0pt}inorder{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}lookup{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}Some\ dest{\isacharcolon}{\kern0pt}\ invarD{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ S{\isachardot}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\ adjacency{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}inorder{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ u{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymUnion}p{\isasymin}set\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inorder\ G{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ if\ u\ {\isacharequal}{\kern0pt}\ fst\ p\ then\ S{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{{\isacharbraceleft}{\kern0pt}}\isamarkupfalse%
\ \isacommand{fix}\isamarkupfalse%
\ v\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ u{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}s{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ s{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inorder\ G{\isacharparenright}{\kern0pt}\ {\isasymand}\ v\ {\isasymin}\ S{\isachardot}{\kern0pt}set\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ mem{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}inorder{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}p{\isasymin}set\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inorder\ G{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ u\ {\isacharequal}{\kern0pt}\ fst\ p\ {\isasymand}\ v\ {\isasymin}\ S{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ v\ {\isasymin}\ {\isacharparenleft}{\kern0pt}{\isasymUnion}p{\isasymin}set\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inorder\ G{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ if\ u\ {\isacharequal}{\kern0pt}\ fst\ p\ then\ S{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ u{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ \ \ \ v\ {\isasymin}\ {\isacharparenleft}{\kern0pt}{\isasymUnion}p{\isasymin}set\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inorder\ G{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ if\ u\ {\isacharequal}{\kern0pt}\ fst\ p\ then\ S{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\ \isacommand{{\isacharbraceright}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
This locale specifies a graph as a \isa{Map{\isacharunderscore}{\kern0pt}by{\isacharunderscore}{\kern0pt}Ordered} mapping a vertex to its adjacency, which
is specified as a \isa{Set{\isacharunderscore}{\kern0pt}by{\isacharunderscore}{\kern0pt}Ordered}.%
\end{isamarkuptext}\isamarkuptrue%
%
\begin{isamarkuptext}%
We define graph operations insert, delete, union, as well as difference, and show that they
correspond to the respective set operations in terms of \isa{adjacency{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list}. Let us
first look at inserting an edge into a graph.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{definition}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ insert\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ {\isasymtimes}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}insert\ p\ G\ {\isasymequiv}\isanewline
\ \ \ let\ u\ {\isacharequal}{\kern0pt}\ fst\ p{\isacharsemicolon}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ snd\ p\isanewline
\ \ \ in\ let\ s\ {\isacharequal}{\kern0pt}\ case\ Map{\isacharunderscore}{\kern0pt}lookup\ G\ u\ of\ None\ {\isasymRightarrow}\ Set{\isacharunderscore}{\kern0pt}empty\ {\isacharbar}{\kern0pt}\ Some\ s{\isacharprime}{\kern0pt}\ {\isasymRightarrow}\ s{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \ \ in\ Map{\isacharunderscore}{\kern0pt}update\ u\ {\isacharparenleft}{\kern0pt}Set{\isacharunderscore}{\kern0pt}insert\ v\ s{\isacharparenright}{\kern0pt}\ G{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}insert{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}invar\ {\isacharparenleft}{\kern0pt}insert\ p\ G{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}Map{\isacharunderscore}{\kern0pt}lookup\ G\ {\isacharparenleft}{\kern0pt}fst\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ None\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ S{\isachardot}{\kern0pt}invar{\isacharunderscore}{\kern0pt}empty\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ insert{\isacharunderscore}{\kern0pt}def\ intro{\isacharcolon}{\kern0pt}\ S{\isachardot}{\kern0pt}invar{\isacharunderscore}{\kern0pt}insert\ invar{\isacharunderscore}{\kern0pt}update{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Some\ s{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}S{\isachardot}{\kern0pt}invar\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}def\ M{\isachardot}{\kern0pt}ran{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ insert{\isacharunderscore}{\kern0pt}def\ Some\ intro{\isacharcolon}{\kern0pt}\ S{\isachardot}{\kern0pt}invar{\isacharunderscore}{\kern0pt}insert\ invar{\isacharunderscore}{\kern0pt}update{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}insert{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}insert\ p\ G{\isacharparenright}{\kern0pt}\ w\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}if\ w\ {\isacharequal}{\kern0pt}\ fst\ p\ then\ ins{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ w{\isacharparenright}{\kern0pt}\ else\ adjacency{\isacharunderscore}{\kern0pt}list\ G\ w{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}Map{\isacharunderscore}{\kern0pt}lookup\ G\ {\isacharparenleft}{\kern0pt}fst\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ None\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}u\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}fst\ p{\isachardoublequoteclose}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}v\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}snd\ p{\isachardoublequoteclose}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}singleton\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}Set{\isacharunderscore}{\kern0pt}insert\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}\ Set{\isacharunderscore}{\kern0pt}empty{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}insert\ p\ G{\isacharparenright}{\kern0pt}\ w\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}case\ Map{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}insert\ p\ G{\isacharparenright}{\kern0pt}\ w\ of\ None\ {\isasymRightarrow}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharbar}{\kern0pt}\ Some\ s\ {\isasymRightarrow}\ Set{\isacharunderscore}{\kern0pt}inorder\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}case\ Map{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}update\ {\isacharquery}{\kern0pt}u\ {\isacharquery}{\kern0pt}singleton\ G{\isacharparenright}{\kern0pt}\ w\ of\ None\ {\isasymRightarrow}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharbar}{\kern0pt}\ Some\ s\ {\isasymRightarrow}\ Set{\isacharunderscore}{\kern0pt}inorder\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ insert{\isacharunderscore}{\kern0pt}def\ None{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}case\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}lookup\ G{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}u\ {\isasymmapsto}\ {\isacharquery}{\kern0pt}singleton{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ w\ of\ None\ {\isasymRightarrow}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharbar}{\kern0pt}\ Some\ s\ {\isasymRightarrow}\ Set{\isacharunderscore}{\kern0pt}inorder\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}def\ M{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}update{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}if\ w\ {\isacharequal}{\kern0pt}\ {\isacharquery}{\kern0pt}u\ then\ ins{\isacharunderscore}{\kern0pt}list\ {\isacharquery}{\kern0pt}v\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ w{\isacharparenright}{\kern0pt}\ else\ adjacency{\isacharunderscore}{\kern0pt}list\ G\ w{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}w\ {\isacharequal}{\kern0pt}\ {\isacharquery}{\kern0pt}u{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}case\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}lookup\ G{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}u\ {\isasymmapsto}\ {\isacharquery}{\kern0pt}singleton{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ w\ of\ None\ {\isasymRightarrow}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharbar}{\kern0pt}\ Some\ s\ {\isasymRightarrow}\ Set{\isacharunderscore}{\kern0pt}inorder\ s{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ ins{\isacharunderscore}{\kern0pt}list\ {\isacharquery}{\kern0pt}v\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ S{\isachardot}{\kern0pt}inorder{\isacharunderscore}{\kern0pt}inv{\isacharunderscore}{\kern0pt}empty\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ S{\isachardot}{\kern0pt}inorder{\isacharunderscore}{\kern0pt}empty\ S{\isachardot}{\kern0pt}inorder{\isacharunderscore}{\kern0pt}insert{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ None{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Some\ s{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ invar{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}S{\isachardot}{\kern0pt}invar\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}def\ M{\isachardot}{\kern0pt}ran{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}u\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}fst\ p{\isachardoublequoteclose}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}v\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}snd\ p{\isachardoublequoteclose}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}insert\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}Set{\isacharunderscore}{\kern0pt}insert\ {\isacharquery}{\kern0pt}v\ s{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}insert\ p\ G{\isacharparenright}{\kern0pt}\ w\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}case\ Map{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}insert\ p\ G{\isacharparenright}{\kern0pt}\ w\ of\ None\ {\isasymRightarrow}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharbar}{\kern0pt}\ Some\ s\ {\isasymRightarrow}\ Set{\isacharunderscore}{\kern0pt}inorder\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}case\ Map{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}update\ {\isacharquery}{\kern0pt}u\ {\isacharquery}{\kern0pt}insert\ G{\isacharparenright}{\kern0pt}\ w\ of\ None\ {\isasymRightarrow}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharbar}{\kern0pt}\ Some\ s\ {\isasymRightarrow}\ Set{\isacharunderscore}{\kern0pt}inorder\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ insert{\isacharunderscore}{\kern0pt}def\ Some{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}case\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}lookup\ G{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}u\ {\isasymmapsto}\ {\isacharquery}{\kern0pt}insert{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ w\ of\ None\ {\isasymRightarrow}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharbar}{\kern0pt}\ Some\ s\ {\isasymRightarrow}\ Set{\isacharunderscore}{\kern0pt}inorder\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}def\ M{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}update{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}if\ w\ {\isacharequal}{\kern0pt}\ {\isacharquery}{\kern0pt}u\ then\ ins{\isacharunderscore}{\kern0pt}list\ {\isacharquery}{\kern0pt}v\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ w{\isacharparenright}{\kern0pt}\ else\ adjacency{\isacharunderscore}{\kern0pt}list\ G\ w{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}w\ {\isacharequal}{\kern0pt}\ {\isacharquery}{\kern0pt}u{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}case\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}lookup\ G{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}u\ {\isasymmapsto}\ {\isacharquery}{\kern0pt}insert{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ w\ of\ None\ {\isasymRightarrow}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharbar}{\kern0pt}\ Some\ s\ {\isasymRightarrow}\ Set{\isacharunderscore}{\kern0pt}inorder\ s{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ ins{\isacharunderscore}{\kern0pt}list\ {\isacharquery}{\kern0pt}v\ {\isacharparenleft}{\kern0pt}Set{\isacharunderscore}{\kern0pt}inorder\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ invar\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ S{\isachardot}{\kern0pt}invar{\isacharunderscore}{\kern0pt}def\ S{\isachardot}{\kern0pt}inorder{\isacharunderscore}{\kern0pt}insert{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ Some{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}insert{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}insert\ p\ G{\isacharparenright}{\kern0pt}\ u{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ u{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}if\ u\ {\isacharequal}{\kern0pt}\ fst\ p\ then\ {\isacharbraceleft}{\kern0pt}snd\ p{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}Map{\isacharunderscore}{\kern0pt}lookup\ G\ {\isacharparenleft}{\kern0pt}fst\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ None\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}singleton\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}Set{\isacharunderscore}{\kern0pt}insert\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}\ Set{\isacharunderscore}{\kern0pt}empty{\isachardoublequoteclose}\isanewline
\ \ \isacommand{{\isacharbraceleft}{\kern0pt}}\isamarkupfalse%
\ \isacommand{fix}\isamarkupfalse%
\ v\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}insert\ p\ G{\isacharparenright}{\kern0pt}\ u{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ \ \ \ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}update\ {\isacharparenleft}{\kern0pt}fst\ p{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}singleton\ G{\isacharparenright}{\kern0pt}\ u{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ insert{\isacharunderscore}{\kern0pt}def\ None{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}s{\isachardot}{\kern0pt}\ Map{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}update\ {\isacharparenleft}{\kern0pt}fst\ p{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}singleton\ G{\isacharparenright}{\kern0pt}\ u\ {\isacharequal}{\kern0pt}\ Some\ s\ {\isasymand}\ v\ {\isasymin}\ S{\isachardot}{\kern0pt}set\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ mem{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}lookup{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}Some{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}s{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}lookup\ G{\isacharparenleft}{\kern0pt}fst\ p\ {\isasymmapsto}\ {\isacharquery}{\kern0pt}singleton{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ u\ {\isacharequal}{\kern0pt}\ Some\ s\ {\isasymand}\ v\ {\isasymin}\ S{\isachardot}{\kern0pt}set\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ M{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}update\ dest{\isacharcolon}{\kern0pt}\ invarD{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ u{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}if\ u\ {\isacharequal}{\kern0pt}\ fst\ p\ then\ {\isacharbraceleft}{\kern0pt}snd\ p{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ S{\isachardot}{\kern0pt}invar{\isacharunderscore}{\kern0pt}empty\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ None\ mem{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}lookup{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}Some\ S{\isachardot}{\kern0pt}set{\isacharunderscore}{\kern0pt}insert\ S{\isachardot}{\kern0pt}set{\isacharunderscore}{\kern0pt}empty{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}insert\ p\ G{\isacharparenright}{\kern0pt}\ u{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ \ \ \ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ u{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}if\ u\ {\isacharequal}{\kern0pt}\ fst\ p\ then\ {\isacharbraceleft}{\kern0pt}snd\ p{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\ \isacommand{{\isacharbraceright}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Some\ s{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ invar{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}S{\isachardot}{\kern0pt}invar\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}def\ M{\isachardot}{\kern0pt}ran{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}insert\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}Set{\isacharunderscore}{\kern0pt}insert\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}\ s{\isachardoublequoteclose}\isanewline
\ \ \isacommand{{\isacharbraceleft}{\kern0pt}}\isamarkupfalse%
\ \isacommand{fix}\isamarkupfalse%
\ v\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}insert\ p\ G{\isacharparenright}{\kern0pt}\ u{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ \ \ \ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}update\ {\isacharparenleft}{\kern0pt}fst\ p{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}insert\ G{\isacharparenright}{\kern0pt}\ u{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ insert{\isacharunderscore}{\kern0pt}def\ Some{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}s{\isachardot}{\kern0pt}\ Map{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}update\ {\isacharparenleft}{\kern0pt}fst\ p{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}insert\ G{\isacharparenright}{\kern0pt}\ u\ {\isacharequal}{\kern0pt}\ Some\ s\ {\isasymand}\ v\ {\isasymin}\ S{\isachardot}{\kern0pt}set\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ mem{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}lookup{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}Some{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}s{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}lookup\ G{\isacharparenleft}{\kern0pt}fst\ p\ {\isasymmapsto}\ {\isacharquery}{\kern0pt}insert{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ u\ {\isacharequal}{\kern0pt}\ Some\ s\ {\isasymand}\ v\ {\isasymin}\ S{\isachardot}{\kern0pt}set\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ M{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}update\ dest{\isacharcolon}{\kern0pt}\ invarD{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ u{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}if\ u\ {\isacharequal}{\kern0pt}\ fst\ p\ then\ {\isacharbraceleft}{\kern0pt}snd\ p{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ invar\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ Some\ mem{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}lookup{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}Some\ S{\isachardot}{\kern0pt}set{\isacharunderscore}{\kern0pt}insert{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}insert\ p\ G{\isacharparenright}{\kern0pt}\ u{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ \ \ \ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ u{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}if\ u\ {\isacharequal}{\kern0pt}\ fst\ p\ then\ {\isacharbraceleft}{\kern0pt}snd\ p{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\ \isacommand{{\isacharbraceright}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}insert{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}invar\ {\isacharparenleft}{\kern0pt}fold\ insert\ l\ G{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ l\ arbitrary{\isacharcolon}{\kern0pt}\ G{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Nil\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Cons\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}insert\ Cons{\isachardot}{\kern0pt}hyps{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}insert{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}fold\ insert\ l\ G{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ v{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}{\isasymUnion}p{\isasymin}set\ l{\isachardot}{\kern0pt}\ if\ v\ {\isacharequal}{\kern0pt}\ fst\ p\ then\ {\isacharbraceleft}{\kern0pt}snd\ p{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ l\ arbitrary{\isacharcolon}{\kern0pt}\ G{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Nil\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Cons\ p\ ps{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}fold\ insert\ {\isacharparenleft}{\kern0pt}p\ {\isacharhash}{\kern0pt}\ ps{\isacharparenright}{\kern0pt}\ G{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}fold\ insert\ ps\ {\isacharparenleft}{\kern0pt}insert\ p\ G{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}insert\ p\ G{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymUnion}p{\isasymin}set\ ps{\isachardot}{\kern0pt}\ if\ v\ {\isacharequal}{\kern0pt}\ fst\ p\ then\ {\isacharbraceleft}{\kern0pt}snd\ p{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isachardot}{\kern0pt}prems\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ invar{\isacharunderscore}{\kern0pt}insert\ Cons{\isachardot}{\kern0pt}hyps{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ v{\isacharparenright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}if\ v\ {\isacharequal}{\kern0pt}\ fst\ p\ then\ {\isacharbraceleft}{\kern0pt}snd\ p{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymUnion}p{\isasymin}set\ ps{\isachardot}{\kern0pt}\ if\ v\ {\isacharequal}{\kern0pt}\ fst\ p\ then\ {\isacharbraceleft}{\kern0pt}snd\ p{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isachardot}{\kern0pt}prems\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}insert{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ v{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}{\isasymUnion}p{\isasymin}set\ {\isacharparenleft}{\kern0pt}p\ {\isacharhash}{\kern0pt}\ ps{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ if\ v\ {\isacharequal}{\kern0pt}\ fst\ p\ then\ {\isacharbraceleft}{\kern0pt}snd\ p{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ insert{\isacharprime}{\kern0pt}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}insert{\isacharprime}{\kern0pt}\ {\isasymequiv}\ curry\ insert{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}insert{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}invar\ {\isacharparenleft}{\kern0pt}insert{\isacharprime}{\kern0pt}\ u\ v\ G{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ insert{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ intro{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}insert{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}insert{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}insert{\isacharprime}{\kern0pt}\ u\ v\ G{\isacharparenright}{\kern0pt}\ w\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}if\ w\ {\isacharequal}{\kern0pt}\ u\ then\ ins{\isacharunderscore}{\kern0pt}list\ v\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ w{\isacharparenright}{\kern0pt}\ else\ adjacency{\isacharunderscore}{\kern0pt}list\ G\ w{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ insert{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ adjacency{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}insert{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}insert{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}insert{\isacharprime}{\kern0pt}\ u\ v\ G{\isacharparenright}{\kern0pt}\ w{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ w{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}if\ w\ {\isacharequal}{\kern0pt}\ u\ then\ {\isacharbraceleft}{\kern0pt}v{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ insert{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ adjacency{\isacharunderscore}{\kern0pt}insert{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}insert{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}invar\ {\isacharparenleft}{\kern0pt}fold\ {\isacharparenleft}{\kern0pt}insert{\isacharprime}{\kern0pt}\ u{\isacharparenright}{\kern0pt}\ l\ G{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ l\ arbitrary{\isacharcolon}{\kern0pt}\ G{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Nil\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Cons\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}insert{\isacharprime}{\kern0pt}\ Cons{\isachardot}{\kern0pt}hyps{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}insert{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}fold\ {\isacharparenleft}{\kern0pt}insert{\isacharprime}{\kern0pt}\ u{\isacharparenright}{\kern0pt}\ l\ G{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ v{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}{\isasymUnion}w{\isasymin}set\ l{\isachardot}{\kern0pt}\ if\ v\ {\isacharequal}{\kern0pt}\ u\ then\ {\isacharbraceleft}{\kern0pt}w{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ l\ arbitrary{\isacharcolon}{\kern0pt}\ G{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Nil\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Cons\ w\ ws{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}fold\ {\isacharparenleft}{\kern0pt}insert{\isacharprime}{\kern0pt}\ u{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}w\ {\isacharhash}{\kern0pt}\ ws{\isacharparenright}{\kern0pt}\ G{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}fold\ {\isacharparenleft}{\kern0pt}insert{\isacharprime}{\kern0pt}\ u{\isacharparenright}{\kern0pt}\ ws\ {\isacharparenleft}{\kern0pt}insert{\isacharprime}{\kern0pt}\ u\ w\ G{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}insert{\isacharprime}{\kern0pt}\ u\ w\ G{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}{\isasymUnion}x{\isasymin}set\ ws{\isachardot}{\kern0pt}\ if\ v\ {\isacharequal}{\kern0pt}\ u\ then\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isachardot}{\kern0pt}prems\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ invar{\isacharunderscore}{\kern0pt}insert{\isacharprime}{\kern0pt}\ Cons{\isachardot}{\kern0pt}hyps{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ v{\isacharparenright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}if\ v\ {\isacharequal}{\kern0pt}\ u\ then\ {\isacharbraceleft}{\kern0pt}w{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymUnion}x{\isasymin}set\ ws{\isachardot}{\kern0pt}\ if\ v\ {\isacharequal}{\kern0pt}\ u\ then\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isachardot}{\kern0pt}prems\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}insert{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ v{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}{\isasymUnion}x{\isasymin}set\ {\isacharparenleft}{\kern0pt}w\ {\isacharhash}{\kern0pt}\ ws{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ if\ v\ {\isacharequal}{\kern0pt}\ u\ then\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
Next, let us look at deleting an edge from a graph.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{definition}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ delete\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ {\isasymtimes}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}delete\ p\ G\ {\isasymequiv}\isanewline
\ \ \ case\ Map{\isacharunderscore}{\kern0pt}lookup\ G\ {\isacharparenleft}{\kern0pt}fst\ p{\isacharparenright}{\kern0pt}\ of\isanewline
\ \ \ \ \ None\ {\isasymRightarrow}\ G\ {\isacharbar}{\kern0pt}\isanewline
\ \ \ \ \ Some\ s\ {\isasymRightarrow}\ Map{\isacharunderscore}{\kern0pt}update\ {\isacharparenleft}{\kern0pt}fst\ p{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Set{\isacharunderscore}{\kern0pt}delete\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}\ s{\isacharparenright}{\kern0pt}\ G{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}delete{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}invar\ {\isacharparenleft}{\kern0pt}delete\ p\ G{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}Map{\isacharunderscore}{\kern0pt}lookup\ G\ {\isacharparenleft}{\kern0pt}fst\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ None\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ delete{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Some\ s{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}S{\isachardot}{\kern0pt}invar\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}def\ M{\isachardot}{\kern0pt}ran{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ delete{\isacharunderscore}{\kern0pt}def\ Some\ intro{\isacharcolon}{\kern0pt}\ S{\isachardot}{\kern0pt}invar{\isacharunderscore}{\kern0pt}delete\ intro{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}update{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}delete{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}delete\ p\ G{\isacharparenright}{\kern0pt}\ w\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}if\ w\ {\isacharequal}{\kern0pt}\ fst\ p\ then\ List{\isacharunderscore}{\kern0pt}Ins{\isacharunderscore}{\kern0pt}Del{\isachardot}{\kern0pt}del{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ w{\isacharparenright}{\kern0pt}\ else\ adjacency{\isacharunderscore}{\kern0pt}list\ G\ w{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}Map{\isacharunderscore}{\kern0pt}lookup\ G\ {\isacharparenleft}{\kern0pt}fst\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ None\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}u\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}fst\ p{\isachardoublequoteclose}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}v\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}snd\ p{\isachardoublequoteclose}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}singleton\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}Set{\isacharunderscore}{\kern0pt}insert\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}\ Set{\isacharunderscore}{\kern0pt}empty{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}delete\ p\ G{\isacharparenright}{\kern0pt}\ w\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}case\ Map{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}delete\ p\ G{\isacharparenright}{\kern0pt}\ w\ of\ None\ {\isasymRightarrow}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharbar}{\kern0pt}\ Some\ s\ {\isasymRightarrow}\ Set{\isacharunderscore}{\kern0pt}inorder\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}case\ Map{\isacharunderscore}{\kern0pt}lookup\ G\ w\ of\ None\ {\isasymRightarrow}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharbar}{\kern0pt}\ Some\ s\ {\isasymRightarrow}\ Set{\isacharunderscore}{\kern0pt}inorder\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ delete{\isacharunderscore}{\kern0pt}def\ None{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}if\ w\ {\isacharequal}{\kern0pt}\ {\isacharquery}{\kern0pt}u\ then\ List{\isacharunderscore}{\kern0pt}Ins{\isacharunderscore}{\kern0pt}Del{\isachardot}{\kern0pt}del{\isacharunderscore}{\kern0pt}list\ {\isacharquery}{\kern0pt}v\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ w{\isacharparenright}{\kern0pt}\ else\ adjacency{\isacharunderscore}{\kern0pt}list\ G\ w{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ None{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Some\ s{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ invar{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}S{\isachardot}{\kern0pt}invar\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}def\ M{\isachardot}{\kern0pt}ran{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}u\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}fst\ p{\isachardoublequoteclose}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}v\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}snd\ p{\isachardoublequoteclose}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}delete\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}Set{\isacharunderscore}{\kern0pt}delete\ {\isacharquery}{\kern0pt}v\ s{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}delete\ p\ G{\isacharparenright}{\kern0pt}\ w\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}case\ Map{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}delete\ p\ G{\isacharparenright}{\kern0pt}\ w\ of\ None\ {\isasymRightarrow}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharbar}{\kern0pt}\ Some\ s\ {\isasymRightarrow}\ Set{\isacharunderscore}{\kern0pt}inorder\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}case\ Map{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}update\ {\isacharquery}{\kern0pt}u\ {\isacharquery}{\kern0pt}delete\ G{\isacharparenright}{\kern0pt}\ w\ of\ None\ {\isasymRightarrow}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharbar}{\kern0pt}\ Some\ s\ {\isasymRightarrow}\ Set{\isacharunderscore}{\kern0pt}inorder\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ delete{\isacharunderscore}{\kern0pt}def\ Some{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}case\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}lookup\ G{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}u\ {\isasymmapsto}\ {\isacharquery}{\kern0pt}delete{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ w\ of\ None\ {\isasymRightarrow}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharbar}{\kern0pt}\ Some\ s\ {\isasymRightarrow}\ Set{\isacharunderscore}{\kern0pt}inorder\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}def\ M{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}update{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}if\ w\ {\isacharequal}{\kern0pt}\ {\isacharquery}{\kern0pt}u\ then\ List{\isacharunderscore}{\kern0pt}Ins{\isacharunderscore}{\kern0pt}Del{\isachardot}{\kern0pt}del{\isacharunderscore}{\kern0pt}list\ {\isacharquery}{\kern0pt}v\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ w{\isacharparenright}{\kern0pt}\ else\ adjacency{\isacharunderscore}{\kern0pt}list\ G\ w{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}w\ {\isacharequal}{\kern0pt}\ {\isacharquery}{\kern0pt}u{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}case\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}lookup\ G{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}u\ {\isasymmapsto}\ {\isacharquery}{\kern0pt}delete{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ w\ of\ None\ {\isasymRightarrow}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharbar}{\kern0pt}\ Some\ s\ {\isasymRightarrow}\ Set{\isacharunderscore}{\kern0pt}inorder\ s{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ List{\isacharunderscore}{\kern0pt}Ins{\isacharunderscore}{\kern0pt}Del{\isachardot}{\kern0pt}del{\isacharunderscore}{\kern0pt}list\ {\isacharquery}{\kern0pt}v\ {\isacharparenleft}{\kern0pt}Set{\isacharunderscore}{\kern0pt}inorder\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ invar\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ S{\isachardot}{\kern0pt}invar{\isacharunderscore}{\kern0pt}def\ S{\isachardot}{\kern0pt}inorder{\isacharunderscore}{\kern0pt}delete{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ Some{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ delete{\isacharprime}{\kern0pt}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}delete{\isacharprime}{\kern0pt}\ {\isasymequiv}\ curry\ delete{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}delete{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}invar\ {\isacharparenleft}{\kern0pt}delete{\isacharprime}{\kern0pt}\ u\ v\ G{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ delete{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ intro{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}delete{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}delete{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}delete{\isacharprime}{\kern0pt}\ u\ v\ G{\isacharparenright}{\kern0pt}\ w\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}if\ w\ {\isacharequal}{\kern0pt}\ u\ then\ List{\isacharunderscore}{\kern0pt}Ins{\isacharunderscore}{\kern0pt}Del{\isachardot}{\kern0pt}del{\isacharunderscore}{\kern0pt}list\ v\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ w{\isacharparenright}{\kern0pt}\ else\ adjacency{\isacharunderscore}{\kern0pt}list\ G\ w{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ delete{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ adjacency{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}delete{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
Let us now look at computing the union two graphs.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{definition}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ insert{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ {\isasymtimes}\ {\isacharprime}{\kern0pt}s\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}insert{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ p\ G\ {\isasymequiv}\isanewline
\ \ \ let\ v\ {\isacharequal}{\kern0pt}\ fst\ p{\isacharsemicolon}{\kern0pt}\ s\ {\isacharequal}{\kern0pt}\ snd\ p\isanewline
\ \ \ in\ let\ s{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ case\ Map{\isacharunderscore}{\kern0pt}lookup\ G\ v\ of\ None\ {\isasymRightarrow}\ s\ {\isacharbar}{\kern0pt}\ Some\ s{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ {\isasymRightarrow}\ fold\ Set{\isacharunderscore}{\kern0pt}insert\ {\isacharparenleft}{\kern0pt}Set{\isacharunderscore}{\kern0pt}inorder\ s{\isacharparenright}{\kern0pt}\ s{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \ \ in\ Map{\isacharunderscore}{\kern0pt}update\ v\ s{\isacharprime}{\kern0pt}\ G{\isachardoublequoteclose}\isanewline
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ Set{\isacharunderscore}{\kern0pt}by{\isacharunderscore}{\kern0pt}Ordered{\isacharparenright}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}insert{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ s{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}invar\ {\isacharparenleft}{\kern0pt}fold\ insert\ l\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ l\ arbitrary{\isacharcolon}{\kern0pt}\ s{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}insert{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ Set{\isacharunderscore}{\kern0pt}by{\isacharunderscore}{\kern0pt}Ordered{\isacharparenright}{\kern0pt}\ fold{\isacharunderscore}{\kern0pt}insert{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ s{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}fold\ insert\ l\ s{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ set\ s\ {\isasymunion}\ List{\isachardot}{\kern0pt}set\ l{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ l\ arbitrary{\isacharcolon}{\kern0pt}\ s{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Nil\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Cons\ x\ xs{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}fold\ insert\ {\isacharparenleft}{\kern0pt}x\ {\isacharhash}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}\ s{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}fold\ insert\ xs\ {\isacharparenleft}{\kern0pt}insert\ x\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}insert\ x\ s{\isacharparenright}{\kern0pt}\ {\isasymunion}\ List{\isachardot}{\kern0pt}set\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isachardot}{\kern0pt}prems\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ invar{\isacharunderscore}{\kern0pt}insert\ Cons{\isachardot}{\kern0pt}hyps{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ set\ s\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isasymunion}\ List{\isachardot}{\kern0pt}set\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isachardot}{\kern0pt}prems\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}insert{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ set\ s\ {\isasymunion}\ List{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}x\ {\isacharhash}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}insert{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}S{\isachardot}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}invar\ {\isacharparenleft}{\kern0pt}insert{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ p\ G{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}Map{\isacharunderscore}{\kern0pt}lookup\ G\ {\isacharparenleft}{\kern0pt}fst\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ None\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ insert{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}def\ intro{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}update{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Some\ s{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}S{\isachardot}{\kern0pt}invar\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}def\ M{\isachardot}{\kern0pt}ran{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ insert{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}def\ Some\ intro{\isacharcolon}{\kern0pt}\ S{\isachardot}{\kern0pt}invar{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}insert\ invar{\isacharunderscore}{\kern0pt}update{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}insert{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}S{\isachardot}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}insert{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ p\ G{\isacharparenright}{\kern0pt}\ u{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ u{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}if\ u\ {\isacharequal}{\kern0pt}\ fst\ p\ then\ S{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}Map{\isacharunderscore}{\kern0pt}lookup\ G\ {\isacharparenleft}{\kern0pt}fst\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ None\isanewline
\ \ \isacommand{{\isacharbraceleft}{\kern0pt}}\isamarkupfalse%
\ \isacommand{fix}\isamarkupfalse%
\ v\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}insert{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ p\ G{\isacharparenright}{\kern0pt}\ u{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ \ \ \ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}update\ {\isacharparenleft}{\kern0pt}fst\ p{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}\ G{\isacharparenright}{\kern0pt}\ u{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ insert{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}def\ None{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}s{\isachardot}{\kern0pt}\ Map{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}update\ {\isacharparenleft}{\kern0pt}fst\ p{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}\ G{\isacharparenright}{\kern0pt}\ u\ {\isacharequal}{\kern0pt}\ Some\ s\ {\isasymand}\ v\ {\isasymin}\ S{\isachardot}{\kern0pt}set\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ mem{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}lookup{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}Some{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}s{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}lookup\ G{\isacharparenleft}{\kern0pt}fst\ p\ {\isasymmapsto}\ snd\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ u\ {\isacharequal}{\kern0pt}\ Some\ s\ {\isasymand}\ v\ {\isasymin}\ S{\isachardot}{\kern0pt}set\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ M{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}update\ dest{\isacharcolon}{\kern0pt}\ invarD{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ u{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}if\ u\ {\isacharequal}{\kern0pt}\ fst\ p\ then\ S{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ None\ mem{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}lookup{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}Some{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}insert{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ p\ G{\isacharparenright}{\kern0pt}\ u{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ \ \ \ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ u{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}if\ u\ {\isacharequal}{\kern0pt}\ fst\ p\ then\ S{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\ \isacommand{{\isacharbraceright}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Some\ s{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ invar{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}S{\isachardot}{\kern0pt}invar\ s{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}def\ M{\isachardot}{\kern0pt}ran{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}fold\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}fold\ Set{\isacharunderscore}{\kern0pt}insert\ {\isacharparenleft}{\kern0pt}Set{\isacharunderscore}{\kern0pt}inorder\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ s{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{{\isacharbraceleft}{\kern0pt}}\isamarkupfalse%
\ \isacommand{fix}\isamarkupfalse%
\ v\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}insert{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ p\ G{\isacharparenright}{\kern0pt}\ u{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ \ \ \ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}update\ {\isacharparenleft}{\kern0pt}fst\ p{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}fold\ G{\isacharparenright}{\kern0pt}\ u{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ insert{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}def\ Some{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}s{\isachardot}{\kern0pt}\ Map{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}update\ {\isacharparenleft}{\kern0pt}fst\ p{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}fold\ G{\isacharparenright}{\kern0pt}\ u\ {\isacharequal}{\kern0pt}\ Some\ s\ {\isasymand}\ v\ {\isasymin}\ S{\isachardot}{\kern0pt}set\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ mem{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}lookup{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}Some{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}s{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}lookup\ G{\isacharparenleft}{\kern0pt}fst\ p\ {\isasymmapsto}\ {\isacharquery}{\kern0pt}fold{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ u\ {\isacharequal}{\kern0pt}\ Some\ s\ {\isasymand}\ v\ {\isasymin}\ S{\isachardot}{\kern0pt}set\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ M{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}update\ dest{\isacharcolon}{\kern0pt}\ invarD{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ u{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}if\ u\ {\isacharequal}{\kern0pt}\ fst\ p\ then\ S{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ invar\ S{\isachardot}{\kern0pt}fold{\isacharunderscore}{\kern0pt}insert{\isacharunderscore}{\kern0pt}cong\ Some\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ S{\isachardot}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\ mem{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}lookup{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}Some{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}insert{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ p\ G{\isacharparenright}{\kern0pt}\ u{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ \ \ \ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ u{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}if\ u\ {\isacharequal}{\kern0pt}\ fst\ p\ then\ S{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\ \isacommand{{\isacharbraceright}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}insert{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}Ball\ {\isacharparenleft}{\kern0pt}set\ l{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}S{\isachardot}{\kern0pt}invar\ {\isasymcirc}\ snd{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}invar\ {\isacharparenleft}{\kern0pt}fold\ insert{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ l\ G{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ l\ arbitrary{\isacharcolon}{\kern0pt}\ G{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Nil\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Cons\ p\ ps{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}S{\isachardot}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}Ball\ {\isacharparenleft}{\kern0pt}set\ ps{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}S{\isachardot}{\kern0pt}invar\ {\isasymcirc}\ snd{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
{\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isachardot}{\kern0pt}prems{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ intro{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}insert{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ Cons{\isachardot}{\kern0pt}hyps{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}insert{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}Ball\ {\isacharparenleft}{\kern0pt}set\ l{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}S{\isachardot}{\kern0pt}invar\ {\isasymcirc}\ snd{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}fold\ insert{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ l\ G{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ v{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}{\isasymUnion}p{\isasymin}set\ l{\isachardot}{\kern0pt}\ if\ v\ {\isacharequal}{\kern0pt}\ fst\ p\ then\ S{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ l\ arbitrary{\isacharcolon}{\kern0pt}\ G{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Nil\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Cons\ p\ ps{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ prems{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}S{\isachardot}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}Ball\ {\isacharparenleft}{\kern0pt}set\ ps{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}S{\isachardot}{\kern0pt}invar\ {\isasymcirc}\ snd{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp{\isacharplus}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}fold\ insert{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ {\isacharparenleft}{\kern0pt}p\ {\isacharhash}{\kern0pt}\ ps{\isacharparenright}{\kern0pt}\ G{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}fold\ insert{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ ps\ {\isacharparenleft}{\kern0pt}insert{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ p\ G{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}insert{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ p\ G{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymUnion}p{\isasymin}set\ ps{\isachardot}{\kern0pt}\ if\ v\ {\isacharequal}{\kern0pt}\ fst\ p\ then\ S{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isachardot}{\kern0pt}prems{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ prems\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ invar{\isacharunderscore}{\kern0pt}insert{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ Cons{\isachardot}{\kern0pt}hyps{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ v{\isacharparenright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}if\ v\ {\isacharequal}{\kern0pt}\ fst\ p\ then\ S{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymUnion}p{\isasymin}set\ ps{\isachardot}{\kern0pt}\ if\ v\ {\isacharequal}{\kern0pt}\ fst\ p\ then\ S{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isachardot}{\kern0pt}prems{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ prems{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}insert{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ v{\isacharparenright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymUnion}p{\isasymin}set\ {\isacharparenleft}{\kern0pt}p\ {\isacharhash}{\kern0pt}\ ps{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ if\ v\ {\isacharequal}{\kern0pt}\ fst\ p\ then\ S{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ union\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}union\ G{\isadigit{1}}\ G{\isadigit{2}}\ {\isasymequiv}\ fold\ insert{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inorder\ G{\isadigit{2}}{\isacharparenright}{\kern0pt}\ G{\isadigit{1}}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}union{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}invar\ {\isacharparenleft}{\kern0pt}union\ G{\isadigit{1}}\ G{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}Ball\ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inorder\ G{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}S{\isachardot}{\kern0pt}invar\ {\isasymcirc}\ snd{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp\ add{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}def\ M{\isachardot}{\kern0pt}ran{\isacharunderscore}{\kern0pt}def\ M{\isachardot}{\kern0pt}mem{\isacharunderscore}{\kern0pt}inorder{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}lookup{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}Some{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ union{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ invar{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}insert{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}union{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}union\ G{\isadigit{1}}\ G{\isadigit{2}}{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G{\isadigit{1}}\ v{\isacharparenright}{\kern0pt}\ {\isasymunion}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G{\isadigit{2}}\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}Ball\ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inorder\ G{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}S{\isachardot}{\kern0pt}invar\ {\isasymcirc}\ snd{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp\ add{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}def\ M{\isachardot}{\kern0pt}ran{\isacharunderscore}{\kern0pt}def\ M{\isachardot}{\kern0pt}mem{\isacharunderscore}{\kern0pt}inorder{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}lookup{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}Some{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}union\ G{\isadigit{1}}\ G{\isadigit{2}}{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G{\isadigit{1}}\ v{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}{\isasymUnion}p{\isasymin}set\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inorder\ G{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ if\ v\ {\isacharequal}{\kern0pt}\ fst\ p\ then\ S{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ union{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ adjacency{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}insert{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G{\isadigit{1}}\ v{\isacharparenright}{\kern0pt}\ {\isasymunion}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G{\isadigit{2}}\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}inorder{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
Finally, let us look at computing the difference of two graphs.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{definition}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ delete{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ {\isasymtimes}\ {\isacharprime}{\kern0pt}s\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}delete{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ p\ G\ {\isasymequiv}\isanewline
\ \ \ let\ v\ {\isacharequal}{\kern0pt}\ fst\ p{\isacharsemicolon}{\kern0pt}\ s\ {\isacharequal}{\kern0pt}\ snd\ p\isanewline
\ \ \ in\ case\ Map{\isacharunderscore}{\kern0pt}lookup\ G\ v\ of\isanewline
\ \ \ \ \ \ \ \ None\ {\isasymRightarrow}\ G\ {\isacharbar}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ Some\ s{\isacharprime}{\kern0pt}\ {\isasymRightarrow}\ Map{\isacharunderscore}{\kern0pt}update\ v\ {\isacharparenleft}{\kern0pt}fold\ Set{\isacharunderscore}{\kern0pt}delete\ {\isacharparenleft}{\kern0pt}Set{\isacharunderscore}{\kern0pt}inorder\ s{\isacharparenright}{\kern0pt}\ s{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ G{\isachardoublequoteclose}\isanewline
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ Set{\isacharunderscore}{\kern0pt}by{\isacharunderscore}{\kern0pt}Ordered{\isacharparenright}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}delete{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ s{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}invar\ {\isacharparenleft}{\kern0pt}fold\ delete\ l\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ l\ arbitrary{\isacharcolon}{\kern0pt}\ s{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}delete{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ Set{\isacharunderscore}{\kern0pt}by{\isacharunderscore}{\kern0pt}Ordered{\isacharparenright}{\kern0pt}\ fold{\isacharunderscore}{\kern0pt}delete{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ s{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}fold\ delete\ l\ s{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ set\ s\ {\isacharminus}{\kern0pt}\ List{\isachardot}{\kern0pt}set\ l{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ l\ arbitrary{\isacharcolon}{\kern0pt}\ s{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Nil\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Cons\ x\ xs{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}fold\ delete\ {\isacharparenleft}{\kern0pt}x\ {\isacharhash}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}\ s{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}fold\ delete\ xs\ {\isacharparenleft}{\kern0pt}delete\ x\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}delete\ x\ s{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ List{\isachardot}{\kern0pt}set\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isachardot}{\kern0pt}prems\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ invar{\isacharunderscore}{\kern0pt}delete\ Cons{\isachardot}{\kern0pt}hyps{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ set\ s\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ List{\isachardot}{\kern0pt}set\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isachardot}{\kern0pt}prems\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}delete{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ set\ s\ {\isacharminus}{\kern0pt}\ List{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}x\ {\isacharhash}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}delete{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}invar\ {\isacharparenleft}{\kern0pt}delete{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ p\ G{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}Map{\isacharunderscore}{\kern0pt}lookup\ G\ {\isacharparenleft}{\kern0pt}fst\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ None\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ delete{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Some\ s{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}S{\isachardot}{\kern0pt}invar\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}def\ M{\isachardot}{\kern0pt}ran{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ delete{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}def\ Some\ intro{\isacharcolon}{\kern0pt}\ S{\isachardot}{\kern0pt}invar{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}delete\ invar{\isacharunderscore}{\kern0pt}update{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}delete{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}delete{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ p\ G{\isacharparenright}{\kern0pt}\ u{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ u{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}if\ u\ {\isacharequal}{\kern0pt}\ fst\ p\ then\ S{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}Map{\isacharunderscore}{\kern0pt}lookup\ G\ {\isacharparenleft}{\kern0pt}fst\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ None\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ delete{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Some\ s{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ invar{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}S{\isachardot}{\kern0pt}invar\ s{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}def\ M{\isachardot}{\kern0pt}ran{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}fold\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}fold\ Set{\isacharunderscore}{\kern0pt}delete\ {\isacharparenleft}{\kern0pt}Set{\isacharunderscore}{\kern0pt}inorder\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ s{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{{\isacharbraceleft}{\kern0pt}}\isamarkupfalse%
\ \isacommand{fix}\isamarkupfalse%
\ v\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}delete{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ p\ G{\isacharparenright}{\kern0pt}\ u{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ \ \ \ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}update\ {\isacharparenleft}{\kern0pt}fst\ p{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}fold\ G{\isacharparenright}{\kern0pt}\ u{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ delete{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}def\ Some{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}s{\isachardot}{\kern0pt}\ Map{\isacharunderscore}{\kern0pt}lookup\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}update\ {\isacharparenleft}{\kern0pt}fst\ p{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}fold\ G{\isacharparenright}{\kern0pt}\ u\ {\isacharequal}{\kern0pt}\ Some\ s\ {\isasymand}\ v\ {\isasymin}\ S{\isachardot}{\kern0pt}set\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ mem{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}lookup{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}Some{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}s{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}lookup\ G{\isacharparenleft}{\kern0pt}fst\ p\ {\isasymmapsto}\ {\isacharquery}{\kern0pt}fold{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ u\ {\isacharequal}{\kern0pt}\ Some\ s\ {\isasymand}\ v\ {\isasymin}\ S{\isachardot}{\kern0pt}set\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ M{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}update\ dest{\isacharcolon}{\kern0pt}\ invarD{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ u{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}if\ u\ {\isacharequal}{\kern0pt}\ fst\ p\ then\ S{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ invar\ S{\isachardot}{\kern0pt}fold{\isacharunderscore}{\kern0pt}delete{\isacharunderscore}{\kern0pt}cong\ Some\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ S{\isachardot}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\ mem{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}lookup{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}Some{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}delete{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ p\ G{\isacharparenright}{\kern0pt}\ u{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ \ \ \ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ u{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}if\ u\ {\isacharequal}{\kern0pt}\ fst\ p\ then\ S{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\ \isacommand{{\isacharbraceright}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}delete{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}Ball\ {\isacharparenleft}{\kern0pt}set\ l{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}S{\isachardot}{\kern0pt}invar\ {\isasymcirc}\ snd{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}invar\ {\isacharparenleft}{\kern0pt}fold\ delete{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ l\ G{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ l\ arbitrary{\isacharcolon}{\kern0pt}\ G{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Nil\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Cons\ p\ ps{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}S{\isachardot}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}Ball\ {\isacharparenleft}{\kern0pt}set\ ps{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}S{\isachardot}{\kern0pt}invar\ {\isasymcirc}\ snd{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isachardot}{\kern0pt}prems{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ intro{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}delete{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ Cons{\isachardot}{\kern0pt}hyps{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}delete{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}Ball\ {\isacharparenleft}{\kern0pt}set\ l{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}S{\isachardot}{\kern0pt}invar\ {\isasymcirc}\ snd{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}fold\ delete{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ l\ G{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ v{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymUnion}p{\isasymin}set\ l{\isachardot}{\kern0pt}\ if\ v\ {\isacharequal}{\kern0pt}\ fst\ p\ then\ S{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ l\ arbitrary{\isacharcolon}{\kern0pt}\ G{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Nil\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Cons\ p\ ps{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\isanewline
\ \ \ \ prems{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}S{\isachardot}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}Ball\ {\isacharparenleft}{\kern0pt}set\ ps{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}S{\isachardot}{\kern0pt}invar\ {\isasymcirc}\ snd{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp{\isacharplus}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}fold\ delete{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ {\isacharparenleft}{\kern0pt}p\ {\isacharhash}{\kern0pt}\ ps{\isacharparenright}{\kern0pt}\ G{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}fold\ delete{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ ps\ {\isacharparenleft}{\kern0pt}delete{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ p\ G{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}delete{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ p\ G{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymUnion}p{\isasymin}set\ ps{\isachardot}{\kern0pt}\ if\ v\ {\isacharequal}{\kern0pt}\ fst\ p\ then\ S{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isachardot}{\kern0pt}prems{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ prems\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ invar{\isacharunderscore}{\kern0pt}delete{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ Cons{\isachardot}{\kern0pt}hyps{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ v{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}if\ v\ {\isacharequal}{\kern0pt}\ fst\ p\ then\ S{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymUnion}p{\isasymin}set\ ps{\isachardot}{\kern0pt}\ if\ v\ {\isacharequal}{\kern0pt}\ fst\ p\ then\ S{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isachardot}{\kern0pt}prems{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ prems{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}delete{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ v{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymUnion}p{\isasymin}set\ {\isacharparenleft}{\kern0pt}p\ {\isacharhash}{\kern0pt}\ ps{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ if\ v\ {\isacharequal}{\kern0pt}\ fst\ p\ then\ S{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ difference\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}difference\ G{\isadigit{1}}\ G{\isadigit{2}}\ {\isasymequiv}\ fold\ delete{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inorder\ G{\isadigit{2}}{\isacharparenright}{\kern0pt}\ G{\isadigit{1}}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}difference{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}invar\ {\isacharparenleft}{\kern0pt}difference\ G{\isadigit{1}}\ G{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}Ball\ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inorder\ G{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}S{\isachardot}{\kern0pt}invar\ {\isasymcirc}\ snd{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp\ add{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}def\ M{\isachardot}{\kern0pt}ran{\isacharunderscore}{\kern0pt}def\ M{\isachardot}{\kern0pt}mem{\isacharunderscore}{\kern0pt}inorder{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}lookup{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}Some{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ difference{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ invar{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}delete{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ adjacency{\isacharparenright}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}difference{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}invar\ G{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}difference\ G{\isadigit{1}}\ G{\isadigit{2}}{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G{\isadigit{1}}\ v{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G{\isadigit{2}}\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}Ball\ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inorder\ G{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}S{\isachardot}{\kern0pt}invar\ {\isasymcirc}\ snd{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp\ add{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}def\ M{\isachardot}{\kern0pt}ran{\isacharunderscore}{\kern0pt}def\ M{\isachardot}{\kern0pt}mem{\isacharunderscore}{\kern0pt}inorder{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}lookup{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}Some{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}difference\ G{\isadigit{1}}\ G{\isadigit{2}}{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G{\isadigit{1}}\ v{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymUnion}p{\isasymin}set\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inorder\ G{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ if\ v\ {\isacharequal}{\kern0pt}\ fst\ p\ then\ S{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ difference{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ adjacency{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}delete{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G{\isadigit{1}}\ v{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G{\isadigit{2}}\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}inorder{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
We show that our specifications of operations insert and delete satisfy all assumptions of locale
\isa{Finite{\isacharunderscore}{\kern0pt}Adjacency{\isacharunderscore}{\kern0pt}Structure}.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{context}\isamarkupfalse%
\ adjacency\isanewline
\isakeyword{begin}\isanewline
\isacommand{sublocale}\isamarkupfalse%
\ G{\isacharcolon}{\kern0pt}\ Finite{\isacharunderscore}{\kern0pt}Adjacency{\isacharunderscore}{\kern0pt}Structure\ \isakeyword{where}\isanewline
\ \ empty\ {\isacharequal}{\kern0pt}\ Map{\isacharunderscore}{\kern0pt}empty\ \isakeyword{and}\isanewline
\ \ insert\ {\isacharequal}{\kern0pt}\ insert{\isacharprime}{\kern0pt}\ \isakeyword{and}\isanewline
\ \ delete\ {\isacharequal}{\kern0pt}\ delete{\isacharprime}{\kern0pt}\ \isakeyword{and}\isanewline
\ \ adj\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymlambda}v\ G{\isachardot}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}list\ G\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ inv\ {\isacharequal}{\kern0pt}\ invar\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}standard{\isacharcomma}{\kern0pt}\ goal{\isacharunderscore}{\kern0pt}cases{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ v{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ M{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}empty{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{2}}\ G\ u\ v\ w{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ adjacency{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}insert{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}drule\ conjunct{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{3}}\ G\ u\ v\ w{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ adjacency{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}delete{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}drule\ conjunct{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{4}}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}empty\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{5}}\ G\ u\ v{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ invar{\isacharunderscore}{\kern0pt}insert{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}drule\ conjunct{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{6}}\ G\ u\ v{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ invar{\isacharunderscore}{\kern0pt}delete{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}drule\ conjunct{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{7}}\ G{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ finite{\isacharunderscore}{\kern0pt}subset{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}v{\isachardot}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}list\ G\ v\ {\isasymnoteq}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymsubseteq}\ M{\isachardot}{\kern0pt}dom\ G{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ adjacency{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ M{\isachardot}{\kern0pt}mem{\isacharunderscore}{\kern0pt}dom{\isacharunderscore}{\kern0pt}iff\ split{\isacharcolon}{\kern0pt}\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}finite\ {\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{7}}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ M{\isachardot}{\kern0pt}finite{\isacharunderscore}{\kern0pt}dom{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}drule\ conjunct{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isacommand{end}\isamarkupfalse%
%
\isadeliminvisible
%
\endisadeliminvisible
%
\isataginvisible
%
\begin{isamarkuptext}%
In the following locale, we convert a graph specified as a \isa{Map{\isacharunderscore}{\kern0pt}by{\isacharunderscore}{\kern0pt}Ordered} mapping a vertex
to its adjacency, which is specified as a \isa{Set{\isacharunderscore}{\kern0pt}by{\isacharunderscore}{\kern0pt}Ordered}, to a graph specified as a
\isa{Set{\isacharunderscore}{\kern0pt}by{\isacharunderscore}{\kern0pt}Ordered} of edges. As of 2022-02-21, the locale is not used anywhere outside of this
theory.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{locale}\isamarkupfalse%
\ fukakyo\ {\isacharequal}{\kern0pt}\isanewline
\ \ G{\isacharcolon}{\kern0pt}\ adjacency\ \isakeyword{where}\ Map{\isacharunderscore}{\kern0pt}update\ {\isacharequal}{\kern0pt}\ Map{\isacharunderscore}{\kern0pt}update\ {\isacharplus}{\kern0pt}\isanewline
\ \ E{\isacharcolon}{\kern0pt}\ Set{\isacharunderscore}{\kern0pt}by{\isacharunderscore}{\kern0pt}Ordered\ \isakeyword{where}\isanewline
\ \ empty\ {\isacharequal}{\kern0pt}\ E{\isacharunderscore}{\kern0pt}empty\ \isakeyword{and}\isanewline
\ \ insert\ {\isacharequal}{\kern0pt}\ E{\isacharunderscore}{\kern0pt}insert\ \isakeyword{and}\isanewline
\ \ delete\ {\isacharequal}{\kern0pt}\ E{\isacharunderscore}{\kern0pt}delete\ \isakeyword{and}\isanewline
\ \ isin\ {\isacharequal}{\kern0pt}\ E{\isacharunderscore}{\kern0pt}isin\ \isakeyword{and}\isanewline
\ \ inorder\ {\isacharequal}{\kern0pt}\ E{\isacharunderscore}{\kern0pt}inorder\ \isakeyword{and}\isanewline
\ \ inv\ {\isacharequal}{\kern0pt}\ E{\isacharunderscore}{\kern0pt}inv\ \isakeyword{for}\isanewline
\ \ Map{\isacharunderscore}{\kern0pt}update\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}linorder\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}t\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ E{\isacharunderscore}{\kern0pt}empty\ \isakeyword{and}\isanewline
\ \ E{\isacharunderscore}{\kern0pt}insert\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ {\isasymtimes}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}s\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}s{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ E{\isacharunderscore}{\kern0pt}delete\ \isakeyword{and}\isanewline
\ \ E{\isacharunderscore}{\kern0pt}isin\ \isakeyword{and}\isanewline
\ \ E{\isacharunderscore}{\kern0pt}inorder\ \isakeyword{and}\isanewline
\ \ E{\isacharunderscore}{\kern0pt}inv\isanewline
\isakeyword{begin}\isanewline
\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\ f\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}s\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}s{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}f\ u\ v\ {\isasymequiv}\ E{\isacharunderscore}{\kern0pt}insert\ {\isacharparenleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\ g\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ {\isasymtimes}\ {\isacharprime}{\kern0pt}t\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}s\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}s{\isachardoublequoteclose}\ \ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}g\ p\ {\isasymequiv}\ fold\ {\isacharparenleft}{\kern0pt}f\ {\isacharparenleft}{\kern0pt}fst\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Set{\isacharunderscore}{\kern0pt}inorder\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\ E\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}m\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}s{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}E\ G\ {\isasymequiv}\ fold\ g\ {\isacharparenleft}{\kern0pt}Map{\isacharunderscore}{\kern0pt}inorder\ G{\isacharparenright}{\kern0pt}\ E{\isacharunderscore}{\kern0pt}empty{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}f{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}E{\isachardot}{\kern0pt}invar\ s{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}E{\isachardot}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}f\ u\ v\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
%
\endisadeliminvisible
\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ E{\isachardot}{\kern0pt}invar{\isacharunderscore}{\kern0pt}insert{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}f{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}E{\isachardot}{\kern0pt}invar\ s{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}E{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}f\ u\ v\ s{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ E{\isachardot}{\kern0pt}set\ s\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
%
\endisadeliminvisible
\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ E{\isachardot}{\kern0pt}set{\isacharunderscore}{\kern0pt}insert{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}f{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}E{\isachardot}{\kern0pt}invar\ s{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}E{\isachardot}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}fold\ {\isacharparenleft}{\kern0pt}f\ u{\isacharparenright}{\kern0pt}\ l\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
%
\endisadeliminvisible
\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ l\ arbitrary{\isacharcolon}{\kern0pt}\ s{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}f{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}g{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}E{\isachardot}{\kern0pt}invar\ s{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}E{\isachardot}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}g\ p\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
%
\endisadeliminvisible
\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ invar{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}f{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}f{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}E{\isachardot}{\kern0pt}invar\ s{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}E{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}fold\ {\isacharparenleft}{\kern0pt}f\ u{\isacharparenright}{\kern0pt}\ l\ s{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ E{\isachardot}{\kern0pt}set\ s\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}u{\isacharbraceright}{\kern0pt}\ {\isasymtimes}\ set\ l{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
%
\endisadeliminvisible
\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ l\ arbitrary{\isacharcolon}{\kern0pt}\ s{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Nil\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Cons\ v\ vs{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}E{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}fold\ {\isacharparenleft}{\kern0pt}f\ u{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}v\ {\isacharhash}{\kern0pt}\ vs{\isacharparenright}{\kern0pt}\ s{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ E{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}fold\ {\isacharparenleft}{\kern0pt}f\ u{\isacharparenright}{\kern0pt}\ vs\ {\isacharparenleft}{\kern0pt}f\ u\ v\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ E{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}f\ u\ v\ s{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}u{\isacharbraceright}{\kern0pt}\ {\isasymtimes}\ set\ vs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isachardot}{\kern0pt}prems\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ invar{\isacharunderscore}{\kern0pt}f\ Cons{\isachardot}{\kern0pt}hyps{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ E{\isachardot}{\kern0pt}set\ s\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}u{\isacharbraceright}{\kern0pt}\ {\isasymtimes}\ set\ vs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isachardot}{\kern0pt}prems\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}f{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ E{\isachardot}{\kern0pt}set\ s\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}u{\isacharbraceright}{\kern0pt}\ {\isasymtimes}\ set\ {\isacharparenleft}{\kern0pt}v\ {\isacharhash}{\kern0pt}\ vs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}g{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}E{\isachardot}{\kern0pt}invar\ s{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}E{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}g\ p\ s{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ E{\isachardot}{\kern0pt}set\ s\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}fst\ p{\isacharbraceright}{\kern0pt}\ {\isasymtimes}\ G{\isachardot}{\kern0pt}S{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
%
\endisadeliminvisible
\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}f{\isacharunderscore}{\kern0pt}cong\ G{\isachardot}{\kern0pt}S{\isachardot}{\kern0pt}set{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}g{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}E{\isachardot}{\kern0pt}invar\ s{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}E{\isachardot}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}fold\ g\ l\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
%
\endisadeliminvisible
\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ l\ arbitrary{\isacharcolon}{\kern0pt}\ s{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharcolon}{\kern0pt}\ invar{\isacharunderscore}{\kern0pt}g{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ invar{\isacharunderscore}{\kern0pt}E{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}E{\isachardot}{\kern0pt}invar\ {\isacharparenleft}{\kern0pt}E\ G{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
%
\endisadeliminvisible
\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ E{\isachardot}{\kern0pt}invar{\isacharunderscore}{\kern0pt}empty\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ invar{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}g{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}g{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}E{\isachardot}{\kern0pt}invar\ s{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}E{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}fold\ g\ l\ s{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ E{\isachardot}{\kern0pt}set\ s\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}{\isasymUnion}p{\isasymin}set\ l{\isachardot}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}fst\ p{\isacharbraceright}{\kern0pt}\ {\isasymtimes}\ G{\isachardot}{\kern0pt}S{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
%
\endisadeliminvisible
\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ l\ arbitrary{\isacharcolon}{\kern0pt}\ s{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Nil\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Cons\ p\ ps{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}E{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}fold\ g\ {\isacharparenleft}{\kern0pt}p\ {\isacharhash}{\kern0pt}\ ps{\isacharparenright}{\kern0pt}\ s{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ E{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}fold\ g\ ps\ {\isacharparenleft}{\kern0pt}g\ p\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ E{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}g\ p\ s{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}{\isasymUnion}p{\isasymin}set\ ps{\isachardot}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}fst\ p{\isacharbraceright}{\kern0pt}\ {\isasymtimes}\ G{\isachardot}{\kern0pt}S{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isachardot}{\kern0pt}prems\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ invar{\isacharunderscore}{\kern0pt}g\ Cons{\isachardot}{\kern0pt}hyps{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ E{\isachardot}{\kern0pt}set\ s\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}fst\ p{\isacharbraceright}{\kern0pt}\ {\isasymtimes}\ G{\isachardot}{\kern0pt}S{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}{\isasymUnion}p{\isasymin}set\ ps{\isachardot}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}fst\ p{\isacharbraceright}{\kern0pt}\ {\isasymtimes}\ G{\isachardot}{\kern0pt}S{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}snd\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isachardot}{\kern0pt}prems\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}g{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ E{\isachardot}{\kern0pt}set\ s\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}{\isasymUnion}q{\isasymin}set\ {\isacharparenleft}{\kern0pt}p\ {\isacharhash}{\kern0pt}\ ps{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}fst\ q{\isacharbraceright}{\kern0pt}\ {\isasymtimes}\ G{\isachardot}{\kern0pt}S{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}snd\ q{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{lemma}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}E{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}G{\isachardot}{\kern0pt}invar\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}E{\isachardot}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}E\ G{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharparenleft}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ v\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}list\ G\ u{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
%
\endisadeliminvisible
\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ E{\isachardot}{\kern0pt}invar{\isacharunderscore}{\kern0pt}empty\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ G{\isachardot}{\kern0pt}mem{\isacharunderscore}{\kern0pt}adjacency{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}inorder\ set{\isacharunderscore}{\kern0pt}fold{\isacharunderscore}{\kern0pt}g{\isacharunderscore}{\kern0pt}cong\ E{\isachardot}{\kern0pt}set{\isacharunderscore}{\kern0pt}empty{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
%
\isadeliminvisible
\isanewline
%
\endisadeliminvisible
%
\isataginvisible
\isacommand{end}\isamarkupfalse%
%
\endisataginvisible
{\isafoldinvisible}%
%
\isadeliminvisible
%
\endisadeliminvisible
\ \isanewline
%
\isadelimtheory
\isanewline
%
\endisadelimtheory
%
\isatagtheory
\isacommand{end}\isamarkupfalse%
%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\end{isabellebody}%
\endinput
%:%file=~/Documents/1_projects/2022_idp/thys/Graph/Adjacency/Adjacency.thy%:%
%:%11=1%:%
%:%15=3%:%
%:%31=5%:%
%:%32=5%:%
%:%33=6%:%
%:%34=7%:%
%:%35=8%:%
%:%36=9%:%
%:%37=10%:%
%:%46=13%:%
%:%47=14%:%
%:%48=15%:%
%:%49=16%:%
%:%50=17%:%
%:%52=20%:%
%:%53=20%:%
%:%54=21%:%
%:%55=22%:%
%:%56=23%:%
%:%57=24%:%
%:%58=25%:%
%:%59=26%:%
%:%60=27%:%
%:%61=28%:%
%:%62=29%:%
%:%63=30%:%
%:%64=31%:%
%:%65=32%:%
%:%66=33%:%
%:%67=34%:%
%:%68=35%:%
%:%71=36%:%
%:%76=37%:%
%:%77=37%:%
%:%78=38%:%
%:%79=39%:%
%:%80=40%:%
%:%81=40%:%
%:%82=41%:%
%:%83=42%:%
%:%84=43%:%
%:%85=44%:%
%:%90=44%:%
%:%95=45%:%
%:%99=45%:%
%:%100=45%:%
%:%101=46%:%
%:%102=46%:%
%:%107=46%:%
%:%112=47%:%
%:%117=48%:%
%:%118=48%:%
%:%119=49%:%
%:%124=49%:%
%:%129=50%:%
%:%133=50%:%
%:%134=50%:%
%:%135=51%:%
%:%136=51%:%
%:%141=51%:%
%:%146=52%:%
%:%151=53%:%
%:%152=53%:%
%:%153=54%:%
%:%154=55%:%
%:%159=55%:%
%:%164=56%:%
%:%168=56%:%
%:%169=56%:%
%:%170=57%:%
%:%171=57%:%
%:%176=57%:%
%:%181=58%:%
%:%186=59%:%
%:%187=59%:%
%:%188=60%:%
%:%189=61%:%
%:%194=61%:%
%:%199=62%:%
%:%203=62%:%
%:%204=62%:%
%:%205=63%:%
%:%206=63%:%
%:%211=63%:%
%:%216=64%:%
%:%221=65%:%
%:%222=65%:%
%:%223=66%:%
%:%224=67%:%
%:%229=67%:%
%:%234=68%:%
%:%238=68%:%
%:%239=68%:%
%:%240=69%:%
%:%241=69%:%
%:%246=69%:%
%:%249=70%:%
%:%250=71%:%
%:%251=71%:%
%:%252=72%:%
%:%253=73%:%
%:%254=74%:%
%:%255=75%:%
%:%256=75%:%
%:%257=76%:%
%:%258=77%:%
%:%259=78%:%
%:%260=79%:%
%:%261=80%:%
%:%262=81%:%
%:%263=82%:%
%:%264=83%:%
%:%265=84%:%
%:%266=85%:%
%:%267=86%:%
%:%268=87%:%
%:%269=88%:%
%:%270=88%:%
%:%271=89%:%
%:%272=90%:%
%:%274=93%:%
%:%275=94%:%
%:%277=98%:%
%:%278=98%:%
%:%279=99%:%
%:%280=100%:%
%:%281=101%:%
%:%282=102%:%
%:%283=103%:%
%:%284=104%:%
%:%285=105%:%
%:%286=106%:%
%:%287=107%:%
%:%288=108%:%
%:%289=109%:%
%:%290=110%:%
%:%291=111%:%
%:%292=112%:%
%:%293=113%:%
%:%294=114%:%
%:%295=115%:%
%:%296=116%:%
%:%297=117%:%
%:%298=118%:%
%:%299=119%:%
%:%300=120%:%
%:%301=121%:%
%:%302=122%:%
%:%303=123%:%
%:%304=124%:%
%:%305=125%:%
%:%306=126%:%
%:%307=126%:%
%:%308=127%:%
%:%311=128%:%
%:%316=129%:%
%:%317=129%:%
%:%318=130%:%
%:%319=131%:%
%:%320=132%:%
%:%321=133%:%
%:%326=133%:%
%:%331=134%:%
%:%335=134%:%
%:%336=134%:%
%:%337=135%:%
%:%338=135%:%
%:%343=135%:%
%:%348=136%:%
%:%353=137%:%
%:%354=137%:%
%:%355=138%:%
%:%360=138%:%
%:%365=139%:%
%:%369=139%:%
%:%370=139%:%
%:%371=140%:%
%:%372=140%:%
%:%373=141%:%
%:%374=141%:%
%:%375=142%:%
%:%376=142%:%
%:%377=143%:%
%:%378=143%:%
%:%379=144%:%
%:%380=144%:%
%:%381=145%:%
%:%382=145%:%
%:%383=146%:%
%:%384=146%:%
%:%385=147%:%
%:%386=147%:%
%:%387=148%:%
%:%388=148%:%
%:%389=149%:%
%:%395=149%:%
%:%400=150%:%
%:%405=151%:%
%:%406=151%:%
%:%407=152%:%
%:%408=153%:%
%:%409=154%:%
%:%414=154%:%
%:%419=155%:%
%:%423=155%:%
%:%424=155%:%
%:%425=156%:%
%:%426=156%:%
%:%427=157%:%
%:%428=157%:%
%:%429=158%:%
%:%430=158%:%
%:%431=159%:%
%:%432=159%:%
%:%433=160%:%
%:%434=160%:%
%:%435=161%:%
%:%436=161%:%
%:%437=162%:%
%:%438=162%:%
%:%439=163%:%
%:%440=163%:%
%:%441=164%:%
%:%442=164%:%
%:%443=165%:%
%:%444=165%:%
%:%445=166%:%
%:%446=166%:%
%:%447=167%:%
%:%448=167%:%
%:%449=167%:%
%:%450=168%:%
%:%451=169%:%
%:%452=169%:%
%:%453=170%:%
%:%454=170%:%
%:%455=171%:%
%:%456=171%:%
%:%457=172%:%
%:%458=172%:%
%:%459=173%:%
%:%460=173%:%
%:%461=174%:%
%:%462=174%:%
%:%463=175%:%
%:%469=175%:%
%:%472=176%:%
%:%473=177%:%
%:%474=177%:%
%:%475=178%:%
%:%476=179%:%
%:%477=180%:%
%:%478=180%:%
%:%479=181%:%
%:%482=182%:%
%:%486=182%:%
%:%487=182%:%
%:%488=183%:%
%:%494=183%:%
%:%497=184%:%
%:%498=185%:%
%:%499=185%:%
%:%500=186%:%
%:%501=187%:%
%:%504=188%:%
%:%508=188%:%
%:%509=188%:%
%:%510=189%:%
%:%511=189%:%
%:%512=190%:%
%:%513=190%:%
%:%518=190%:%
%:%523=191%:%
%:%528=192%:%
%:%529=192%:%
%:%530=193%:%
%:%535=193%:%
%:%540=194%:%
%:%544=194%:%
%:%545=194%:%
%:%550=194%:%
%:%555=195%:%
%:%560=196%:%
%:%561=196%:%
%:%562=197%:%
%:%563=198%:%
%:%564=199%:%
%:%565=200%:%
%:%570=200%:%
%:%575=201%:%
%:%579=201%:%
%:%580=201%:%
%:%581=202%:%
%:%582=202%:%
%:%587=202%:%
%:%592=203%:%
%:%597=204%:%
%:%598=204%:%
%:%599=205%:%
%:%600=206%:%
%:%605=206%:%
%:%614=207%:%
%:%615=207%:%
%:%616=208%:%
%:%617=208%:%
%:%618=209%:%
%:%619=209%:%
%:%620=209%:%
%:%621=210%:%
%:%622=211%:%
%:%623=212%:%
%:%624=212%:%
%:%625=213%:%
%:%626=213%:%
%:%627=214%:%
%:%628=214%:%
%:%629=215%:%
%:%630=215%:%
%:%631=216%:%
%:%632=216%:%
%:%633=217%:%
%:%634=217%:%
%:%635=218%:%
%:%636=218%:%
%:%637=218%:%
%:%638=219%:%
%:%639=220%:%
%:%640=220%:%
%:%641=221%:%
%:%642=221%:%
%:%643=222%:%
%:%644=222%:%
%:%645=223%:%
%:%646=223%:%
%:%647=224%:%
%:%648=224%:%
%:%649=225%:%
%:%650=225%:%
%:%651=226%:%
%:%657=226%:%
%:%662=227%:%
%:%667=228%:%
%:%668=228%:%
%:%669=229%:%
%:%670=230%:%
%:%675=230%:%
%:%684=231%:%
%:%685=231%:%
%:%686=232%:%
%:%687=232%:%
%:%688=232%:%
%:%689=233%:%
%:%690=233%:%
%:%691=234%:%
%:%692=234%:%
%:%693=235%:%
%:%694=235%:%
%:%695=236%:%
%:%696=236%:%
%:%697=236%:%
%:%698=237%:%
%:%699=237%:%
%:%700=238%:%
%:%701=238%:%
%:%702=238%:%
%:%703=239%:%
%:%704=239%:%
%:%705=240%:%
%:%706=240%:%
%:%707=240%:%
%:%708=241%:%
%:%709=242%:%
%:%710=243%:%
%:%711=243%:%
%:%712=243%:%
%:%713=244%:%
%:%714=244%:%
%:%715=245%:%
%:%716=245%:%
%:%717=246%:%
%:%727=249%:%
%:%728=250%:%
%:%732=254%:%
%:%733=255%:%
%:%734=256%:%
%:%736=259%:%
%:%737=259%:%
%:%738=260%:%
%:%741=263%:%
%:%742=264%:%
%:%743=265%:%
%:%744=265%:%
%:%745=266%:%
%:%746=267%:%
%:%753=268%:%
%:%754=268%:%
%:%755=269%:%
%:%756=269%:%
%:%757=270%:%
%:%758=270%:%
%:%759=271%:%
%:%760=271%:%
%:%761=272%:%
%:%762=272%:%
%:%763=273%:%
%:%764=273%:%
%:%765=274%:%
%:%766=274%:%
%:%767=275%:%
%:%768=275%:%
%:%769=276%:%
%:%770=276%:%
%:%771=277%:%
%:%772=277%:%
%:%773=278%:%
%:%774=278%:%
%:%775=279%:%
%:%776=279%:%
%:%777=280%:%
%:%778=280%:%
%:%779=281%:%
%:%785=281%:%
%:%788=282%:%
%:%789=283%:%
%:%790=283%:%
%:%791=284%:%
%:%792=285%:%
%:%793=286%:%
%:%794=287%:%
%:%801=288%:%
%:%802=288%:%
%:%803=289%:%
%:%804=289%:%
%:%805=290%:%
%:%806=290%:%
%:%807=291%:%
%:%808=291%:%
%:%809=292%:%
%:%810=292%:%
%:%811=293%:%
%:%812=293%:%
%:%813=294%:%
%:%814=295%:%
%:%815=296%:%
%:%816=296%:%
%:%817=297%:%
%:%818=297%:%
%:%819=297%:%
%:%820=298%:%
%:%821=298%:%
%:%822=299%:%
%:%823=299%:%
%:%824=299%:%
%:%825=300%:%
%:%826=300%:%
%:%827=301%:%
%:%828=301%:%
%:%829=302%:%
%:%830=302%:%
%:%831=302%:%
%:%832=303%:%
%:%833=303%:%
%:%834=304%:%
%:%835=304%:%
%:%836=305%:%
%:%837=305%:%
%:%838=306%:%
%:%839=307%:%
%:%840=308%:%
%:%841=308%:%
%:%842=309%:%
%:%843=309%:%
%:%844=310%:%
%:%845=310%:%
%:%846=311%:%
%:%847=311%:%
%:%848=312%:%
%:%849=312%:%
%:%850=313%:%
%:%851=313%:%
%:%852=314%:%
%:%853=314%:%
%:%854=314%:%
%:%855=315%:%
%:%856=315%:%
%:%857=316%:%
%:%858=316%:%
%:%859=317%:%
%:%860=317%:%
%:%861=317%:%
%:%862=318%:%
%:%863=318%:%
%:%864=319%:%
%:%865=319%:%
%:%866=320%:%
%:%867=320%:%
%:%868=321%:%
%:%869=321%:%
%:%870=322%:%
%:%871=322%:%
%:%872=323%:%
%:%873=323%:%
%:%874=324%:%
%:%875=324%:%
%:%876=325%:%
%:%877=325%:%
%:%878=326%:%
%:%879=326%:%
%:%880=327%:%
%:%881=327%:%
%:%882=328%:%
%:%883=329%:%
%:%884=330%:%
%:%885=330%:%
%:%886=331%:%
%:%887=331%:%
%:%888=331%:%
%:%889=332%:%
%:%890=332%:%
%:%891=333%:%
%:%892=333%:%
%:%893=333%:%
%:%894=334%:%
%:%895=334%:%
%:%896=335%:%
%:%897=335%:%
%:%898=336%:%
%:%899=336%:%
%:%900=336%:%
%:%901=337%:%
%:%902=337%:%
%:%903=338%:%
%:%904=338%:%
%:%905=339%:%
%:%906=339%:%
%:%907=340%:%
%:%908=341%:%
%:%909=342%:%
%:%910=342%:%
%:%911=343%:%
%:%912=343%:%
%:%913=344%:%
%:%914=344%:%
%:%915=345%:%
%:%916=345%:%
%:%917=346%:%
%:%918=346%:%
%:%919=347%:%
%:%920=347%:%
%:%921=348%:%
%:%922=348%:%
%:%923=348%:%
%:%924=349%:%
%:%925=349%:%
%:%926=350%:%
%:%927=350%:%
%:%928=351%:%
%:%929=351%:%
%:%930=351%:%
%:%931=352%:%
%:%932=352%:%
%:%933=353%:%
%:%939=353%:%
%:%942=354%:%
%:%943=355%:%
%:%944=355%:%
%:%945=356%:%
%:%946=357%:%
%:%947=358%:%
%:%948=359%:%
%:%955=360%:%
%:%956=360%:%
%:%957=361%:%
%:%958=361%:%
%:%959=362%:%
%:%960=362%:%
%:%961=363%:%
%:%962=363%:%
%:%963=363%:%
%:%964=364%:%
%:%965=364%:%
%:%966=365%:%
%:%967=366%:%
%:%968=367%:%
%:%969=367%:%
%:%970=368%:%
%:%971=368%:%
%:%972=368%:%
%:%973=369%:%
%:%974=369%:%
%:%975=370%:%
%:%976=370%:%
%:%977=370%:%
%:%978=371%:%
%:%979=371%:%
%:%980=372%:%
%:%981=372%:%
%:%982=373%:%
%:%983=373%:%
%:%984=373%:%
%:%985=374%:%
%:%986=374%:%
%:%987=375%:%
%:%988=375%:%
%:%989=376%:%
%:%990=376%:%
%:%991=376%:%
%:%992=377%:%
%:%993=378%:%
%:%994=379%:%
%:%995=379%:%
%:%996=379%:%
%:%997=380%:%
%:%998=380%:%
%:%999=381%:%
%:%1000=381%:%
%:%1001=382%:%
%:%1002=382%:%
%:%1003=383%:%
%:%1004=383%:%
%:%1005=384%:%
%:%1006=384%:%
%:%1007=385%:%
%:%1008=385%:%
%:%1009=386%:%
%:%1010=386%:%
%:%1011=387%:%
%:%1012=387%:%
%:%1013=388%:%
%:%1014=388%:%
%:%1015=388%:%
%:%1016=389%:%
%:%1017=389%:%
%:%1018=390%:%
%:%1019=391%:%
%:%1020=392%:%
%:%1021=392%:%
%:%1022=393%:%
%:%1023=393%:%
%:%1024=393%:%
%:%1025=394%:%
%:%1026=394%:%
%:%1027=395%:%
%:%1028=395%:%
%:%1029=395%:%
%:%1030=396%:%
%:%1031=396%:%
%:%1032=397%:%
%:%1033=397%:%
%:%1034=398%:%
%:%1035=398%:%
%:%1036=398%:%
%:%1037=399%:%
%:%1038=399%:%
%:%1039=400%:%
%:%1040=400%:%
%:%1041=401%:%
%:%1042=401%:%
%:%1043=401%:%
%:%1044=402%:%
%:%1045=403%:%
%:%1046=404%:%
%:%1047=404%:%
%:%1048=404%:%
%:%1049=405%:%
%:%1050=405%:%
%:%1051=406%:%
%:%1052=406%:%
%:%1053=407%:%
%:%1059=407%:%
%:%1062=408%:%
%:%1063=409%:%
%:%1064=409%:%
%:%1065=410%:%
%:%1066=411%:%
%:%1069=412%:%
%:%1073=412%:%
%:%1074=412%:%
%:%1075=413%:%
%:%1076=413%:%
%:%1077=414%:%
%:%1078=414%:%
%:%1079=415%:%
%:%1080=415%:%
%:%1081=416%:%
%:%1082=416%:%
%:%1083=417%:%
%:%1084=417%:%
%:%1085=418%:%
%:%1086=418%:%
%:%1087=419%:%
%:%1088=419%:%
%:%1089=420%:%
%:%1090=420%:%
%:%1091=421%:%
%:%1097=421%:%
%:%1100=422%:%
%:%1101=423%:%
%:%1102=423%:%
%:%1103=424%:%
%:%1104=425%:%
%:%1105=426%:%
%:%1106=427%:%
%:%1109=428%:%
%:%1113=428%:%
%:%1114=428%:%
%:%1115=429%:%
%:%1116=429%:%
%:%1117=430%:%
%:%1118=430%:%
%:%1119=431%:%
%:%1120=431%:%
%:%1121=432%:%
%:%1122=432%:%
%:%1123=433%:%
%:%1124=433%:%
%:%1125=434%:%
%:%1126=434%:%
%:%1127=435%:%
%:%1128=435%:%
%:%1129=436%:%
%:%1130=437%:%
%:%1131=438%:%
%:%1132=438%:%
%:%1133=439%:%
%:%1134=439%:%
%:%1135=439%:%
%:%1136=440%:%
%:%1138=442%:%
%:%1139=443%:%
%:%1140=443%:%
%:%1141=444%:%
%:%1142=444%:%
%:%1143=445%:%
%:%1144=445%:%
%:%1145=445%:%
%:%1146=446%:%
%:%1149=449%:%
%:%1150=450%:%
%:%1151=450%:%
%:%1152=451%:%
%:%1153=451%:%
%:%1154=452%:%
%:%1155=452%:%
%:%1156=452%:%
%:%1157=453%:%
%:%1158=453%:%
%:%1159=454%:%
%:%1160=454%:%
%:%1161=454%:%
%:%1162=455%:%
%:%1163=455%:%
%:%1164=456%:%
%:%1170=456%:%
%:%1173=457%:%
%:%1174=458%:%
%:%1175=458%:%
%:%1176=459%:%
%:%1177=460%:%
%:%1178=461%:%
%:%1179=461%:%
%:%1180=462%:%
%:%1181=463%:%
%:%1184=464%:%
%:%1188=464%:%
%:%1189=464%:%
%:%1190=465%:%
%:%1191=465%:%
%:%1196=465%:%
%:%1199=466%:%
%:%1200=467%:%
%:%1201=467%:%
%:%1202=468%:%
%:%1203=469%:%
%:%1204=470%:%
%:%1205=471%:%
%:%1208=472%:%
%:%1212=472%:%
%:%1213=472%:%
%:%1214=473%:%
%:%1215=473%:%
%:%1220=473%:%
%:%1223=474%:%
%:%1224=475%:%
%:%1225=475%:%
%:%1226=476%:%
%:%1227=477%:%
%:%1228=478%:%
%:%1229=479%:%
%:%1232=480%:%
%:%1236=480%:%
%:%1237=480%:%
%:%1238=481%:%
%:%1239=481%:%
%:%1244=481%:%
%:%1247=482%:%
%:%1248=483%:%
%:%1249=483%:%
%:%1250=484%:%
%:%1251=485%:%
%:%1254=486%:%
%:%1258=486%:%
%:%1259=486%:%
%:%1260=487%:%
%:%1261=487%:%
%:%1262=488%:%
%:%1263=488%:%
%:%1264=489%:%
%:%1265=489%:%
%:%1266=490%:%
%:%1267=490%:%
%:%1268=491%:%
%:%1269=491%:%
%:%1270=492%:%
%:%1271=492%:%
%:%1272=493%:%
%:%1273=493%:%
%:%1274=494%:%
%:%1275=494%:%
%:%1276=495%:%
%:%1282=495%:%
%:%1285=496%:%
%:%1286=497%:%
%:%1287=497%:%
%:%1288=498%:%
%:%1289=499%:%
%:%1290=500%:%
%:%1291=501%:%
%:%1294=502%:%
%:%1298=502%:%
%:%1299=502%:%
%:%1300=503%:%
%:%1301=503%:%
%:%1302=504%:%
%:%1303=504%:%
%:%1304=505%:%
%:%1305=505%:%
%:%1306=506%:%
%:%1307=506%:%
%:%1308=507%:%
%:%1309=507%:%
%:%1310=508%:%
%:%1311=508%:%
%:%1312=509%:%
%:%1313=509%:%
%:%1314=510%:%
%:%1315=511%:%
%:%1316=512%:%
%:%1317=512%:%
%:%1318=513%:%
%:%1319=513%:%
%:%1320=513%:%
%:%1321=514%:%
%:%1322=514%:%
%:%1323=515%:%
%:%1324=515%:%
%:%1325=516%:%
%:%1326=516%:%
%:%1327=516%:%
%:%1328=517%:%
%:%1331=520%:%
%:%1332=521%:%
%:%1333=521%:%
%:%1334=522%:%
%:%1335=522%:%
%:%1336=523%:%
%:%1337=523%:%
%:%1338=523%:%
%:%1339=524%:%
%:%1340=524%:%
%:%1341=525%:%
%:%1342=525%:%
%:%1343=525%:%
%:%1344=526%:%
%:%1345=526%:%
%:%1346=527%:%
%:%1356=529%:%
%:%1358=531%:%
%:%1359=531%:%
%:%1360=532%:%
%:%1363=535%:%
%:%1364=536%:%
%:%1365=537%:%
%:%1366=537%:%
%:%1367=538%:%
%:%1368=539%:%
%:%1375=540%:%
%:%1376=540%:%
%:%1377=541%:%
%:%1378=541%:%
%:%1379=542%:%
%:%1380=542%:%
%:%1381=543%:%
%:%1382=543%:%
%:%1383=544%:%
%:%1384=544%:%
%:%1385=545%:%
%:%1386=545%:%
%:%1387=546%:%
%:%1388=546%:%
%:%1389=547%:%
%:%1390=547%:%
%:%1391=548%:%
%:%1392=548%:%
%:%1393=549%:%
%:%1394=549%:%
%:%1395=550%:%
%:%1396=550%:%
%:%1397=551%:%
%:%1398=551%:%
%:%1399=552%:%
%:%1400=552%:%
%:%1401=553%:%
%:%1407=553%:%
%:%1410=554%:%
%:%1411=555%:%
%:%1412=555%:%
%:%1413=556%:%
%:%1414=557%:%
%:%1415=558%:%
%:%1416=559%:%
%:%1423=560%:%
%:%1424=560%:%
%:%1425=561%:%
%:%1426=561%:%
%:%1427=562%:%
%:%1428=562%:%
%:%1429=563%:%
%:%1430=563%:%
%:%1431=564%:%
%:%1432=564%:%
%:%1433=565%:%
%:%1434=565%:%
%:%1435=566%:%
%:%1436=567%:%
%:%1437=568%:%
%:%1438=568%:%
%:%1439=569%:%
%:%1440=569%:%
%:%1441=569%:%
%:%1442=570%:%
%:%1443=570%:%
%:%1444=571%:%
%:%1445=571%:%
%:%1446=571%:%
%:%1447=572%:%
%:%1448=572%:%
%:%1449=573%:%
%:%1450=573%:%
%:%1451=573%:%
%:%1452=574%:%
%:%1453=574%:%
%:%1454=575%:%
%:%1455=575%:%
%:%1456=576%:%
%:%1457=576%:%
%:%1458=577%:%
%:%1459=577%:%
%:%1460=578%:%
%:%1461=578%:%
%:%1462=579%:%
%:%1463=579%:%
%:%1464=580%:%
%:%1465=580%:%
%:%1466=581%:%
%:%1467=581%:%
%:%1468=582%:%
%:%1469=582%:%
%:%1470=583%:%
%:%1471=583%:%
%:%1472=584%:%
%:%1473=585%:%
%:%1474=586%:%
%:%1475=586%:%
%:%1476=587%:%
%:%1477=587%:%
%:%1478=587%:%
%:%1479=588%:%
%:%1480=588%:%
%:%1481=589%:%
%:%1482=589%:%
%:%1483=589%:%
%:%1484=590%:%
%:%1485=590%:%
%:%1486=591%:%
%:%1487=591%:%
%:%1488=592%:%
%:%1489=592%:%
%:%1490=592%:%
%:%1491=593%:%
%:%1492=593%:%
%:%1493=594%:%
%:%1494=594%:%
%:%1495=595%:%
%:%1496=595%:%
%:%1497=596%:%
%:%1498=597%:%
%:%1499=598%:%
%:%1500=598%:%
%:%1501=599%:%
%:%1502=599%:%
%:%1503=600%:%
%:%1504=600%:%
%:%1505=601%:%
%:%1506=601%:%
%:%1507=602%:%
%:%1508=602%:%
%:%1509=603%:%
%:%1510=603%:%
%:%1511=604%:%
%:%1512=604%:%
%:%1513=604%:%
%:%1514=605%:%
%:%1515=605%:%
%:%1516=606%:%
%:%1517=606%:%
%:%1518=607%:%
%:%1519=607%:%
%:%1520=607%:%
%:%1521=608%:%
%:%1522=608%:%
%:%1523=609%:%
%:%1529=609%:%
%:%1532=610%:%
%:%1533=611%:%
%:%1534=611%:%
%:%1535=612%:%
%:%1536=613%:%
%:%1537=614%:%
%:%1538=614%:%
%:%1539=615%:%
%:%1540=616%:%
%:%1543=617%:%
%:%1547=617%:%
%:%1548=617%:%
%:%1549=618%:%
%:%1550=618%:%
%:%1555=618%:%
%:%1558=619%:%
%:%1559=620%:%
%:%1560=620%:%
%:%1561=621%:%
%:%1562=622%:%
%:%1563=623%:%
%:%1564=624%:%
%:%1567=625%:%
%:%1571=625%:%
%:%1572=625%:%
%:%1573=626%:%
%:%1574=626%:%
%:%1583=628%:%
%:%1585=630%:%
%:%1586=630%:%
%:%1587=631%:%
%:%1590=634%:%
%:%1593=635%:%
%:%1598=636%:%
%:%1599=636%:%
%:%1600=637%:%
%:%1601=638%:%
%:%1606=638%:%
%:%1611=639%:%
%:%1615=639%:%
%:%1616=639%:%
%:%1617=640%:%
%:%1618=640%:%
%:%1623=640%:%
%:%1628=641%:%
%:%1633=642%:%
%:%1634=642%:%
%:%1635=643%:%
%:%1636=644%:%
%:%1641=644%:%
%:%1646=645%:%
%:%1650=645%:%
%:%1651=645%:%
%:%1652=646%:%
%:%1653=646%:%
%:%1654=647%:%
%:%1655=647%:%
%:%1656=648%:%
%:%1657=648%:%
%:%1658=649%:%
%:%1659=649%:%
%:%1660=650%:%
%:%1661=650%:%
%:%1662=651%:%
%:%1663=651%:%
%:%1664=652%:%
%:%1665=652%:%
%:%1666=653%:%
%:%1667=653%:%
%:%1668=654%:%
%:%1669=654%:%
%:%1670=654%:%
%:%1671=655%:%
%:%1672=655%:%
%:%1673=656%:%
%:%1674=656%:%
%:%1675=657%:%
%:%1676=657%:%
%:%1677=657%:%
%:%1678=658%:%
%:%1679=658%:%
%:%1680=659%:%
%:%1681=659%:%
%:%1682=660%:%
%:%1683=660%:%
%:%1684=660%:%
%:%1685=661%:%
%:%1686=661%:%
%:%1687=662%:%
%:%1688=662%:%
%:%1689=662%:%
%:%1690=663%:%
%:%1691=663%:%
%:%1692=664%:%
%:%1698=664%:%
%:%1701=665%:%
%:%1702=666%:%
%:%1703=666%:%
%:%1704=667%:%
%:%1705=668%:%
%:%1706=669%:%
%:%1713=670%:%
%:%1714=670%:%
%:%1715=671%:%
%:%1716=671%:%
%:%1717=672%:%
%:%1718=672%:%
%:%1719=673%:%
%:%1720=673%:%
%:%1721=674%:%
%:%1722=674%:%
%:%1723=675%:%
%:%1724=675%:%
%:%1725=676%:%
%:%1726=676%:%
%:%1727=677%:%
%:%1728=677%:%
%:%1729=678%:%
%:%1730=678%:%
%:%1731=679%:%
%:%1732=679%:%
%:%1733=680%:%
%:%1734=680%:%
%:%1735=681%:%
%:%1736=681%:%
%:%1737=682%:%
%:%1738=682%:%
%:%1739=683%:%
%:%1745=683%:%
%:%1748=684%:%
%:%1749=685%:%
%:%1750=685%:%
%:%1751=686%:%
%:%1752=687%:%
%:%1753=688%:%
%:%1754=689%:%
%:%1755=690%:%
%:%1762=691%:%
%:%1763=691%:%
%:%1764=692%:%
%:%1765=692%:%
%:%1766=693%:%
%:%1767=693%:%
%:%1768=693%:%
%:%1769=694%:%
%:%1770=694%:%
%:%1771=695%:%
%:%1772=696%:%
%:%1773=697%:%
%:%1774=697%:%
%:%1775=698%:%
%:%1776=698%:%
%:%1777=698%:%
%:%1778=699%:%
%:%1779=699%:%
%:%1780=700%:%
%:%1781=700%:%
%:%1782=700%:%
%:%1783=701%:%
%:%1784=701%:%
%:%1785=702%:%
%:%1786=702%:%
%:%1787=703%:%
%:%1788=703%:%
%:%1789=703%:%
%:%1790=704%:%
%:%1791=704%:%
%:%1792=705%:%
%:%1793=705%:%
%:%1794=705%:%
%:%1795=706%:%
%:%1796=707%:%
%:%1797=708%:%
%:%1798=708%:%
%:%1799=708%:%
%:%1800=709%:%
%:%1801=709%:%
%:%1802=710%:%
%:%1803=710%:%
%:%1804=711%:%
%:%1805=711%:%
%:%1806=712%:%
%:%1807=712%:%
%:%1808=713%:%
%:%1809=713%:%
%:%1810=714%:%
%:%1811=714%:%
%:%1812=715%:%
%:%1813=715%:%
%:%1814=716%:%
%:%1815=716%:%
%:%1816=717%:%
%:%1817=717%:%
%:%1818=717%:%
%:%1819=718%:%
%:%1820=718%:%
%:%1821=719%:%
%:%1822=720%:%
%:%1823=721%:%
%:%1824=721%:%
%:%1825=722%:%
%:%1826=722%:%
%:%1827=722%:%
%:%1828=723%:%
%:%1829=723%:%
%:%1830=724%:%
%:%1831=724%:%
%:%1832=724%:%
%:%1833=725%:%
%:%1834=725%:%
%:%1835=726%:%
%:%1836=726%:%
%:%1837=727%:%
%:%1838=727%:%
%:%1839=727%:%
%:%1840=728%:%
%:%1841=728%:%
%:%1842=729%:%
%:%1843=729%:%
%:%1844=730%:%
%:%1845=730%:%
%:%1846=730%:%
%:%1847=731%:%
%:%1848=732%:%
%:%1849=733%:%
%:%1850=733%:%
%:%1851=733%:%
%:%1852=734%:%
%:%1853=734%:%
%:%1854=735%:%
%:%1855=735%:%
%:%1856=736%:%
%:%1862=736%:%
%:%1865=737%:%
%:%1866=738%:%
%:%1867=738%:%
%:%1868=739%:%
%:%1869=740%:%
%:%1870=741%:%
%:%1873=742%:%
%:%1877=742%:%
%:%1878=742%:%
%:%1879=743%:%
%:%1880=743%:%
%:%1881=744%:%
%:%1882=744%:%
%:%1883=745%:%
%:%1884=745%:%
%:%1885=746%:%
%:%1886=746%:%
%:%1887=747%:%
%:%1888=747%:%
%:%1889=748%:%
%:%1890=748%:%
%:%1891=749%:%
%:%1892=749%:%
%:%1893=750%:%
%:%1894=751%:%
%:%1895=752%:%
%:%1896=752%:%
%:%1897=753%:%
%:%1898=753%:%
%:%1899=754%:%
%:%1900=754%:%
%:%1901=755%:%
%:%1902=755%:%
%:%1903=756%:%
%:%1909=756%:%
%:%1912=757%:%
%:%1913=758%:%
%:%1914=758%:%
%:%1915=759%:%
%:%1916=760%:%
%:%1917=761%:%
%:%1918=762%:%
%:%1919=763%:%
%:%1922=764%:%
%:%1926=764%:%
%:%1927=764%:%
%:%1928=765%:%
%:%1929=765%:%
%:%1930=766%:%
%:%1931=766%:%
%:%1932=767%:%
%:%1933=767%:%
%:%1934=768%:%
%:%1935=768%:%
%:%1936=769%:%
%:%1937=769%:%
%:%1938=770%:%
%:%1939=770%:%
%:%1940=771%:%
%:%1941=771%:%
%:%1942=772%:%
%:%1943=773%:%
%:%1944=774%:%
%:%1945=774%:%
%:%1946=775%:%
%:%1947=776%:%
%:%1948=776%:%
%:%1949=777%:%
%:%1950=778%:%
%:%1951=779%:%
%:%1952=779%:%
%:%1953=780%:%
%:%1954=780%:%
%:%1955=780%:%
%:%1956=781%:%
%:%1958=783%:%
%:%1959=784%:%
%:%1960=784%:%
%:%1961=785%:%
%:%1962=785%:%
%:%1963=786%:%
%:%1964=786%:%
%:%1965=786%:%
%:%1966=787%:%
%:%1969=790%:%
%:%1970=791%:%
%:%1971=791%:%
%:%1972=792%:%
%:%1973=792%:%
%:%1974=793%:%
%:%1975=793%:%
%:%1976=793%:%
%:%1977=794%:%
%:%1979=796%:%
%:%1980=797%:%
%:%1981=797%:%
%:%1982=798%:%
%:%1983=798%:%
%:%1984=798%:%
%:%1985=799%:%
%:%1986=799%:%
%:%1987=800%:%
%:%1993=800%:%
%:%1996=801%:%
%:%1997=802%:%
%:%1998=802%:%
%:%1999=803%:%
%:%2000=804%:%
%:%2001=805%:%
%:%2002=805%:%
%:%2003=806%:%
%:%2004=807%:%
%:%2005=808%:%
%:%2012=809%:%
%:%2013=809%:%
%:%2014=810%:%
%:%2015=810%:%
%:%2016=811%:%
%:%2017=811%:%
%:%2018=812%:%
%:%2019=812%:%
%:%2020=813%:%
%:%2021=813%:%
%:%2022=814%:%
%:%2023=814%:%
%:%2024=815%:%
%:%2025=815%:%
%:%2026=816%:%
%:%2027=816%:%
%:%2028=817%:%
%:%2034=817%:%
%:%2037=818%:%
%:%2038=819%:%
%:%2039=819%:%
%:%2040=820%:%
%:%2041=821%:%
%:%2042=822%:%
%:%2043=823%:%
%:%2044=824%:%
%:%2051=825%:%
%:%2052=825%:%
%:%2053=826%:%
%:%2054=826%:%
%:%2055=827%:%
%:%2056=827%:%
%:%2057=828%:%
%:%2058=828%:%
%:%2059=829%:%
%:%2060=829%:%
%:%2061=830%:%
%:%2062=830%:%
%:%2063=831%:%
%:%2064=832%:%
%:%2065=833%:%
%:%2066=833%:%
%:%2067=834%:%
%:%2068=834%:%
%:%2069=835%:%
%:%2070=835%:%
%:%2071=835%:%
%:%2072=836%:%
%:%2073=836%:%
%:%2074=837%:%
%:%2075=837%:%
%:%2076=838%:%
%:%2077=838%:%
%:%2078=838%:%
%:%2079=839%:%
%:%2080=839%:%
%:%2081=840%:%
%:%2091=842%:%
%:%2093=844%:%
%:%2094=844%:%
%:%2095=845%:%
%:%2099=849%:%
%:%2102=850%:%
%:%2107=851%:%
%:%2108=851%:%
%:%2109=852%:%
%:%2110=853%:%
%:%2115=853%:%
%:%2120=854%:%
%:%2124=854%:%
%:%2125=854%:%
%:%2126=855%:%
%:%2127=855%:%
%:%2132=855%:%
%:%2137=856%:%
%:%2142=857%:%
%:%2143=857%:%
%:%2144=858%:%
%:%2145=859%:%
%:%2150=859%:%
%:%2155=860%:%
%:%2159=860%:%
%:%2160=860%:%
%:%2161=861%:%
%:%2162=861%:%
%:%2163=862%:%
%:%2164=862%:%
%:%2165=863%:%
%:%2166=863%:%
%:%2167=864%:%
%:%2168=864%:%
%:%2169=865%:%
%:%2170=865%:%
%:%2171=866%:%
%:%2172=866%:%
%:%2173=867%:%
%:%2174=867%:%
%:%2175=868%:%
%:%2176=868%:%
%:%2177=869%:%
%:%2178=869%:%
%:%2179=869%:%
%:%2180=870%:%
%:%2181=870%:%
%:%2182=871%:%
%:%2183=871%:%
%:%2184=872%:%
%:%2185=872%:%
%:%2186=872%:%
%:%2187=873%:%
%:%2188=873%:%
%:%2189=874%:%
%:%2190=874%:%
%:%2191=875%:%
%:%2192=875%:%
%:%2193=875%:%
%:%2194=876%:%
%:%2195=876%:%
%:%2196=877%:%
%:%2197=877%:%
%:%2198=877%:%
%:%2199=878%:%
%:%2200=878%:%
%:%2201=879%:%
%:%2207=879%:%
%:%2210=880%:%
%:%2211=881%:%
%:%2212=881%:%
%:%2213=882%:%
%:%2214=883%:%
%:%2221=884%:%
%:%2222=884%:%
%:%2223=885%:%
%:%2224=885%:%
%:%2225=886%:%
%:%2226=886%:%
%:%2227=887%:%
%:%2228=887%:%
%:%2229=888%:%
%:%2230=888%:%
%:%2231=889%:%
%:%2232=889%:%
%:%2233=890%:%
%:%2234=890%:%
%:%2235=891%:%
%:%2236=891%:%
%:%2237=892%:%
%:%2238=892%:%
%:%2239=893%:%
%:%2240=893%:%
%:%2241=894%:%
%:%2242=894%:%
%:%2243=895%:%
%:%2244=895%:%
%:%2245=896%:%
%:%2246=896%:%
%:%2247=897%:%
%:%2253=897%:%
%:%2256=898%:%
%:%2257=899%:%
%:%2258=899%:%
%:%2259=900%:%
%:%2260=901%:%
%:%2261=902%:%
%:%2262=903%:%
%:%2269=904%:%
%:%2270=904%:%
%:%2271=905%:%
%:%2272=905%:%
%:%2273=906%:%
%:%2274=906%:%
%:%2275=907%:%
%:%2276=907%:%
%:%2277=908%:%
%:%2278=908%:%
%:%2279=909%:%
%:%2280=909%:%
%:%2281=910%:%
%:%2282=910%:%
%:%2283=911%:%
%:%2284=911%:%
%:%2285=912%:%
%:%2286=912%:%
%:%2287=913%:%
%:%2288=913%:%
%:%2289=914%:%
%:%2290=914%:%
%:%2291=914%:%
%:%2292=915%:%
%:%2293=915%:%
%:%2294=916%:%
%:%2295=917%:%
%:%2296=918%:%
%:%2297=918%:%
%:%2298=919%:%
%:%2299=919%:%
%:%2300=919%:%
%:%2301=920%:%
%:%2302=920%:%
%:%2303=921%:%
%:%2304=921%:%
%:%2305=921%:%
%:%2306=922%:%
%:%2307=922%:%
%:%2308=923%:%
%:%2309=923%:%
%:%2310=924%:%
%:%2311=924%:%
%:%2312=924%:%
%:%2313=925%:%
%:%2314=925%:%
%:%2315=926%:%
%:%2316=926%:%
%:%2317=927%:%
%:%2318=927%:%
%:%2319=927%:%
%:%2320=928%:%
%:%2321=929%:%
%:%2322=930%:%
%:%2323=930%:%
%:%2324=930%:%
%:%2325=931%:%
%:%2326=931%:%
%:%2327=932%:%
%:%2328=932%:%
%:%2329=933%:%
%:%2335=933%:%
%:%2338=934%:%
%:%2339=935%:%
%:%2340=935%:%
%:%2341=936%:%
%:%2342=937%:%
%:%2343=938%:%
%:%2346=939%:%
%:%2350=939%:%
%:%2351=939%:%
%:%2352=940%:%
%:%2353=940%:%
%:%2354=941%:%
%:%2355=941%:%
%:%2356=942%:%
%:%2357=942%:%
%:%2358=943%:%
%:%2359=943%:%
%:%2360=944%:%
%:%2361=944%:%
%:%2362=945%:%
%:%2363=945%:%
%:%2364=946%:%
%:%2365=946%:%
%:%2366=947%:%
%:%2367=948%:%
%:%2368=949%:%
%:%2369=949%:%
%:%2370=950%:%
%:%2371=950%:%
%:%2372=951%:%
%:%2373=951%:%
%:%2374=952%:%
%:%2375=952%:%
%:%2376=953%:%
%:%2382=953%:%
%:%2385=954%:%
%:%2386=955%:%
%:%2387=955%:%
%:%2388=956%:%
%:%2389=957%:%
%:%2390=958%:%
%:%2391=959%:%
%:%2392=960%:%
%:%2395=961%:%
%:%2399=961%:%
%:%2400=961%:%
%:%2401=962%:%
%:%2402=962%:%
%:%2403=963%:%
%:%2404=963%:%
%:%2405=964%:%
%:%2406=964%:%
%:%2407=965%:%
%:%2408=965%:%
%:%2409=966%:%
%:%2410=966%:%
%:%2411=967%:%
%:%2412=967%:%
%:%2413=968%:%
%:%2414=968%:%
%:%2415=969%:%
%:%2416=970%:%
%:%2417=971%:%
%:%2418=971%:%
%:%2419=972%:%
%:%2420=973%:%
%:%2421=973%:%
%:%2422=974%:%
%:%2423=975%:%
%:%2424=976%:%
%:%2425=976%:%
%:%2426=977%:%
%:%2427=977%:%
%:%2428=977%:%
%:%2429=978%:%
%:%2431=980%:%
%:%2432=981%:%
%:%2433=981%:%
%:%2434=982%:%
%:%2435=982%:%
%:%2436=983%:%
%:%2437=983%:%
%:%2438=983%:%
%:%2439=984%:%
%:%2442=987%:%
%:%2443=988%:%
%:%2444=988%:%
%:%2445=989%:%
%:%2446=989%:%
%:%2447=990%:%
%:%2448=990%:%
%:%2449=990%:%
%:%2450=991%:%
%:%2452=993%:%
%:%2453=994%:%
%:%2454=994%:%
%:%2455=995%:%
%:%2456=995%:%
%:%2457=995%:%
%:%2458=996%:%
%:%2459=996%:%
%:%2460=997%:%
%:%2466=997%:%
%:%2469=998%:%
%:%2470=999%:%
%:%2471=1000%:%
%:%2472=1000%:%
%:%2473=1001%:%
%:%2474=1002%:%
%:%2475=1003%:%
%:%2476=1003%:%
%:%2477=1004%:%
%:%2478=1005%:%
%:%2479=1006%:%
%:%2486=1007%:%
%:%2487=1007%:%
%:%2488=1008%:%
%:%2489=1008%:%
%:%2490=1009%:%
%:%2491=1009%:%
%:%2492=1010%:%
%:%2493=1010%:%
%:%2494=1011%:%
%:%2495=1011%:%
%:%2496=1012%:%
%:%2497=1012%:%
%:%2498=1013%:%
%:%2499=1013%:%
%:%2500=1014%:%
%:%2501=1014%:%
%:%2502=1015%:%
%:%2508=1015%:%
%:%2511=1016%:%
%:%2512=1017%:%
%:%2513=1017%:%
%:%2514=1018%:%
%:%2515=1019%:%
%:%2516=1020%:%
%:%2517=1021%:%
%:%2518=1022%:%
%:%2525=1023%:%
%:%2526=1023%:%
%:%2527=1024%:%
%:%2528=1024%:%
%:%2529=1025%:%
%:%2530=1025%:%
%:%2531=1026%:%
%:%2532=1026%:%
%:%2533=1027%:%
%:%2534=1027%:%
%:%2535=1028%:%
%:%2536=1028%:%
%:%2537=1029%:%
%:%2538=1030%:%
%:%2539=1031%:%
%:%2540=1031%:%
%:%2541=1032%:%
%:%2542=1032%:%
%:%2543=1033%:%
%:%2544=1033%:%
%:%2545=1033%:%
%:%2546=1034%:%
%:%2547=1034%:%
%:%2548=1035%:%
%:%2549=1035%:%
%:%2550=1036%:%
%:%2551=1036%:%
%:%2552=1036%:%
%:%2553=1037%:%
%:%2554=1037%:%
%:%2555=1038%:%
%:%2565=1041%:%
%:%2566=1042%:%
%:%2568=1045%:%
%:%2569=1045%:%
%:%2570=1046%:%
%:%2571=1047%:%
%:%2572=1047%:%
%:%2573=1048%:%
%:%2574=1049%:%
%:%2575=1050%:%
%:%2576=1051%:%
%:%2577=1052%:%
%:%2584=1053%:%
%:%2585=1053%:%
%:%2586=1054%:%
%:%2587=1054%:%
%:%2588=1055%:%
%:%2589=1055%:%
%:%2590=1056%:%
%:%2591=1056%:%
%:%2592=1057%:%
%:%2593=1057%:%
%:%2594=1058%:%
%:%2595=1058%:%
%:%2596=1059%:%
%:%2597=1059%:%
%:%2598=1060%:%
%:%2599=1060%:%
%:%2600=1061%:%
%:%2601=1061%:%
%:%2602=1062%:%
%:%2603=1062%:%
%:%2604=1063%:%
%:%2605=1063%:%
%:%2606=1064%:%
%:%2607=1064%:%
%:%2608=1065%:%
%:%2609=1065%:%
%:%2610=1066%:%
%:%2611=1066%:%
%:%2612=1067%:%
%:%2613=1067%:%
%:%2614=1068%:%
%:%2615=1068%:%
%:%2616=1069%:%
%:%2617=1069%:%
%:%2618=1070%:%
%:%2619=1070%:%
%:%2620=1071%:%
%:%2621=1071%:%
%:%2622=1072%:%
%:%2623=1072%:%
%:%2624=1073%:%
%:%2625=1073%:%
%:%2626=1074%:%
%:%2627=1074%:%
%:%2628=1075%:%
%:%2629=1075%:%
%:%2630=1076%:%
%:%2631=1076%:%
%:%2632=1077%:%
%:%2633=1077%:%
%:%2634=1078%:%
%:%2635=1078%:%
%:%2636=1079%:%
%:%2637=1079%:%
%:%2638=1080%:%
%:%2639=1080%:%
%:%2640=1081%:%
%:%2641=1081%:%
%:%2642=1082%:%
%:%2643=1082%:%
%:%2644=1083%:%
%:%2645=1083%:%
%:%2646=1084%:%
%:%2647=1084%:%
%:%2648=1085%:%
%:%2649=1085%:%
%:%2650=1086%:%
%:%2651=1086%:%
%:%2652=1087%:%
%:%2653=1087%:%
%:%2654=1088%:%
%:%2655=1088%:%
%:%2656=1089%:%
%:%2662=1089%:%
%:%2665=1090%:%
%:%2674=1093%:%
%:%2675=1094%:%
%:%2676=1095%:%
%:%2677=1096%:%
%:%2679=1099%:%
%:%2680=1099%:%
%:%2681=1100%:%
%:%2682=1101%:%
%:%2683=1102%:%
%:%2684=1103%:%
%:%2685=1104%:%
%:%2686=1105%:%
%:%2687=1106%:%
%:%2688=1107%:%
%:%2689=1108%:%
%:%2690=1109%:%
%:%2691=1110%:%
%:%2692=1111%:%
%:%2693=1112%:%
%:%2694=1113%:%
%:%2695=1114%:%
%:%2696=1115%:%
%:%2697=1116%:%
%:%2698=1117%:%
%:%2699=1117%:%
%:%2700=1118%:%
%:%2701=1119%:%
%:%2702=1120%:%
%:%2703=1120%:%
%:%2704=1121%:%
%:%2705=1122%:%
%:%2706=1123%:%
%:%2707=1123%:%
%:%2708=1124%:%
%:%2709=1125%:%
%:%2710=1126%:%
%:%2711=1126%:%
%:%2712=1127%:%
%:%2713=1128%:%
%:%2720=1128%:%
%:%2723=1129%:%
%:%2727=1129%:%
%:%2728=1129%:%
%:%2729=1130%:%
%:%2730=1130%:%
%:%2737=1130%:%
%:%2740=1131%:%
%:%2745=1132%:%
%:%2746=1132%:%
%:%2747=1133%:%
%:%2748=1134%:%
%:%2755=1134%:%
%:%2758=1135%:%
%:%2762=1135%:%
%:%2763=1135%:%
%:%2764=1136%:%
%:%2765=1136%:%
%:%2772=1136%:%
%:%2775=1137%:%
%:%2780=1138%:%
%:%2781=1138%:%
%:%2782=1139%:%
%:%2783=1140%:%
%:%2790=1140%:%
%:%2793=1141%:%
%:%2797=1141%:%
%:%2798=1141%:%
%:%2799=1142%:%
%:%2800=1142%:%
%:%2807=1142%:%
%:%2810=1143%:%
%:%2815=1144%:%
%:%2816=1144%:%
%:%2817=1145%:%
%:%2818=1146%:%
%:%2825=1146%:%
%:%2828=1147%:%
%:%2832=1147%:%
%:%2833=1147%:%
%:%2834=1148%:%
%:%2835=1148%:%
%:%2842=1148%:%
%:%2845=1149%:%
%:%2850=1150%:%
%:%2851=1150%:%
%:%2852=1151%:%
%:%2853=1152%:%
%:%2860=1152%:%
%:%2863=1153%:%
%:%2867=1153%:%
%:%2868=1153%:%
%:%2869=1154%:%
%:%2870=1154%:%
%:%2871=1155%:%
%:%2872=1155%:%
%:%2873=1156%:%
%:%2874=1156%:%
%:%2875=1157%:%
%:%2876=1157%:%
%:%2877=1158%:%
%:%2878=1158%:%
%:%2879=1159%:%
%:%2880=1159%:%
%:%2881=1160%:%
%:%2882=1160%:%
%:%2883=1161%:%
%:%2884=1161%:%
%:%2885=1162%:%
%:%2886=1162%:%
%:%2887=1162%:%
%:%2888=1163%:%
%:%2889=1163%:%
%:%2890=1164%:%
%:%2891=1164%:%
%:%2892=1165%:%
%:%2893=1165%:%
%:%2894=1165%:%
%:%2895=1166%:%
%:%2896=1166%:%
%:%2897=1167%:%
%:%2898=1167%:%
%:%2899=1168%:%
%:%2900=1168%:%
%:%2901=1168%:%
%:%2902=1169%:%
%:%2903=1169%:%
%:%2904=1170%:%
%:%2905=1170%:%
%:%2906=1170%:%
%:%2907=1171%:%
%:%2908=1171%:%
%:%2909=1172%:%
%:%2917=1172%:%
%:%2920=1173%:%
%:%2925=1174%:%
%:%2926=1174%:%
%:%2927=1175%:%
%:%2928=1176%:%
%:%2935=1176%:%
%:%2938=1177%:%
%:%2942=1177%:%
%:%2943=1177%:%
%:%2944=1178%:%
%:%2945=1178%:%
%:%2952=1178%:%
%:%2955=1179%:%
%:%2960=1180%:%
%:%2961=1180%:%
%:%2962=1181%:%
%:%2963=1182%:%
%:%2970=1182%:%
%:%2973=1183%:%
%:%2977=1183%:%
%:%2978=1183%:%
%:%2979=1184%:%
%:%2980=1184%:%
%:%2987=1184%:%
%:%2990=1185%:%
%:%2995=1186%:%
%:%2996=1186%:%
%:%2997=1187%:%
%:%3004=1187%:%
%:%3007=1188%:%
%:%3011=1188%:%
%:%3012=1188%:%
%:%3013=1189%:%
%:%3014=1189%:%
%:%3021=1189%:%
%:%3024=1190%:%
%:%3029=1191%:%
%:%3030=1191%:%
%:%3031=1192%:%
%:%3032=1193%:%
%:%3039=1193%:%
%:%3042=1194%:%
%:%3046=1194%:%
%:%3047=1194%:%
%:%3048=1195%:%
%:%3049=1195%:%
%:%3050=1196%:%
%:%3051=1196%:%
%:%3052=1197%:%
%:%3053=1197%:%
%:%3054=1198%:%
%:%3055=1198%:%
%:%3056=1199%:%
%:%3057=1199%:%
%:%3058=1200%:%
%:%3059=1200%:%
%:%3060=1201%:%
%:%3061=1201%:%
%:%3062=1202%:%
%:%3063=1202%:%
%:%3064=1203%:%
%:%3065=1203%:%
%:%3066=1203%:%
%:%3067=1204%:%
%:%3068=1204%:%
%:%3069=1205%:%
%:%3070=1205%:%
%:%3071=1206%:%
%:%3072=1206%:%
%:%3073=1206%:%
%:%3074=1207%:%
%:%3075=1207%:%
%:%3076=1208%:%
%:%3077=1208%:%
%:%3078=1209%:%
%:%3079=1209%:%
%:%3080=1209%:%
%:%3081=1210%:%
%:%3082=1210%:%
%:%3083=1211%:%
%:%3084=1211%:%
%:%3085=1211%:%
%:%3086=1212%:%
%:%3087=1212%:%
%:%3088=1213%:%
%:%3096=1213%:%
%:%3099=1214%:%
%:%3104=1215%:%
%:%3105=1215%:%
%:%3106=1216%:%
%:%3107=1217%:%
%:%3114=1217%:%
%:%3117=1218%:%
%:%3121=1218%:%
%:%3122=1218%:%
%:%3123=1219%:%
%:%3124=1219%:%
%:%3131=1219%:%
%:%3134=1220%:%
%:%3139=1221%:%
%:%3147=1221%:%
%:%3150=1222%:%
%:%3155=1223%:%