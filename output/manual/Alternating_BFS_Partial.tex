%
\begin{isabellebody}%
\setisabellecontext{Alternating{\isacharunderscore}{\kern0pt}BFS{\isacharunderscore}{\kern0pt}Partial}%
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Implementation of the algorithm%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
\isacommand{theory}\isamarkupfalse%
\ Alternating{\isacharunderscore}{\kern0pt}BFS{\isacharunderscore}{\kern0pt}Partial\isanewline
\ \ \isakeyword{imports}\isanewline
\ \ \ \ Alternating{\isacharunderscore}{\kern0pt}BFS\isanewline
\isakeyword{begin}%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\begin{isamarkuptext}%
As is the case for BFS, we verified only partial termination and correctness of loop
\isa{alt{\isacharunderscore}{\kern0pt}bfs{\isachardot}{\kern0pt}alt{\isacharunderscore}{\kern0pt}loop}, since we assumed an appropriate input as specified via locale
\isa{alt{\isacharunderscore}{\kern0pt}bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input}. To obtain executable code, we make this explicit and use a partial
function.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{partial{\isacharunderscore}{\kern0pt}function}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ alt{\isacharunderscore}{\kern0pt}bfs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}tailrec{\isacharparenright}{\kern0pt}\ alt{\isacharunderscore}{\kern0pt}loop{\isacharunderscore}{\kern0pt}partial\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}alt{\isacharunderscore}{\kern0pt}loop{\isacharunderscore}{\kern0pt}partial\ G{\isadigit{1}}\ G{\isadigit{2}}\ src\ s\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ {\isacharparenleft}{\kern0pt}if\ {\isasymnot}\ DONE\ s\isanewline
\ \ \ \ then\ let\isanewline
\ \ \ \ \ \ \ \ \ \ u\ {\isacharequal}{\kern0pt}\ Q{\isacharunderscore}{\kern0pt}head\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}{\isacharsemicolon}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ q\ {\isacharequal}{\kern0pt}\ Q{\isacharunderscore}{\kern0pt}tail\ {\isacharparenleft}{\kern0pt}queue\ s{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ in\ alt{\isacharunderscore}{\kern0pt}loop{\isacharunderscore}{\kern0pt}partial\ G{\isadigit{1}}\ G{\isadigit{2}}\ src\ {\isacharparenleft}{\kern0pt}List{\isachardot}{\kern0pt}fold\ {\isacharparenleft}{\kern0pt}traverse{\isacharunderscore}{\kern0pt}edge\ src\ u{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}adjacency\ G{\isadigit{1}}\ G{\isadigit{2}}\ s\ u{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}s{\isasymlparr}queue\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ q{\isasymrparr}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ else\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ alt{\isacharunderscore}{\kern0pt}bfs{\isacharparenright}{\kern0pt}\ alt{\isacharunderscore}{\kern0pt}bfs{\isacharunderscore}{\kern0pt}partial\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}n\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}n\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}m{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}alt{\isacharunderscore}{\kern0pt}bfs{\isacharunderscore}{\kern0pt}partial\ G{\isadigit{1}}\ G{\isadigit{2}}\ src\ {\isasymequiv}\ parent\ {\isacharparenleft}{\kern0pt}alt{\isacharunderscore}{\kern0pt}loop{\isacharunderscore}{\kern0pt}partial\ G{\isadigit{1}}\ G{\isadigit{2}}\ src\ {\isacharparenleft}{\kern0pt}init\ src{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ alt{\isacharunderscore}{\kern0pt}bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ alt{\isacharunderscore}{\kern0pt}loop{\isacharunderscore}{\kern0pt}partial{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}alt{\isacharunderscore}{\kern0pt}loop{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}alt{\isacharunderscore}{\kern0pt}bfs{\isacharunderscore}{\kern0pt}invar{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ s{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}alt{\isacharunderscore}{\kern0pt}loop{\isacharunderscore}{\kern0pt}partial\ G{\isadigit{1}}\ G{\isadigit{2}}\ src\ s\ {\isacharequal}{\kern0pt}\ alt{\isacharunderscore}{\kern0pt}loop\ G{\isadigit{1}}\ G{\isadigit{2}}\ src\ s{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ rule{\isacharcolon}{\kern0pt}\ alt{\isacharunderscore}{\kern0pt}bfs{\isacharunderscore}{\kern0pt}induct{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ G{\isadigit{1}}\ G{\isadigit{2}}\ src\ s{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}DONE\ s{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{1}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ alt{\isacharunderscore}{\kern0pt}loop{\isacharunderscore}{\kern0pt}partial{\isachardot}{\kern0pt}simps\ alt{\isacharunderscore}{\kern0pt}loop{\isacharunderscore}{\kern0pt}psimps{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}alt{\isacharunderscore}{\kern0pt}loop{\isacharunderscore}{\kern0pt}partial\ G{\isadigit{1}}\ G{\isadigit{2}}\ src\ s\ {\isacharequal}{\kern0pt}\ alt{\isacharunderscore}{\kern0pt}loop{\isacharunderscore}{\kern0pt}partial\ G{\isadigit{1}}\ G{\isadigit{2}}\ src\ {\isacharparenleft}{\kern0pt}alt{\isacharunderscore}{\kern0pt}fold\ G{\isadigit{1}}\ G{\isadigit{2}}\ src\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ alt{\isacharunderscore}{\kern0pt}loop{\isacharunderscore}{\kern0pt}partial{\isachardot}{\kern0pt}simps{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ alt{\isacharunderscore}{\kern0pt}loop\ G{\isadigit{1}}\ G{\isadigit{2}}\ src\ {\isacharparenleft}{\kern0pt}alt{\isacharunderscore}{\kern0pt}fold\ G{\isadigit{1}}\ G{\isadigit{2}}\ src\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ False\ {\isachardoublequoteopen}{\isadigit{1}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ alt{\isacharunderscore}{\kern0pt}bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isacharprime}{\kern0pt}I\ alt{\isacharunderscore}{\kern0pt}bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}DONE{\isachardot}{\kern0pt}alt{\isacharunderscore}{\kern0pt}bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}alt{\isacharunderscore}{\kern0pt}fold\ {\isachardoublequoteopen}{\isadigit{1}}{\isachardot}{\kern0pt}hyps{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ alt{\isacharunderscore}{\kern0pt}loop\ G{\isadigit{1}}\ G{\isadigit{2}}\ src\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{1}}{\isachardot}{\kern0pt}prems{\isachardoublequoteclose}\ False\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ alt{\isacharunderscore}{\kern0pt}loop{\isacharunderscore}{\kern0pt}psimps{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ alt{\isacharunderscore}{\kern0pt}bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ alt{\isacharunderscore}{\kern0pt}bfs{\isacharunderscore}{\kern0pt}partial{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}alt{\isacharunderscore}{\kern0pt}bfs{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}alt{\isacharunderscore}{\kern0pt}bfs{\isacharunderscore}{\kern0pt}partial\ G{\isadigit{1}}\ G{\isadigit{2}}\ src\ {\isacharequal}{\kern0pt}\ alt{\isacharunderscore}{\kern0pt}bfs\ G{\isadigit{1}}\ G{\isadigit{2}}\ src{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ alt{\isacharunderscore}{\kern0pt}bfs{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}init\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ alt{\isacharunderscore}{\kern0pt}bfs{\isacharunderscore}{\kern0pt}partial{\isacharunderscore}{\kern0pt}def\ alt{\isacharunderscore}{\kern0pt}bfs{\isacharunderscore}{\kern0pt}def\ alt{\isacharunderscore}{\kern0pt}loop{\isacharunderscore}{\kern0pt}partial{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}alt{\isacharunderscore}{\kern0pt}loop{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ alt{\isacharunderscore}{\kern0pt}bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharparenright}{\kern0pt}\ alt{\isacharunderscore}{\kern0pt}bfs{\isacharunderscore}{\kern0pt}partial{\isacharunderscore}{\kern0pt}correct{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}shortest{\isacharunderscore}{\kern0pt}alt{\isacharunderscore}{\kern0pt}path{\isacharunderscore}{\kern0pt}Map\ P{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ G\ src\ {\isacharparenleft}{\kern0pt}alt{\isacharunderscore}{\kern0pt}bfs{\isacharunderscore}{\kern0pt}partial\ G{\isadigit{1}}\ G{\isadigit{2}}\ src{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ alt{\isacharunderscore}{\kern0pt}bfs{\isacharunderscore}{\kern0pt}correct\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ alt{\isacharunderscore}{\kern0pt}bfs{\isacharunderscore}{\kern0pt}partial{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}alt{\isacharunderscore}{\kern0pt}bfs{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{corollary}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ alt{\isacharunderscore}{\kern0pt}bfs{\isacharparenright}{\kern0pt}\ alt{\isacharunderscore}{\kern0pt}bfs{\isacharunderscore}{\kern0pt}partial{\isacharunderscore}{\kern0pt}correct{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}alt{\isacharunderscore}{\kern0pt}bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isacharprime}{\kern0pt}\ G{\isadigit{1}}\ G{\isadigit{2}}\ src{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}shortest{\isacharunderscore}{\kern0pt}alt{\isacharunderscore}{\kern0pt}path{\isacharunderscore}{\kern0pt}Map\ {\isacharparenleft}{\kern0pt}{\isasymlambda}e{\isachardot}{\kern0pt}\ e\ {\isasymin}\ G{\isachardot}{\kern0pt}E\ G{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}G{\isachardot}{\kern0pt}union\ G{\isadigit{1}}\ G{\isadigit{2}}{\isacharparenright}{\kern0pt}\ src\ {\isacharparenleft}{\kern0pt}alt{\isacharunderscore}{\kern0pt}bfs{\isacharunderscore}{\kern0pt}partial\ G{\isadigit{1}}\ G{\isadigit{2}}\ src{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ alt{\isacharunderscore}{\kern0pt}bfs{\isacharunderscore}{\kern0pt}valid{\isacharunderscore}{\kern0pt}input{\isachardot}{\kern0pt}alt{\isacharunderscore}{\kern0pt}bfs{\isacharunderscore}{\kern0pt}partial{\isacharunderscore}{\kern0pt}correct{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadelimtheory
\isanewline
%
\endisadelimtheory
%
\isatagtheory
\isacommand{end}\isamarkupfalse%
%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\end{isabellebody}%
\endinput
%:%file=~/Documents/1_projects/2022_idp/thys/Alternating_BFS/Alternating_BFS_Partial.thy%:%
%:%11=1%:%
%:%27=3%:%
%:%28=3%:%
%:%29=4%:%
%:%30=5%:%
%:%31=6%:%
%:%40=9%:%
%:%41=10%:%
%:%42=11%:%
%:%43=12%:%
%:%45=15%:%
%:%46=15%:%
%:%47=16%:%
%:%53=22%:%
%:%54=23%:%
%:%55=24%:%
%:%56=24%:%
%:%57=25%:%
%:%58=26%:%
%:%59=27%:%
%:%60=27%:%
%:%61=28%:%
%:%62=29%:%
%:%65=30%:%
%:%69=30%:%
%:%70=30%:%
%:%71=31%:%
%:%72=31%:%
%:%73=32%:%
%:%74=32%:%
%:%75=33%:%
%:%76=33%:%
%:%77=34%:%
%:%78=34%:%
%:%79=35%:%
%:%80=35%:%
%:%81=36%:%
%:%82=36%:%
%:%83=37%:%
%:%84=37%:%
%:%85=38%:%
%:%86=38%:%
%:%87=39%:%
%:%88=39%:%
%:%89=40%:%
%:%90=40%:%
%:%91=41%:%
%:%92=41%:%
%:%93=42%:%
%:%94=42%:%
%:%95=43%:%
%:%96=43%:%
%:%97=43%:%
%:%98=44%:%
%:%99=44%:%
%:%100=45%:%
%:%101=45%:%
%:%102=46%:%
%:%103=46%:%
%:%104=46%:%
%:%105=47%:%
%:%106=47%:%
%:%107=48%:%
%:%108=48%:%
%:%109=49%:%
%:%110=49%:%
%:%111=49%:%
%:%112=50%:%
%:%113=50%:%
%:%114=51%:%
%:%115=51%:%
%:%116=52%:%
%:%122=52%:%
%:%125=53%:%
%:%126=54%:%
%:%127=54%:%
%:%128=55%:%
%:%131=56%:%
%:%135=56%:%
%:%136=56%:%
%:%137=57%:%
%:%138=57%:%
%:%143=57%:%
%:%146=58%:%
%:%147=59%:%
%:%148=59%:%
%:%149=60%:%
%:%152=61%:%
%:%156=61%:%
%:%157=61%:%
%:%158=62%:%
%:%159=62%:%
%:%164=62%:%
%:%167=63%:%
%:%168=64%:%
%:%169=64%:%
%:%170=65%:%
%:%171=66%:%
%:%174=67%:%
%:%178=67%:%
%:%179=67%:%
%:%180=68%:%
%:%181=68%:%
%:%186=68%:%
%:%191=69%:%
%:%196=70%:%